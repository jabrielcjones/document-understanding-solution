{
  "Description": "MLSLD-S0001. Document Understanding Solution. This stack deploys the backend for DUS",
  "Resources": {
    "undefinedstacklogss3bucket8l8umwbawvs2siddyqggfjCFDB42EC": {
      "Type": "AWS::S3::Bucket",
      "Properties": {
        "AccessControl": "LogDeliveryWrite",
        "BucketEncryption": {
          "ServerSideEncryptionConfiguration": [
            {
              "ServerSideEncryptionByDefault": {
                "SSEAlgorithm": "AES256"
              }
            }
          ]
        },
        "PublicAccessBlockConfiguration": {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true
        }
      },
      "UpdateReplacePolicy": "Retain",
      "DeletionPolicy": "Retain",
      "Metadata": {
        "cfn_nag": {
          "rules_to_suppress": [
            {
              "id": "W51",
              "reason": "Default usage plan can be used for this API"
            },
            {
              "id": "W35",
              "reason": "This is a logs bucket, no logging desired."
            }
          ]
        }
      }
    },
    "undefinedstackdocumentss3bucket8l8umwbawvs2siddyqggfjBBAF2406": {
      "Type": "AWS::S3::Bucket",
      "Properties": {
        "BucketEncryption": {
          "ServerSideEncryptionConfiguration": [
            {
              "ServerSideEncryptionByDefault": {
                "SSEAlgorithm": "AES256"
              }
            }
          ]
        },
        "CorsConfiguration": {
          "CorsRules": [
            {
              "AllowedHeaders": [
                "*"
              ],
              "AllowedMethods": [
                "HEAD",
                "GET",
                "PUT",
                "POST",
                "DELETE"
              ],
              "AllowedOrigins": [
                "*"
              ],
              "ExposedHeaders": [
                "ETag"
              ],
              "MaxAge": 3000
            }
          ]
        },
        "LoggingConfiguration": {
          "DestinationBucketName": {
            "Ref": "undefinedstacklogss3bucket8l8umwbawvs2siddyqggfjCFDB42EC"
          },
          "LogFilePrefix": "document-s3-bucket"
        },
        "PublicAccessBlockConfiguration": {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true
        }
      },
      "UpdateReplacePolicy": "Retain",
      "DeletionPolicy": "Retain",
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-documentss3bucket-8l8umwbawvs2siddyqggfj/Resource"
      }
    },
    "undefinedstackdocumentss3bucket8l8umwbawvs2siddyqggfjPolicy6D93C42C": {
      "Type": "AWS::S3::BucketPolicy",
      "Properties": {
        "Bucket": {
          "Ref": "undefinedstackdocumentss3bucket8l8umwbawvs2siddyqggfjBBAF2406"
        },
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "s3:GetObject*",
                "s3:List*",
                "s3:PutObject"
              ],
              "Effect": "Allow",
              "Principal": {
                "CanonicalUser": {
                  "Fn::GetAtt": [
                    "cdktextractoai541398BF",
                    "S3CanonicalUserId"
                  ]
                }
              },
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "undefinedstackdocumentss3bucket8l8umwbawvs2siddyqggfjBBAF2406",
                    "Arn"
                  ]
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "undefinedstackdocumentss3bucket8l8umwbawvs2siddyqggfjBBAF2406",
                          "Arn"
                        ]
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            }
          ],
          "Version": "2012-10-17"
        }
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-documentss3bucket-8l8umwbawvs2siddyqggfj/Policy/Resource"
      }
    },
    "undefinedstacksampless3bucket8l8umwbawvs2siddyqggfj4C1E76F8": {
      "Type": "AWS::S3::Bucket",
      "Properties": {
        "BucketEncryption": {
          "ServerSideEncryptionConfiguration": [
            {
              "ServerSideEncryptionByDefault": {
                "SSEAlgorithm": "AES256"
              }
            }
          ]
        },
        "CorsConfiguration": {
          "CorsRules": [
            {
              "AllowedHeaders": [
                "*"
              ],
              "AllowedMethods": [
                "HEAD",
                "GET",
                "PUT",
                "POST",
                "DELETE"
              ],
              "AllowedOrigins": [
                "*"
              ],
              "ExposedHeaders": [
                "ETag"
              ],
              "MaxAge": 3000
            }
          ]
        },
        "LoggingConfiguration": {
          "DestinationBucketName": {
            "Ref": "undefinedstacklogss3bucket8l8umwbawvs2siddyqggfjCFDB42EC"
          },
          "LogFilePrefix": "sample-s3-bucket"
        },
        "PublicAccessBlockConfiguration": {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true
        }
      },
      "UpdateReplacePolicy": "Retain",
      "DeletionPolicy": "Retain",
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-sampless3bucket-8l8umwbawvs2siddyqggfj/Resource"
      }
    },
    "undefinedstacksampless3bucket8l8umwbawvs2siddyqggfjPolicyD059969B": {
      "Type": "AWS::S3::BucketPolicy",
      "Properties": {
        "Bucket": {
          "Ref": "undefinedstacksampless3bucket8l8umwbawvs2siddyqggfj4C1E76F8"
        },
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "s3:GetObject*",
                "s3:List*"
              ],
              "Effect": "Allow",
              "Principal": {
                "CanonicalUser": {
                  "Fn::GetAtt": [
                    "cdktextractoai541398BF",
                    "S3CanonicalUserId"
                  ]
                }
              },
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "undefinedstacksampless3bucket8l8umwbawvs2siddyqggfj4C1E76F8",
                    "Arn"
                  ]
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "undefinedstacksampless3bucket8l8umwbawvs2siddyqggfj4C1E76F8",
                          "Arn"
                        ]
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            }
          ],
          "Version": "2012-10-17"
        }
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-sampless3bucket-8l8umwbawvs2siddyqggfj/Policy/Resource"
      }
    },
    "undefinedstackbulkprocessingbucket8l8umwbawvs2siddyqggfjF78518CA": {
      "Type": "AWS::S3::Bucket",
      "Properties": {
        "BucketEncryption": {
          "ServerSideEncryptionConfiguration": [
            {
              "ServerSideEncryptionByDefault": {
                "SSEAlgorithm": "AES256"
              }
            }
          ]
        },
        "CorsConfiguration": {
          "CorsRules": [
            {
              "AllowedHeaders": [
                "*"
              ],
              "AllowedMethods": [
                "HEAD",
                "GET",
                "PUT",
                "POST",
                "DELETE"
              ],
              "AllowedOrigins": [
                "*"
              ],
              "ExposedHeaders": [
                "ETag"
              ],
              "MaxAge": 3000
            }
          ]
        },
        "LifecycleConfiguration": {
          "Rules": [
            {
              "ExpirationInDays": 3,
              "Status": "Enabled"
            }
          ]
        },
        "LoggingConfiguration": {
          "DestinationBucketName": {
            "Ref": "undefinedstacklogss3bucket8l8umwbawvs2siddyqggfjCFDB42EC"
          },
          "LogFilePrefix": "bulk-processing-s3-bucket"
        },
        "PublicAccessBlockConfiguration": {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true
        }
      },
      "UpdateReplacePolicy": "Retain",
      "DeletionPolicy": "Retain",
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-bulkprocessingbucket-8l8umwbawvs2siddyqggfj/Resource"
      }
    },
    "undefinedstackbulkprocessingbucket8l8umwbawvs2siddyqggfjNotifications85F5D1DD": {
      "Type": "Custom::S3BucketNotifications",
      "Properties": {
        "ServiceToken": {
          "Fn::GetAtt": [
            "BucketNotificationsHandler050a0587b7544547bf325f094a3db8347ECC3691",
            "Arn"
          ]
        },
        "BucketName": {
          "Ref": "undefinedstackbulkprocessingbucket8l8umwbawvs2siddyqggfjF78518CA"
        },
        "NotificationConfiguration": {
          "QueueConfigurations": [
            {
              "Events": [
                "s3:ObjectCreated:Put"
              ],
              "Filter": {
                "Key": {
                  "FilterRules": [
                    {
                      "Name": "prefix",
                      "Value": "documentDrop/"
                    }
                  ]
                }
              },
              "QueueArn": {
                "Fn::GetAtt": [
                  "undefinedstackdocumentbulkprocessingqueue8l8umwbawvs2siddyqggfjFAA78763",
                  "Arn"
                ]
              }
            },
            {
              "Events": [
                "s3:ObjectCreated:Copy"
              ],
              "Filter": {
                "Key": {
                  "FilterRules": [
                    {
                      "Name": "prefix",
                      "Value": "documentDrop/"
                    }
                  ]
                }
              },
              "QueueArn": {
                "Fn::GetAtt": [
                  "undefinedstackdocumentbulkprocessingqueue8l8umwbawvs2siddyqggfjFAA78763",
                  "Arn"
                ]
              }
            }
          ]
        }
      },
      "DependsOn": [
        "undefinedstackdocumentbulkprocessingqueue8l8umwbawvs2siddyqggfjPolicyC2C1015F",
        "undefinedstackdocumentbulkprocessingqueue8l8umwbawvs2siddyqggfjFAA78763"
      ],
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-bulkprocessingbucket-8l8umwbawvs2siddyqggfj/Notifications/Resource"
      }
    },
    "undefinedstackclientapps3bucket8l8umwbawvs2siddyqggfjE58ED149": {
      "Type": "AWS::S3::Bucket",
      "Properties": {
        "BucketEncryption": {
          "ServerSideEncryptionConfiguration": [
            {
              "ServerSideEncryptionByDefault": {
                "SSEAlgorithm": "AES256"
              }
            }
          ]
        },
        "CorsConfiguration": {
          "CorsRules": [
            {
              "AllowedHeaders": [
                "*"
              ],
              "AllowedMethods": [
                "HEAD",
                "GET",
                "PUT",
                "POST",
                "DELETE"
              ],
              "AllowedOrigins": [
                "*"
              ],
              "ExposedHeaders": [
                "ETag"
              ],
              "MaxAge": 3000
            }
          ]
        },
        "LoggingConfiguration": {
          "DestinationBucketName": {
            "Ref": "undefinedstacklogss3bucket8l8umwbawvs2siddyqggfjCFDB42EC"
          },
          "LogFilePrefix": "clientapps3bucket"
        },
        "PublicAccessBlockConfiguration": {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true
        },
        "WebsiteConfiguration": {
          "IndexDocument": "index.html"
        }
      },
      "UpdateReplacePolicy": "Retain",
      "DeletionPolicy": "Retain",
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-clientapps3bucket-8l8umwbawvs2siddyqggfj/Resource"
      }
    },
    "undefinedstackclientapps3bucket8l8umwbawvs2siddyqggfjPolicyA55527E2": {
      "Type": "AWS::S3::BucketPolicy",
      "Properties": {
        "Bucket": {
          "Ref": "undefinedstackclientapps3bucket8l8umwbawvs2siddyqggfjE58ED149"
        },
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*"
              ],
              "Effect": "Allow",
              "Principal": {
                "CanonicalUser": {
                  "Fn::GetAtt": [
                    "cdktextractoai541398BF",
                    "S3CanonicalUserId"
                  ]
                }
              },
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "undefinedstackclientapps3bucket8l8umwbawvs2siddyqggfjE58ED149",
                    "Arn"
                  ]
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "undefinedstackclientapps3bucket8l8umwbawvs2siddyqggfjE58ED149",
                          "Arn"
                        ]
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            },
            {
              "Action": [
                "s3:GetObject*",
                "s3:List*"
              ],
              "Effect": "Allow",
              "Principal": {
                "CanonicalUser": {
                  "Fn::GetAtt": [
                    "cdktextractoai541398BF",
                    "S3CanonicalUserId"
                  ]
                }
              },
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "undefinedstackclientapps3bucket8l8umwbawvs2siddyqggfjE58ED149",
                    "Arn"
                  ]
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "undefinedstackclientapps3bucket8l8umwbawvs2siddyqggfjE58ED149",
                          "Arn"
                        ]
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            }
          ],
          "Version": "2012-10-17"
        }
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-clientapps3bucket-8l8umwbawvs2siddyqggfj/Policy/Resource"
      }
    },
    "cdktextractoai541398BF": {
      "Type": "AWS::CloudFront::CloudFrontOriginAccessIdentity",
      "Properties": {
        "CloudFrontOriginAccessIdentityConfig": {
          "Comment": "Origin Access Identity for Textract web stack bucket cloudfront distribution"
        }
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/cdk-textract-oai/Resource"
      }
    },
    "cdktextractcfrontCFDistribution2BB270FB": {
      "Type": "AWS::CloudFront::Distribution",
      "Properties": {
        "DistributionConfig": {
          "CustomErrorResponses": [
            {
              "ErrorCachingMinTTL": 5,
              "ErrorCode": 404,
              "ResponseCode": 200,
              "ResponsePagePath": "/index.html"
            }
          ],
          "DefaultCacheBehavior": {
            "AllowedMethods": [
              "GET",
              "HEAD"
            ],
            "CachedMethods": [
              "GET",
              "HEAD"
            ],
            "Compress": true,
            "ForwardedValues": {
              "Cookies": {
                "Forward": "none"
              },
              "QueryString": false
            },
            "TargetOriginId": "origin1",
            "ViewerProtocolPolicy": "redirect-to-https"
          },
          "DefaultRootObject": "index.html",
          "Enabled": true,
          "HttpVersion": "http2",
          "IPV6Enabled": true,
          "Logging": {
            "Bucket": {
              "Fn::GetAtt": [
                "undefinedstacklogss3bucket8l8umwbawvs2siddyqggfjCFDB42EC",
                "RegionalDomainName"
              ]
            },
            "IncludeCookies": true,
            "Prefix": "cloudfrontDistributionLogs"
          },
          "Origins": [
            {
              "DomainName": {
                "Fn::GetAtt": [
                  "undefinedstackclientapps3bucket8l8umwbawvs2siddyqggfjE58ED149",
                  "RegionalDomainName"
                ]
              },
              "Id": "origin1",
              "S3OriginConfig": {
                "OriginAccessIdentity": {
                  "Fn::Join": [
                    "",
                    [
                      "origin-access-identity/cloudfront/",
                      {
                        "Ref": "cdktextractoai541398BF"
                      }
                    ]
                  ]
                }
              }
            }
          ],
          "PriceClass": "PriceClass_100",
          "ViewerCertificate": {
            "CloudFrontDefaultCertificate": true
          }
        }
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/cdk-textract-cfront/CFDistribution"
      }
    },
    "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjA9857165": {
      "Type": "AWS::EC2::VPC",
      "Properties": {
        "CidrBlock": "172.62.0.0/16",
        "EnableDnsHostnames": true,
        "EnableDnsSupport": true,
        "InstanceTenancy": "default",
        "Tags": [
          {
            "Key": "Name",
            "Value": "undefinedStack/undefinedstack-elasticsearchvpc-8l8umwbawvs2siddyqggfj"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-elasticsearchvpc-8l8umwbawvs2siddyqggfj/Resource"
      }
    },
    "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjPublicSubnet1SubnetB5E926F3": {
      "Type": "AWS::EC2::Subnet",
      "Properties": {
        "CidrBlock": "172.62.0.0/18",
        "VpcId": {
          "Ref": "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjA9857165"
        },
        "AvailabilityZone": {
          "Fn::Select": [
            0,
            {
              "Fn::GetAZs": ""
            }
          ]
        },
        "MapPublicIpOnLaunch": true,
        "Tags": [
          {
            "Key": "aws-cdk:subnet-name",
            "Value": "Public"
          },
          {
            "Key": "aws-cdk:subnet-type",
            "Value": "Public"
          },
          {
            "Key": "Name",
            "Value": "undefinedStack/undefinedstack-elasticsearchvpc-8l8umwbawvs2siddyqggfj/PublicSubnet1"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-elasticsearchvpc-8l8umwbawvs2siddyqggfj/PublicSubnet1/Subnet"
      }
    },
    "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjPublicSubnet1RouteTable9A066568": {
      "Type": "AWS::EC2::RouteTable",
      "Properties": {
        "VpcId": {
          "Ref": "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjA9857165"
        },
        "Tags": [
          {
            "Key": "Name",
            "Value": "undefinedStack/undefinedstack-elasticsearchvpc-8l8umwbawvs2siddyqggfj/PublicSubnet1"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-elasticsearchvpc-8l8umwbawvs2siddyqggfj/PublicSubnet1/RouteTable"
      }
    },
    "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjPublicSubnet1RouteTableAssociation3262B98B": {
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
      "Properties": {
        "RouteTableId": {
          "Ref": "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjPublicSubnet1RouteTable9A066568"
        },
        "SubnetId": {
          "Ref": "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjPublicSubnet1SubnetB5E926F3"
        }
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-elasticsearchvpc-8l8umwbawvs2siddyqggfj/PublicSubnet1/RouteTableAssociation"
      }
    },
    "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjPublicSubnet1DefaultRoute3CEE9C54": {
      "Type": "AWS::EC2::Route",
      "Properties": {
        "RouteTableId": {
          "Ref": "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjPublicSubnet1RouteTable9A066568"
        },
        "DestinationCidrBlock": "0.0.0.0/0",
        "GatewayId": {
          "Ref": "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjIGW9C094A60"
        }
      },
      "DependsOn": [
        "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjVPCGWA8B608F7"
      ],
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-elasticsearchvpc-8l8umwbawvs2siddyqggfj/PublicSubnet1/DefaultRoute"
      }
    },
    "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjPublicSubnet1EIPE7707001": {
      "Type": "AWS::EC2::EIP",
      "Properties": {
        "Domain": "vpc",
        "Tags": [
          {
            "Key": "Name",
            "Value": "undefinedStack/undefinedstack-elasticsearchvpc-8l8umwbawvs2siddyqggfj/PublicSubnet1"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-elasticsearchvpc-8l8umwbawvs2siddyqggfj/PublicSubnet1/EIP"
      }
    },
    "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjPublicSubnet1NATGateway481879D7": {
      "Type": "AWS::EC2::NatGateway",
      "Properties": {
        "AllocationId": {
          "Fn::GetAtt": [
            "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjPublicSubnet1EIPE7707001",
            "AllocationId"
          ]
        },
        "SubnetId": {
          "Ref": "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjPublicSubnet1SubnetB5E926F3"
        },
        "Tags": [
          {
            "Key": "Name",
            "Value": "undefinedStack/undefinedstack-elasticsearchvpc-8l8umwbawvs2siddyqggfj/PublicSubnet1"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-elasticsearchvpc-8l8umwbawvs2siddyqggfj/PublicSubnet1/NATGateway"
      }
    },
    "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjPublicSubnet2Subnet0A21CBCF": {
      "Type": "AWS::EC2::Subnet",
      "Properties": {
        "CidrBlock": "172.62.64.0/18",
        "VpcId": {
          "Ref": "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjA9857165"
        },
        "AvailabilityZone": {
          "Fn::Select": [
            1,
            {
              "Fn::GetAZs": ""
            }
          ]
        },
        "MapPublicIpOnLaunch": true,
        "Tags": [
          {
            "Key": "aws-cdk:subnet-name",
            "Value": "Public"
          },
          {
            "Key": "aws-cdk:subnet-type",
            "Value": "Public"
          },
          {
            "Key": "Name",
            "Value": "undefinedStack/undefinedstack-elasticsearchvpc-8l8umwbawvs2siddyqggfj/PublicSubnet2"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-elasticsearchvpc-8l8umwbawvs2siddyqggfj/PublicSubnet2/Subnet"
      }
    },
    "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjPublicSubnet2RouteTable07CB0393": {
      "Type": "AWS::EC2::RouteTable",
      "Properties": {
        "VpcId": {
          "Ref": "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjA9857165"
        },
        "Tags": [
          {
            "Key": "Name",
            "Value": "undefinedStack/undefinedstack-elasticsearchvpc-8l8umwbawvs2siddyqggfj/PublicSubnet2"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-elasticsearchvpc-8l8umwbawvs2siddyqggfj/PublicSubnet2/RouteTable"
      }
    },
    "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjPublicSubnet2RouteTableAssociation308F699F": {
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
      "Properties": {
        "RouteTableId": {
          "Ref": "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjPublicSubnet2RouteTable07CB0393"
        },
        "SubnetId": {
          "Ref": "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjPublicSubnet2Subnet0A21CBCF"
        }
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-elasticsearchvpc-8l8umwbawvs2siddyqggfj/PublicSubnet2/RouteTableAssociation"
      }
    },
    "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjPublicSubnet2DefaultRoute44025EE7": {
      "Type": "AWS::EC2::Route",
      "Properties": {
        "RouteTableId": {
          "Ref": "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjPublicSubnet2RouteTable07CB0393"
        },
        "DestinationCidrBlock": "0.0.0.0/0",
        "GatewayId": {
          "Ref": "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjIGW9C094A60"
        }
      },
      "DependsOn": [
        "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjVPCGWA8B608F7"
      ],
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-elasticsearchvpc-8l8umwbawvs2siddyqggfj/PublicSubnet2/DefaultRoute"
      }
    },
    "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjPublicSubnet2EIPC6DAB585": {
      "Type": "AWS::EC2::EIP",
      "Properties": {
        "Domain": "vpc",
        "Tags": [
          {
            "Key": "Name",
            "Value": "undefinedStack/undefinedstack-elasticsearchvpc-8l8umwbawvs2siddyqggfj/PublicSubnet2"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-elasticsearchvpc-8l8umwbawvs2siddyqggfj/PublicSubnet2/EIP"
      }
    },
    "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjPublicSubnet2NATGatewayC54F9BE6": {
      "Type": "AWS::EC2::NatGateway",
      "Properties": {
        "AllocationId": {
          "Fn::GetAtt": [
            "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjPublicSubnet2EIPC6DAB585",
            "AllocationId"
          ]
        },
        "SubnetId": {
          "Ref": "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjPublicSubnet2Subnet0A21CBCF"
        },
        "Tags": [
          {
            "Key": "Name",
            "Value": "undefinedStack/undefinedstack-elasticsearchvpc-8l8umwbawvs2siddyqggfj/PublicSubnet2"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-elasticsearchvpc-8l8umwbawvs2siddyqggfj/PublicSubnet2/NATGateway"
      }
    },
    "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjPrivateSubnet1Subnet04CA9141": {
      "Type": "AWS::EC2::Subnet",
      "Properties": {
        "CidrBlock": "172.62.128.0/18",
        "VpcId": {
          "Ref": "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjA9857165"
        },
        "AvailabilityZone": {
          "Fn::Select": [
            0,
            {
              "Fn::GetAZs": ""
            }
          ]
        },
        "MapPublicIpOnLaunch": false,
        "Tags": [
          {
            "Key": "aws-cdk:subnet-name",
            "Value": "Private"
          },
          {
            "Key": "aws-cdk:subnet-type",
            "Value": "Private"
          },
          {
            "Key": "Name",
            "Value": "undefinedStack/undefinedstack-elasticsearchvpc-8l8umwbawvs2siddyqggfj/PrivateSubnet1"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-elasticsearchvpc-8l8umwbawvs2siddyqggfj/PrivateSubnet1/Subnet"
      }
    },
    "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjPrivateSubnet1RouteTable5671A940": {
      "Type": "AWS::EC2::RouteTable",
      "Properties": {
        "VpcId": {
          "Ref": "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjA9857165"
        },
        "Tags": [
          {
            "Key": "Name",
            "Value": "undefinedStack/undefinedstack-elasticsearchvpc-8l8umwbawvs2siddyqggfj/PrivateSubnet1"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-elasticsearchvpc-8l8umwbawvs2siddyqggfj/PrivateSubnet1/RouteTable"
      }
    },
    "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjPrivateSubnet1RouteTableAssociation78C41101": {
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
      "Properties": {
        "RouteTableId": {
          "Ref": "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjPrivateSubnet1RouteTable5671A940"
        },
        "SubnetId": {
          "Ref": "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjPrivateSubnet1Subnet04CA9141"
        }
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-elasticsearchvpc-8l8umwbawvs2siddyqggfj/PrivateSubnet1/RouteTableAssociation"
      }
    },
    "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjPrivateSubnet1DefaultRouteBDEF6CB1": {
      "Type": "AWS::EC2::Route",
      "Properties": {
        "RouteTableId": {
          "Ref": "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjPrivateSubnet1RouteTable5671A940"
        },
        "DestinationCidrBlock": "0.0.0.0/0",
        "NatGatewayId": {
          "Ref": "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjPublicSubnet1NATGateway481879D7"
        }
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-elasticsearchvpc-8l8umwbawvs2siddyqggfj/PrivateSubnet1/DefaultRoute"
      }
    },
    "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjPrivateSubnet2Subnet88BB84FC": {
      "Type": "AWS::EC2::Subnet",
      "Properties": {
        "CidrBlock": "172.62.192.0/18",
        "VpcId": {
          "Ref": "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjA9857165"
        },
        "AvailabilityZone": {
          "Fn::Select": [
            1,
            {
              "Fn::GetAZs": ""
            }
          ]
        },
        "MapPublicIpOnLaunch": false,
        "Tags": [
          {
            "Key": "aws-cdk:subnet-name",
            "Value": "Private"
          },
          {
            "Key": "aws-cdk:subnet-type",
            "Value": "Private"
          },
          {
            "Key": "Name",
            "Value": "undefinedStack/undefinedstack-elasticsearchvpc-8l8umwbawvs2siddyqggfj/PrivateSubnet2"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-elasticsearchvpc-8l8umwbawvs2siddyqggfj/PrivateSubnet2/Subnet"
      }
    },
    "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjPrivateSubnet2RouteTable68EBE03A": {
      "Type": "AWS::EC2::RouteTable",
      "Properties": {
        "VpcId": {
          "Ref": "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjA9857165"
        },
        "Tags": [
          {
            "Key": "Name",
            "Value": "undefinedStack/undefinedstack-elasticsearchvpc-8l8umwbawvs2siddyqggfj/PrivateSubnet2"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-elasticsearchvpc-8l8umwbawvs2siddyqggfj/PrivateSubnet2/RouteTable"
      }
    },
    "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjPrivateSubnet2RouteTableAssociation132D190D": {
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
      "Properties": {
        "RouteTableId": {
          "Ref": "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjPrivateSubnet2RouteTable68EBE03A"
        },
        "SubnetId": {
          "Ref": "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjPrivateSubnet2Subnet88BB84FC"
        }
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-elasticsearchvpc-8l8umwbawvs2siddyqggfj/PrivateSubnet2/RouteTableAssociation"
      }
    },
    "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjPrivateSubnet2DefaultRouteFB9AB27B": {
      "Type": "AWS::EC2::Route",
      "Properties": {
        "RouteTableId": {
          "Ref": "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjPrivateSubnet2RouteTable68EBE03A"
        },
        "DestinationCidrBlock": "0.0.0.0/0",
        "NatGatewayId": {
          "Ref": "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjPublicSubnet2NATGatewayC54F9BE6"
        }
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-elasticsearchvpc-8l8umwbawvs2siddyqggfj/PrivateSubnet2/DefaultRoute"
      }
    },
    "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjIGW9C094A60": {
      "Type": "AWS::EC2::InternetGateway",
      "Properties": {
        "Tags": [
          {
            "Key": "Name",
            "Value": "undefinedStack/undefinedstack-elasticsearchvpc-8l8umwbawvs2siddyqggfj"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-elasticsearchvpc-8l8umwbawvs2siddyqggfj/IGW"
      }
    },
    "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjVPCGWA8B608F7": {
      "Type": "AWS::EC2::VPCGatewayAttachment",
      "Properties": {
        "VpcId": {
          "Ref": "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjA9857165"
        },
        "InternetGatewayId": {
          "Ref": "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjIGW9C094A60"
        }
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-elasticsearchvpc-8l8umwbawvs2siddyqggfj/VPCGW"
      }
    },
    "undefinedstackessecuritygroup8l8umwbawvs2siddyqggfj5809584A": {
      "Type": "AWS::EC2::SecurityGroup",
      "Properties": {
        "GroupDescription": "undefinedStack/undefinedstack-essecuritygroup-8l8umwbawvs2siddyqggfj",
        "GroupName": "Elasticsearch from lambda",
        "SecurityGroupEgress": [
          {
            "CidrIp": "0.0.0.0/0",
            "Description": "Allow all outbound traffic by default",
            "IpProtocol": "-1"
          }
        ],
        "SecurityGroupIngress": [
          {
            "CidrIp": "0.0.0.0/0",
            "Description": "allow lambda ingress",
            "IpProtocol": "-1"
          }
        ],
        "VpcId": {
          "Ref": "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjA9857165"
        }
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-essecuritygroup-8l8umwbawvs2siddyqggfj/Resource"
      }
    },
    "undefinedstackelasticsearchsearchloggroup8l8umwbawvs2siddyqggfjBBE91386": {
      "Type": "AWS::Logs::LogGroup",
      "Properties": {
        "LogGroupName": "undefinedstack-elasticsearchsearchloggroup-8l8umwbawvs2siddyqggfj",
        "RetentionInDays": 731
      },
      "UpdateReplacePolicy": "Retain",
      "DeletionPolicy": "Retain",
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-elasticsearchsearchloggroup-8l8umwbawvs2siddyqggfj/Resource"
      }
    },
    "undefinedstackelasticsearchindexloggroup8l8umwbawvs2siddyqggfjF1C571F2": {
      "Type": "AWS::Logs::LogGroup",
      "Properties": {
        "LogGroupName": "undefinedstack-elasticsearchindexloggroup-8l8umwbawvs2siddyqggfj",
        "RetentionInDays": 731
      },
      "UpdateReplacePolicy": "Retain",
      "DeletionPolicy": "Retain",
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-elasticsearchindexloggroup-8l8umwbawvs2siddyqggfj/Resource"
      }
    },
    "esEncryptionKey7A7DDC6B": {
      "Type": "AWS::KMS::Key",
      "Properties": {
        "KeyPolicy": {
          "Statement": [
            {
              "Action": [
                "kms:Create*",
                "kms:Describe*",
                "kms:Enable*",
                "kms:List*",
                "kms:Put*",
                "kms:Update*",
                "kms:Revoke*",
                "kms:Disable*",
                "kms:Get*",
                "kms:Delete*",
                "kms:ScheduleKeyDeletion",
                "kms:CancelKeyDeletion",
                "kms:GenerateDataKey",
                "kms:TagResource",
                "kms:UntagResource"
              ],
              "Effect": "Allow",
              "Principal": {
                "AWS": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":iam::",
                      {
                        "Ref": "AWS::AccountId"
                      },
                      ":root"
                    ]
                  ]
                }
              },
              "Resource": "*"
            },
            {
              "Action": [
                "kms:Decrypt",
                "kms:Encrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey*"
              ],
              "Effect": "Allow",
              "Principal": {
                "AWS": {
                  "Fn::GetAtt": [
                    "undefinedstacksyncprocessor8l8umwbawvs2siddyqggfjServiceRole4D7F5644",
                    "Arn"
                  ]
                }
              },
              "Resource": "*"
            },
            {
              "Action": [
                "kms:Decrypt",
                "kms:Encrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey*"
              ],
              "Effect": "Allow",
              "Principal": {
                "AWS": {
                  "Fn::GetAtt": [
                    "undefinedstackjobresultprocessor8l8umwbawvs2siddyqggfjServiceRoleCC51AA38",
                    "Arn"
                  ]
                }
              },
              "Resource": "*"
            },
            {
              "Action": [
                "kms:Decrypt",
                "kms:Encrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey*"
              ],
              "Effect": "Allow",
              "Principal": {
                "AWS": {
                  "Fn::GetAtt": [
                    "undefinedstackapiprocessor8l8umwbawvs2siddyqggfjServiceRole361759CA",
                    "Arn"
                  ]
                }
              },
              "Resource": "*"
            }
          ],
          "Version": "2012-10-17"
        },
        "EnableKeyRotation": true
      },
      "UpdateReplacePolicy": "Retain",
      "DeletionPolicy": "Retain",
      "Metadata": {
        "aws:cdk:path": "undefinedStack/esEncryptionKey/Resource"
      }
    },
    "undefinedstackelasticsearchcluster8l8umwbawvs2siddyqggfj": {
      "Type": "AWS::Elasticsearch::Domain",
      "Properties": {
        "EBSOptions": {
          "EBSEnabled": true,
          "VolumeSize": 20,
          "VolumeType": "gp2"
        },
        "ElasticsearchClusterConfig": {
          "DedicatedMasterEnabled": true,
          "InstanceCount": 2,
          "InstanceType": "m5.large.elasticsearch",
          "ZoneAwarenessConfig": {
            "AvailabilityZoneCount": 2
          },
          "ZoneAwarenessEnabled": true
        },
        "ElasticsearchVersion": "7.4",
        "EncryptionAtRestOptions": {
          "Enabled": true,
          "KmsKeyId": {
            "Ref": "esEncryptionKey7A7DDC6B"
          }
        },
        "NodeToNodeEncryptionOptions": {
          "Enabled": true
        },
        "VPCOptions": {
          "SecurityGroupIds": [
            {
              "Fn::GetAtt": [
                "undefinedstackessecuritygroup8l8umwbawvs2siddyqggfj5809584A",
                "GroupId"
              ]
            }
          ],
          "SubnetIds": [
            {
              "Ref": "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjPrivateSubnet1Subnet04CA9141"
            },
            {
              "Ref": "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjPrivateSubnet2Subnet88BB84FC"
            }
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-elasticsearchcluster-8l8umwbawvs2siddyqggfj"
      }
    },
    "undefinedstackjobresultskey8l8umwbawvs2siddyqggfjC263B2F4": {
      "Type": "AWS::KMS::Key",
      "Properties": {
        "KeyPolicy": {
          "Statement": [
            {
              "Action": [
                "kms:GenerateDataKey*",
                "kms:Decrypt"
              ],
              "Effect": "Allow",
              "Principal": {
                "Service": [
                  "sns.amazonaws.com",
                  "lambda.amazonaws.com",
                  "textract.amazonaws.com",
                  "sqs.amazonaws.com"
                ]
              },
              "Resource": "*",
              "Sid": "0"
            },
            {
              "Action": "kms:*",
              "Effect": "Allow",
              "Principal": {
                "AWS": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":iam::",
                      {
                        "Ref": "AWS::AccountId"
                      },
                      ":root"
                    ]
                  ]
                }
              },
              "Resource": "*",
              "Sid": "1"
            }
          ],
          "Version": "2012-10-17"
        },
        "Enabled": true,
        "EnableKeyRotation": true
      },
      "UpdateReplacePolicy": "Retain",
      "DeletionPolicy": "Retain",
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-jobresultskey-8l8umwbawvs2siddyqggfj/Resource"
      }
    },
    "undefinedstackjobcompletiontopic8l8umwbawvs2siddyqggfjDBD57492": {
      "Type": "AWS::SNS::Topic",
      "Properties": {
        "DisplayName": "Job completion topic",
        "KmsMasterKeyId": {
          "Ref": "undefinedstackjobresultskey8l8umwbawvs2siddyqggfjC263B2F4"
        }
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-jobcompletiontopic-8l8umwbawvs2siddyqggfj/Resource"
      }
    },
    "undefinedstacktextractservicerole8l8umwbawvs2siddyqggfj01FE7A71": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "textract.amazonaws.com"
              }
            }
          ],
          "Version": "2012-10-17"
        }
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-textractservicerole-8l8umwbawvs2siddyqggfj/Resource"
      }
    },
    "undefinedstacktextractservicerole8l8umwbawvs2siddyqggfjDefaultPolicy648B8EB5": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": "sns:Publish",
              "Effect": "Allow",
              "Resource": {
                "Ref": "undefinedstackjobcompletiontopic8l8umwbawvs2siddyqggfjDBD57492"
              }
            },
            {
              "Action": [
                "kms:Decrypt",
                "kms:GenerateDataKey*"
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "undefinedstackjobresultskey8l8umwbawvs2siddyqggfjC263B2F4",
                  "Arn"
                ]
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "undefinedstacktextractservicerole8l8umwbawvs2siddyqggfjDefaultPolicy648B8EB5",
        "Roles": [
          {
            "Ref": "undefinedstacktextractservicerole8l8umwbawvs2siddyqggfj01FE7A71"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-textractservicerole-8l8umwbawvs2siddyqggfj/DefaultPolicy/Resource"
      }
    },
    "undefinedstackoutputtable8l8umwbawvs2siddyqggfjF9D76796": {
      "Type": "AWS::DynamoDB::Table",
      "Properties": {
        "KeySchema": [
          {
            "AttributeName": "documentId",
            "KeyType": "HASH"
          },
          {
            "AttributeName": "outputType",
            "KeyType": "RANGE"
          }
        ],
        "AttributeDefinitions": [
          {
            "AttributeName": "documentId",
            "AttributeType": "S"
          },
          {
            "AttributeName": "outputType",
            "AttributeType": "S"
          }
        ],
        "BillingMode": "PAY_PER_REQUEST",
        "SSESpecification": {
          "SSEEnabled": true
        }
      },
      "UpdateReplacePolicy": "Retain",
      "DeletionPolicy": "Retain",
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-outputtable-8l8umwbawvs2siddyqggfj/Resource"
      }
    },
    "undefinedstackdocumentstable8l8umwbawvs2siddyqggfj968DE2AA": {
      "Type": "AWS::DynamoDB::Table",
      "Properties": {
        "KeySchema": [
          {
            "AttributeName": "documentId",
            "KeyType": "HASH"
          }
        ],
        "AttributeDefinitions": [
          {
            "AttributeName": "documentId",
            "AttributeType": "S"
          }
        ],
        "BillingMode": "PAY_PER_REQUEST",
        "SSESpecification": {
          "SSEEnabled": true
        },
        "StreamSpecification": {
          "StreamViewType": "NEW_IMAGE"
        }
      },
      "UpdateReplacePolicy": "Retain",
      "DeletionPolicy": "Retain",
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-documentstable-8l8umwbawvs2siddyqggfj/Resource"
      }
    },
    "undefinedstackbulkprocessorjobsdlq8l8umwbawvs2siddyqggfj7FE052BE": {
      "Type": "AWS::SQS::Queue",
      "Properties": {
        "KmsMasterKeyId": "alias/aws/sqs",
        "MessageRetentionPeriod": 1209600,
        "VisibilityTimeout": 120
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-bulkprocessorjobsdlq-8l8umwbawvs2siddyqggfj/Resource"
      }
    },
    "undefinedstackbulkprocessorkey8l8umwbawvs2siddyqggfj37C694E8": {
      "Type": "AWS::KMS::Key",
      "Properties": {
        "KeyPolicy": {
          "Statement": [
            {
              "Action": [
                "kms:Create*",
                "kms:Describe*",
                "kms:Enable*",
                "kms:List*",
                "kms:Put*",
                "kms:Update*",
                "kms:Revoke*",
                "kms:Disable*",
                "kms:Get*",
                "kms:Delete*",
                "kms:ScheduleKeyDeletion",
                "kms:CancelKeyDeletion",
                "kms:GenerateDataKey",
                "kms:TagResource",
                "kms:UntagResource"
              ],
              "Effect": "Allow",
              "Principal": {
                "AWS": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":iam::",
                      {
                        "Ref": "AWS::AccountId"
                      },
                      ":root"
                    ]
                  ]
                }
              },
              "Resource": "*"
            },
            {
              "Action": [
                "kms:GenerateDataKey",
                "kms:Decrypt"
              ],
              "Effect": "Allow",
              "Principal": {
                "Service": "s3.amazonaws.com"
              },
              "Resource": "*"
            },
            {
              "Action": [
                "kms:Decrypt",
                "kms:Encrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey*"
              ],
              "Condition": {
                "ArnLike": {
                  "aws:SourceArn": {
                    "Fn::GetAtt": [
                      "undefinedstackbulkprocessingbucket8l8umwbawvs2siddyqggfjF78518CA",
                      "Arn"
                    ]
                  }
                }
              },
              "Effect": "Allow",
              "Principal": {
                "Service": "s3.amazonaws.com"
              },
              "Resource": "*"
            },
            {
              "Action": [
                "kms:GenerateDataKey*",
                "kms:Decrypt"
              ],
              "Effect": "Allow",
              "Principal": {
                "Service": "s3.amazonaws.com"
              },
              "Resource": "*"
            },
            {
              "Action": "kms:Decrypt",
              "Effect": "Allow",
              "Principal": {
                "AWS": {
                  "Fn::GetAtt": [
                    "undefinedstackdocumentbulkprocessor8l8umwbawvs2siddyqggfjServiceRole62F116F9",
                    "Arn"
                  ]
                }
              },
              "Resource": "*"
            }
          ],
          "Version": "2012-10-17"
        },
        "EnableKeyRotation": true
      },
      "UpdateReplacePolicy": "Retain",
      "DeletionPolicy": "Retain",
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-bulkprocessorkey-8l8umwbawvs2siddyqggfj/Resource"
      }
    },
    "undefinedstackdocumentbulkprocessingqueue8l8umwbawvs2siddyqggfjFAA78763": {
      "Type": "AWS::SQS::Queue",
      "Properties": {
        "KmsMasterKeyId": {
          "Fn::GetAtt": [
            "undefinedstackbulkprocessorkey8l8umwbawvs2siddyqggfj37C694E8",
            "Arn"
          ]
        },
        "MessageRetentionPeriod": 1209600,
        "RedrivePolicy": {
          "deadLetterTargetArn": {
            "Fn::GetAtt": [
              "undefinedstackbulkprocessorjobsdlq8l8umwbawvs2siddyqggfj7FE052BE",
              "Arn"
            ]
          },
          "maxReceiveCount": 3
        },
        "VisibilityTimeout": 600
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-documentbulkprocessingqueue-8l8umwbawvs2siddyqggfj/Resource"
      }
    },
    "undefinedstackdocumentbulkprocessingqueue8l8umwbawvs2siddyqggfjPolicyC2C1015F": {
      "Type": "AWS::SQS::QueuePolicy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "sqs:SendMessage",
                "sqs:GetQueueUrl",
                "sqs:GetQueueAttributes"
              ],
              "Effect": "Allow",
              "Principal": {
                "AWS": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":iam::",
                      {
                        "Ref": "AWS::AccountId"
                      },
                      ":root"
                    ]
                  ]
                },
                "Service": "s3.amazonaws.com"
              },
              "Resource": "*"
            },
            {
              "Action": [
                "sqs:SendMessage",
                "sqs:GetQueueAttributes",
                "sqs:GetQueueUrl"
              ],
              "Condition": {
                "ArnLike": {
                  "aws:SourceArn": {
                    "Fn::GetAtt": [
                      "undefinedstackbulkprocessingbucket8l8umwbawvs2siddyqggfjF78518CA",
                      "Arn"
                    ]
                  }
                }
              },
              "Effect": "Allow",
              "Principal": {
                "Service": "s3.amazonaws.com"
              },
              "Resource": {
                "Fn::GetAtt": [
                  "undefinedstackdocumentbulkprocessingqueue8l8umwbawvs2siddyqggfjFAA78763",
                  "Arn"
                ]
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "Queues": [
          {
            "Ref": "undefinedstackdocumentbulkprocessingqueue8l8umwbawvs2siddyqggfjFAA78763"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-documentbulkprocessingqueue-8l8umwbawvs2siddyqggfj/Policy/Resource"
      }
    },
    "undefinedstacksyncjobsdlq8l8umwbawvs2siddyqggfjC0345A01": {
      "Type": "AWS::SQS::Queue",
      "Properties": {
        "KmsMasterKeyId": "alias/aws/sqs",
        "MessageRetentionPeriod": 1209600,
        "VisibilityTimeout": 120
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-syncjobsdlq-8l8umwbawvs2siddyqggfj/Resource"
      }
    },
    "undefinedstacksyncjobs8l8umwbawvs2siddyqggfj0B91E699": {
      "Type": "AWS::SQS::Queue",
      "Properties": {
        "KmsMasterKeyId": "alias/aws/sqs",
        "MessageRetentionPeriod": 1209600,
        "RedrivePolicy": {
          "deadLetterTargetArn": {
            "Fn::GetAtt": [
              "undefinedstacksyncjobsdlq8l8umwbawvs2siddyqggfjC0345A01",
              "Arn"
            ]
          },
          "maxReceiveCount": 3
        },
        "VisibilityTimeout": 900
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-syncjobs-8l8umwbawvs2siddyqggfj/Resource"
      }
    },
    "undefinedstackasyncjobsdlq8l8umwbawvs2siddyqggfj02535236": {
      "Type": "AWS::SQS::Queue",
      "Properties": {
        "KmsMasterKeyId": "alias/aws/sqs",
        "MessageRetentionPeriod": 1209600,
        "VisibilityTimeout": 120
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-asyncjobsdlq-8l8umwbawvs2siddyqggfj/Resource"
      }
    },
    "undefinedstackasyncjobs8l8umwbawvs2siddyqggfj58661C0D": {
      "Type": "AWS::SQS::Queue",
      "Properties": {
        "KmsMasterKeyId": "alias/aws/sqs",
        "MessageRetentionPeriod": 1209600,
        "RedrivePolicy": {
          "deadLetterTargetArn": {
            "Fn::GetAtt": [
              "undefinedstackasyncjobsdlq8l8umwbawvs2siddyqggfj02535236",
              "Arn"
            ]
          },
          "maxReceiveCount": 3
        },
        "VisibilityTimeout": 120
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-asyncjobs-8l8umwbawvs2siddyqggfj/Resource"
      }
    },
    "undefinedstackjoberrorhandlerdlq8l8umwbawvs2siddyqggfj6CD3E606": {
      "Type": "AWS::SQS::Queue",
      "Properties": {
        "KmsMasterKeyId": "alias/aws/sqs",
        "MessageRetentionPeriod": 1209600,
        "VisibilityTimeout": 60
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-joberrorhandlerdlq-8l8umwbawvs2siddyqggfj/Resource"
      }
    },
    "undefinedstackjoberrorhandler8l8umwbawvs2siddyqggfj5788ED2D": {
      "Type": "AWS::SQS::Queue",
      "Properties": {
        "KmsMasterKeyId": "alias/aws/sqs",
        "MessageRetentionPeriod": 1209600,
        "RedrivePolicy": {
          "deadLetterTargetArn": {
            "Fn::GetAtt": [
              "undefinedstackjoberrorhandlerdlq8l8umwbawvs2siddyqggfj6CD3E606",
              "Arn"
            ]
          },
          "maxReceiveCount": 3
        },
        "VisibilityTimeout": 60
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-joberrorhandler-8l8umwbawvs2siddyqggfj/Resource"
      }
    },
    "undefinedstackjobresultsdlq8l8umwbawvs2siddyqggfjA2B9C647": {
      "Type": "AWS::SQS::Queue",
      "Properties": {
        "KmsMasterKeyId": "alias/aws/sqs",
        "MessageRetentionPeriod": 1209600,
        "VisibilityTimeout": 900
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-jobresultsdlq-8l8umwbawvs2siddyqggfj/Resource"
      }
    },
    "undefinedstackjobresults8l8umwbawvs2siddyqggfjDAB52B29": {
      "Type": "AWS::SQS::Queue",
      "Properties": {
        "KmsDataKeyReusePeriodSeconds": 86400,
        "KmsMasterKeyId": {
          "Fn::GetAtt": [
            "undefinedstackjobresultskey8l8umwbawvs2siddyqggfjC263B2F4",
            "Arn"
          ]
        },
        "MessageRetentionPeriod": 1209600,
        "RedrivePolicy": {
          "deadLetterTargetArn": {
            "Fn::GetAtt": [
              "undefinedstackjobresultsdlq8l8umwbawvs2siddyqggfjA2B9C647",
              "Arn"
            ]
          },
          "maxReceiveCount": 3
        },
        "VisibilityTimeout": 900
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-jobresults-8l8umwbawvs2siddyqggfj/Resource"
      }
    },
    "undefinedstackjobresults8l8umwbawvs2siddyqggfjPolicyC50218BE": {
      "Type": "AWS::SQS::QueuePolicy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": "sqs:SendMessage",
              "Condition": {
                "ArnEquals": {
                  "aws:SourceArn": {
                    "Ref": "undefinedstackjobcompletiontopic8l8umwbawvs2siddyqggfjDBD57492"
                  }
                }
              },
              "Effect": "Allow",
              "Principal": {
                "Service": "sns.amazonaws.com"
              },
              "Resource": {
                "Fn::GetAtt": [
                  "undefinedstackjobresults8l8umwbawvs2siddyqggfjDAB52B29",
                  "Arn"
                ]
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "Queues": [
          {
            "Ref": "undefinedstackjobresults8l8umwbawvs2siddyqggfjDAB52B29"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-jobresults-8l8umwbawvs2siddyqggfj/Policy/Resource"
      }
    },
    "undefinedstackjobresults8l8umwbawvs2siddyqggfjundefinedStackundefinedstackjobcompletiontopic8l8umwbawvs2siddyqggfj407C7985706EA6CB": {
      "Type": "AWS::SNS::Subscription",
      "Properties": {
        "Protocol": "sqs",
        "TopicArn": {
          "Ref": "undefinedstackjobcompletiontopic8l8umwbawvs2siddyqggfjDBD57492"
        },
        "Endpoint": {
          "Fn::GetAtt": [
            "undefinedstackjobresults8l8umwbawvs2siddyqggfjDAB52B29",
            "Arn"
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-jobresults-8l8umwbawvs2siddyqggfj/undefinedStackundefinedstackjobcompletiontopic8l8umwbawvs2siddyqggfj407C7985/Resource"
      }
    },
    "textractuserpool": {
      "Type": "AWS::Cognito::UserPool",
      "Properties": {
        "AdminCreateUserConfig": {
          "AllowAdminCreateUserOnly": true,
          "InviteMessageTemplate": {
            "EmailMessage": {
              "Fn::Join": [
                "",
                [
                  "<p>You are invited to try the Document Understanding Solution. Your credentials are:</p>                 <p>                 Username: <strong>{username}</strong><br />                 Password: <strong>{####}</strong>                 </p>                 <p>                Please wait until the deployent has completed for both DUS and DUSClient stacks before accessing the website                 </p>                <p>                 Please sign in with the user name and your temporary password provided above at: <br />                 https://",
                  {
                    "Fn::GetAtt": [
                      "cdktextractcfrontCFDistribution2BB270FB",
                      "DomainName"
                    ]
                  },
                  "                 </p>                "
                ]
              ]
            },
            "EmailSubject": "Your DUS login"
          },
          "UnusedAccountValidityDays": 7
        },
        "AliasAttributes": [
          "email"
        ],
        "AutoVerifiedAttributes": [
          "email"
        ],
        "MfaConfiguration": "OFF",
        "Policies": {
          "PasswordPolicy": {
            "MinimumLength": 8,
            "RequireLowercase": true,
            "RequireNumbers": true,
            "RequireSymbols": true,
            "RequireUppercase": true
          }
        },
        "UserPoolAddOns": {
          "AdvancedSecurityMode": "ENFORCED"
        }
      },
      "Metadata": {
        "cfn_nag": {
          "rules_to_suppress": [
            {
              "id": "F78",
              "reason": "MFA Configuration is not required for this solution"
            }
          ]
        }
      }
    },
    "textractuserpooluser": {
      "Type": "AWS::Cognito::UserPoolUser",
      "Properties": {
        "UserPoolId": {
          "Ref": "textractuserpool"
        },
        "DesiredDeliveryMediums": [
          "EMAIL"
        ],
        "ForceAliasCreation": false,
        "UserAttributes": [
          {
            "Name": "email",
            "Value": "jabriel.jones@bellefleurtech.com"
          }
        ],
        "Username": "jabriel.jones.bellefleurtech.com"
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/textract-user-pool-user"
      }
    },
    "textractuserpoolclient": {
      "Type": "AWS::Cognito::UserPoolClient",
      "Properties": {
        "UserPoolId": {
          "Ref": "textractuserpool"
        }
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/textract-user-pool-client"
      }
    },
    "textractidentitypool": {
      "Type": "AWS::Cognito::IdentityPool",
      "Properties": {
        "AllowUnauthenticatedIdentities": false,
        "CognitoIdentityProviders": [
          {
            "ClientId": {
              "Ref": "textractuserpoolclient"
            },
            "ProviderName": {
              "Fn::GetAtt": [
                "textractuserpool",
                "ProviderName"
              ]
            },
            "ServerSideTokenCheck": false
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/textract-identity-pool"
      }
    },
    "textractcognitoauthenticatedroleF4E148BC": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRoleWithWebIdentity",
              "Condition": {
                "StringEquals": {
                  "cognito-identity.amazonaws.com:aud": {
                    "Ref": "textractidentitypool"
                  }
                },
                "ForAnyValue:StringLike": {
                  "cognito-identity.amazonaws.com:amr": "authenticated"
                }
              },
              "Effect": "Allow",
              "Principal": {
                "Federated": "cognito-identity.amazonaws.com"
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "Path": "/"
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/textract-cognito-authenticated-role/Resource"
      }
    },
    "textractcognitopolicyA8228594": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": "cognito-identity:GetId",
              "Effect": "Allow",
              "Resource": {
                "Fn::Join": [
                  "",
                  [
                    "arn:aws:cognito-identity:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":identitypool/",
                    {
                      "Ref": "textractidentitypool"
                    }
                  ]
                ]
              }
            },
            {
              "Action": [
                "s3:GetObject*",
                "s3:List*"
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "undefinedstacksampless3bucket8l8umwbawvs2siddyqggfj4C1E76F8",
                    "Arn"
                  ]
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "undefinedstacksampless3bucket8l8umwbawvs2siddyqggfj4C1E76F8",
                          "Arn"
                        ]
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            },
            {
              "Action": [
                "s3:GetObject*",
                "s3:List*",
                "s3:PutObject"
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "undefinedstackdocumentss3bucket8l8umwbawvs2siddyqggfjBBAF2406",
                    "Arn"
                  ]
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "undefinedstackdocumentss3bucket8l8umwbawvs2siddyqggfjBBAF2406",
                          "Arn"
                        ]
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            },
            {
              "Action": "execute-api:Invoke",
              "Effect": "Allow",
              "Resource": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "undefinedstackdusapi8l8umwbawvs2siddyqggfjA99C9D09"
                    },
                    "/*/*/*"
                  ]
                ]
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "textractcognitopolicyA8228594",
        "Roles": [
          {
            "Ref": "textractcognitoauthenticatedroleF4E148BC"
          }
        ]
      },
      "Metadata": {
        "cfn_nag": {
          "rules_to_suppress": [
            {
              "id": "W11",
              "reason": "The resources in the policy are created/managed by this solution."
            }
          ]
        }
      }
    },
    "textractidentityrolepoolattachment": {
      "Type": "AWS::Cognito::IdentityPoolRoleAttachment",
      "Properties": {
        "IdentityPoolId": {
          "Ref": "textractidentitypool"
        },
        "Roles": {
          "authenticated": {
            "Fn::GetAtt": [
              "textractcognitoauthenticatedroleF4E148BC",
              "Arn"
            ]
          }
        }
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/textract-identity-role-pool-attachment"
      }
    },
    "undefinedstackhelperlayer8l8umwbawvs2siddyqggfj4DC92957": {
      "Type": "AWS::Lambda::LayerVersion",
      "Properties": {
        "Content": {
          "S3Bucket": {
            "Ref": "AssetParameterscc1ca714e664fe644602eb116eb01346aeba2b131cbcf9df004029e6a5749dd2S3Bucket26085418"
          },
          "S3Key": {
            "Fn::Join": [
              "",
              [
                {
                  "Fn::Select": [
                    0,
                    {
                      "Fn::Split": [
                        "||",
                        {
                          "Ref": "AssetParameterscc1ca714e664fe644602eb116eb01346aeba2b131cbcf9df004029e6a5749dd2S3VersionKeyEC71F580"
                        }
                      ]
                    }
                  ]
                },
                {
                  "Fn::Select": [
                    1,
                    {
                      "Fn::Split": [
                        "||",
                        {
                          "Ref": "AssetParameterscc1ca714e664fe644602eb116eb01346aeba2b131cbcf9df004029e6a5749dd2S3VersionKeyEC71F580"
                        }
                      ]
                    }
                  ]
                }
              ]
            ]
          }
        },
        "CompatibleRuntimes": [
          "python3.8"
        ],
        "LicenseInfo": "Apache-2.0"
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-helperlayer-8l8umwbawvs2siddyqggfj/Resource",
        "aws:asset:path": "asset.cc1ca714e664fe644602eb116eb01346aeba2b131cbcf9df004029e6a5749dd2",
        "aws:asset:property": "Content"
      }
    },
    "undefinedstacktextractor8l8umwbawvs2siddyqggfj9835FD37": {
      "Type": "AWS::Lambda::LayerVersion",
      "Properties": {
        "Content": {
          "S3Bucket": {
            "Ref": "AssetParameters9acbc3715f8b660f6ab9fb65adc280fcbde091d8f7d835a0ec52b7446eebac67S3BucketE167FF79"
          },
          "S3Key": {
            "Fn::Join": [
              "",
              [
                {
                  "Fn::Select": [
                    0,
                    {
                      "Fn::Split": [
                        "||",
                        {
                          "Ref": "AssetParameters9acbc3715f8b660f6ab9fb65adc280fcbde091d8f7d835a0ec52b7446eebac67S3VersionKey9C912232"
                        }
                      ]
                    }
                  ]
                },
                {
                  "Fn::Select": [
                    1,
                    {
                      "Fn::Split": [
                        "||",
                        {
                          "Ref": "AssetParameters9acbc3715f8b660f6ab9fb65adc280fcbde091d8f7d835a0ec52b7446eebac67S3VersionKey9C912232"
                        }
                      ]
                    }
                  ]
                }
              ]
            ]
          }
        },
        "CompatibleRuntimes": [
          "python3.8"
        ],
        "LicenseInfo": "Apache-2.0"
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-textractor-8l8umwbawvs2siddyqggfj/Resource",
        "aws:asset:path": "asset.9acbc3715f8b660f6ab9fb65adc280fcbde091d8f7d835a0ec52b7446eebac67",
        "aws:asset:property": "Content"
      }
    },
    "undefinedstackboto38l8umwbawvs2siddyqggfj9C54B770": {
      "Type": "AWS::Lambda::LayerVersion",
      "Properties": {
        "Content": {
          "S3Bucket": "SOURCE_BUCKET",
          "S3Key": "SOLUTION_NAME/CODE_VERSION/boto3-layer.zip"
        },
        "CompatibleRuntimes": [
          "python3.8"
        ],
        "LicenseInfo": "Apache-2.0"
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-boto3-8l8umwbawvs2siddyqggfj/Resource"
      }
    },
    "undefinedstackelasticsearchlayer8l8umwbawvs2siddyqggfj11AE2FBB": {
      "Type": "AWS::Lambda::LayerVersion",
      "Properties": {
        "Content": {
          "S3Bucket": {
            "Ref": "AssetParametersc58a9cd512849047e19c27642a09ad4a3b556864591aaf0c503c7a5152878666S3Bucket1C61A05D"
          },
          "S3Key": {
            "Fn::Join": [
              "",
              [
                {
                  "Fn::Select": [
                    0,
                    {
                      "Fn::Split": [
                        "||",
                        {
                          "Ref": "AssetParametersc58a9cd512849047e19c27642a09ad4a3b556864591aaf0c503c7a5152878666S3VersionKey232AFCDA"
                        }
                      ]
                    }
                  ]
                },
                {
                  "Fn::Select": [
                    1,
                    {
                      "Fn::Split": [
                        "||",
                        {
                          "Ref": "AssetParametersc58a9cd512849047e19c27642a09ad4a3b556864591aaf0c503c7a5152878666S3VersionKey232AFCDA"
                        }
                      ]
                    }
                  ]
                }
              ]
            ]
          }
        },
        "CompatibleRuntimes": [
          "python3.8"
        ],
        "LicenseInfo": "Apache-2.0"
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-elasticsearchlayer-8l8umwbawvs2siddyqggfj/Resource",
        "aws:asset:path": "asset.c58a9cd512849047e19c27642a09ad4a3b556864591aaf0c503c7a5152878666.zip",
        "aws:asset:property": "Content"
      }
    },
    "undefinedstackdocumentbulkprocessor8l8umwbawvs2siddyqggfjServiceRole62F116F9": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com"
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
              ]
            ]
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-documentbulkprocessor-8l8umwbawvs2siddyqggfj/ServiceRole/Resource"
      }
    },
    "undefinedstackdocumentbulkprocessor8l8umwbawvs2siddyqggfjServiceRoleDefaultPolicyAEA7B3E4": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords"
              ],
              "Effect": "Allow",
              "Resource": "*"
            },
            {
              "Action": [
                "dynamodb:BatchGetItem",
                "dynamodb:GetRecords",
                "dynamodb:GetShardIterator",
                "dynamodb:Query",
                "dynamodb:GetItem",
                "dynamodb:Scan",
                "dynamodb:BatchWriteItem",
                "dynamodb:PutItem",
                "dynamodb:UpdateItem",
                "dynamodb:DeleteItem"
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "undefinedstackdocumentstable8l8umwbawvs2siddyqggfj968DE2AA",
                    "Arn"
                  ]
                },
                {
                  "Ref": "AWS::NoValue"
                }
              ]
            },
            {
              "Action": [
                "dynamodb:BatchGetItem",
                "dynamodb:GetRecords",
                "dynamodb:GetShardIterator",
                "dynamodb:Query",
                "dynamodb:GetItem",
                "dynamodb:Scan",
                "dynamodb:BatchWriteItem",
                "dynamodb:PutItem",
                "dynamodb:UpdateItem",
                "dynamodb:DeleteItem"
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "undefinedstackoutputtable8l8umwbawvs2siddyqggfjF9D76796",
                    "Arn"
                  ]
                },
                {
                  "Ref": "AWS::NoValue"
                }
              ]
            },
            {
              "Action": [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*"
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "undefinedstackdocumentss3bucket8l8umwbawvs2siddyqggfjBBAF2406",
                    "Arn"
                  ]
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "undefinedstackdocumentss3bucket8l8umwbawvs2siddyqggfjBBAF2406",
                          "Arn"
                        ]
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            },
            {
              "Action": [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*"
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "undefinedstackbulkprocessingbucket8l8umwbawvs2siddyqggfjF78518CA",
                    "Arn"
                  ]
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "undefinedstackbulkprocessingbucket8l8umwbawvs2siddyqggfjF78518CA",
                          "Arn"
                        ]
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            },
            {
              "Action": [
                "sqs:ReceiveMessage",
                "sqs:ChangeMessageVisibility",
                "sqs:GetQueueUrl",
                "sqs:DeleteMessage",
                "sqs:GetQueueAttributes"
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "undefinedstackdocumentbulkprocessingqueue8l8umwbawvs2siddyqggfjFAA78763",
                  "Arn"
                ]
              }
            },
            {
              "Action": "kms:Decrypt",
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "undefinedstackbulkprocessorkey8l8umwbawvs2siddyqggfj37C694E8",
                  "Arn"
                ]
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "undefinedstackdocumentbulkprocessor8l8umwbawvs2siddyqggfjServiceRoleDefaultPolicyAEA7B3E4",
        "Roles": [
          {
            "Ref": "undefinedstackdocumentbulkprocessor8l8umwbawvs2siddyqggfjServiceRole62F116F9"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-documentbulkprocessor-8l8umwbawvs2siddyqggfj/ServiceRole/DefaultPolicy/Resource"
      }
    },
    "undefinedstackdocumentbulkprocessor8l8umwbawvs2siddyqggfj4BD7D360": {
      "Type": "AWS::Lambda::Function",
      "Properties": {
        "Code": {
          "S3Bucket": {
            "Ref": "AssetParameters5491b2e305cfeca7c6f124389b9a015f5cf9cb2822082404be4288aebeda13d0S3BucketA72C262C"
          },
          "S3Key": {
            "Fn::Join": [
              "",
              [
                {
                  "Fn::Select": [
                    0,
                    {
                      "Fn::Split": [
                        "||",
                        {
                          "Ref": "AssetParameters5491b2e305cfeca7c6f124389b9a015f5cf9cb2822082404be4288aebeda13d0S3VersionKeyF89BF86A"
                        }
                      ]
                    }
                  ]
                },
                {
                  "Fn::Select": [
                    1,
                    {
                      "Fn::Split": [
                        "||",
                        {
                          "Ref": "AssetParameters5491b2e305cfeca7c6f124389b9a015f5cf9cb2822082404be4288aebeda13d0S3VersionKeyF89BF86A"
                        }
                      ]
                    }
                  ]
                }
              ]
            ]
          }
        },
        "Handler": "lambda_function.lambda_handler",
        "Role": {
          "Fn::GetAtt": [
            "undefinedstackdocumentbulkprocessor8l8umwbawvs2siddyqggfjServiceRole62F116F9",
            "Arn"
          ]
        },
        "Runtime": "python3.8",
        "Environment": {
          "Variables": {
            "DOCUMENTS_BUCKET": {
              "Ref": "undefinedstackdocumentss3bucket8l8umwbawvs2siddyqggfjBBAF2406"
            },
            "OUTPUT_TABLE": {
              "Ref": "undefinedstackoutputtable8l8umwbawvs2siddyqggfjF9D76796"
            },
            "DOCUMENTS_TABLE": {
              "Ref": "undefinedstackdocumentstable8l8umwbawvs2siddyqggfj968DE2AA"
            }
          }
        },
        "Layers": [
          {
            "Ref": "undefinedstackhelperlayer8l8umwbawvs2siddyqggfj4DC92957"
          }
        ],
        "ReservedConcurrentExecutions": 1,
        "Timeout": 300,
        "TracingConfig": {
          "Mode": "Active"
        }
      },
      "DependsOn": [
        "undefinedstackdocumentbulkprocessor8l8umwbawvs2siddyqggfjServiceRoleDefaultPolicyAEA7B3E4",
        "undefinedstackdocumentbulkprocessor8l8umwbawvs2siddyqggfjServiceRole62F116F9"
      ],
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-documentbulkprocessor-8l8umwbawvs2siddyqggfj/Resource",
        "aws:asset:path": "asset.5491b2e305cfeca7c6f124389b9a015f5cf9cb2822082404be4288aebeda13d0",
        "aws:asset:property": "Code"
      }
    },
    "undefinedstackdocumentbulkprocessor8l8umwbawvs2siddyqggfjSqsEventSourceundefinedStackundefinedstackdocumentbulkprocessingqueue8l8umwbawvs2siddyqggfj1C92FCA45D6CB2D3": {
      "Type": "AWS::Lambda::EventSourceMapping",
      "Properties": {
        "EventSourceArn": {
          "Fn::GetAtt": [
            "undefinedstackdocumentbulkprocessingqueue8l8umwbawvs2siddyqggfjFAA78763",
            "Arn"
          ]
        },
        "FunctionName": {
          "Ref": "undefinedstackdocumentbulkprocessor8l8umwbawvs2siddyqggfj4BD7D360"
        },
        "BatchSize": 5
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-documentbulkprocessor-8l8umwbawvs2siddyqggfj/SqsEventSource:undefinedStackundefinedstackdocumentbulkprocessingqueue8l8umwbawvs2siddyqggfj1C92FCA4/Resource"
      }
    },
    "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleB6FB88EC": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com"
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
              ]
            ]
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/BucketNotificationsHandler050a0587b7544547bf325f094a3db834/Role/Resource"
      }
    },
    "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleDefaultPolicy2CF63D36": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": "s3:PutBucketNotification",
              "Effect": "Allow",
              "Resource": "*"
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleDefaultPolicy2CF63D36",
        "Roles": [
          {
            "Ref": "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleB6FB88EC"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/BucketNotificationsHandler050a0587b7544547bf325f094a3db834/Role/DefaultPolicy/Resource"
      }
    },
    "BucketNotificationsHandler050a0587b7544547bf325f094a3db8347ECC3691": {
      "Type": "AWS::Lambda::Function",
      "Properties": {
        "Description": "AWS CloudFormation handler for \"Custom::S3BucketNotifications\" resources (@aws-cdk/aws-s3)",
        "Code": {
          "ZipFile": "exports.handler = (event, context) => {\n    // eslint-disable-next-line @typescript-eslint/no-require-imports, import/no-extraneous-dependencies\n    const s3 = new (require('aws-sdk').S3)();\n    // eslint-disable-next-line @typescript-eslint/no-require-imports\n    const https = require('https');\n    // eslint-disable-next-line @typescript-eslint/no-require-imports\n    const url = require('url');\n    log(JSON.stringify(event, undefined, 2));\n    const props = event.ResourceProperties;\n    if (event.RequestType === 'Delete') {\n        props.NotificationConfiguration = {}; // this is how you clean out notifications\n    }\n    const req = {\n        Bucket: props.BucketName,\n        NotificationConfiguration: props.NotificationConfiguration,\n    };\n    return s3.putBucketNotificationConfiguration(req, (err, data) => {\n        log({ err, data });\n        if (err) {\n            return submitResponse('FAILED', err.message + `\\nMore information in CloudWatch Log Stream: ${context.logStreamName}`);\n        }\n        else {\n            return submitResponse('SUCCESS');\n        }\n    });\n    function log(obj) {\n        console.error(event.RequestId, event.StackId, event.LogicalResourceId, obj);\n    }\n    // tslint:disable-next-line:max-line-length\n    // adapted from https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-lambda-function-code.html#cfn-lambda-function-code-cfnresponsemodule\n    // to allow sending an error messge as a reason.\n    function submitResponse(responseStatus, reason) {\n        const responseBody = JSON.stringify({\n            Status: responseStatus,\n            Reason: reason || 'See the details in CloudWatch Log Stream: ' + context.logStreamName,\n            PhysicalResourceId: event.PhysicalResourceId || event.LogicalResourceId,\n            StackId: event.StackId,\n            RequestId: event.RequestId,\n            LogicalResourceId: event.LogicalResourceId,\n            NoEcho: false,\n        });\n        log({ responseBody });\n        const parsedUrl = url.parse(event.ResponseURL);\n        const options = {\n            hostname: parsedUrl.hostname,\n            port: 443,\n            path: parsedUrl.path,\n            method: 'PUT',\n            headers: {\n                'content-type': '',\n                'content-length': responseBody.length,\n            },\n        };\n        const request = https.request(options, (r) => {\n            log({ statusCode: r.statusCode, statusMessage: r.statusMessage });\n            context.done();\n        });\n        request.on('error', (error) => {\n            log({ sendError: error });\n            context.done();\n        });\n        request.write(responseBody);\n        request.end();\n    }\n};"
        },
        "Handler": "index.handler",
        "Role": {
          "Fn::GetAtt": [
            "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleB6FB88EC",
            "Arn"
          ]
        },
        "Runtime": "nodejs10.x",
        "Timeout": 300
      },
      "DependsOn": [
        "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleDefaultPolicy2CF63D36",
        "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleB6FB88EC"
      ],
      "Metadata": {
        "aws:cdk:path": "undefinedStack/BucketNotificationsHandler050a0587b7544547bf325f094a3db834/Resource"
      }
    },
    "undefinedstacktaskprocessor8l8umwbawvs2siddyqggfjServiceRole069A9735": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com"
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
              ]
            ]
          },
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"
              ]
            ]
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-taskprocessor-8l8umwbawvs2siddyqggfj/ServiceRole/Resource"
      }
    },
    "undefinedstacktaskprocessor8l8umwbawvs2siddyqggfjServiceRoleDefaultPolicy202F834E": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords"
              ],
              "Effect": "Allow",
              "Resource": "*"
            },
            {
              "Action": "dynamodb:ListStreams",
              "Effect": "Allow",
              "Resource": {
                "Fn::Join": [
                  "",
                  [
                    {
                      "Fn::GetAtt": [
                        "undefinedstackdocumentstable8l8umwbawvs2siddyqggfj968DE2AA",
                        "Arn"
                      ]
                    },
                    "/stream/*"
                  ]
                ]
              }
            },
            {
              "Action": [
                "dynamodb:DescribeStream",
                "dynamodb:GetRecords",
                "dynamodb:GetShardIterator"
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "undefinedstackdocumentstable8l8umwbawvs2siddyqggfj968DE2AA",
                  "StreamArn"
                ]
              }
            },
            {
              "Action": [
                "dynamodb:BatchGetItem",
                "dynamodb:GetRecords",
                "dynamodb:GetShardIterator",
                "dynamodb:Query",
                "dynamodb:GetItem",
                "dynamodb:Scan",
                "dynamodb:BatchWriteItem",
                "dynamodb:PutItem",
                "dynamodb:UpdateItem",
                "dynamodb:DeleteItem"
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "undefinedstackdocumentstable8l8umwbawvs2siddyqggfj968DE2AA",
                    "Arn"
                  ]
                },
                {
                  "Ref": "AWS::NoValue"
                }
              ]
            },
            {
              "Action": [
                "sqs:SendMessage",
                "sqs:GetQueueAttributes",
                "sqs:GetQueueUrl"
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "undefinedstacksyncjobs8l8umwbawvs2siddyqggfj0B91E699",
                  "Arn"
                ]
              }
            },
            {
              "Action": [
                "sqs:SendMessage",
                "sqs:GetQueueAttributes",
                "sqs:GetQueueUrl"
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "undefinedstackasyncjobs8l8umwbawvs2siddyqggfj58661C0D",
                  "Arn"
                ]
              }
            },
            {
              "Action": [
                "sqs:SendMessage",
                "sqs:GetQueueAttributes",
                "sqs:GetQueueUrl"
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "undefinedstackjoberrorhandler8l8umwbawvs2siddyqggfj5788ED2D",
                  "Arn"
                ]
              }
            },
            {
              "Action": [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*"
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "undefinedstackdocumentss3bucket8l8umwbawvs2siddyqggfjBBAF2406",
                    "Arn"
                  ]
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "undefinedstackdocumentss3bucket8l8umwbawvs2siddyqggfjBBAF2406",
                          "Arn"
                        ]
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            },
            {
              "Action": [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*"
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "undefinedstacksampless3bucket8l8umwbawvs2siddyqggfj4C1E76F8",
                    "Arn"
                  ]
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "undefinedstacksampless3bucket8l8umwbawvs2siddyqggfj4C1E76F8",
                          "Arn"
                        ]
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "undefinedstacktaskprocessor8l8umwbawvs2siddyqggfjServiceRoleDefaultPolicy202F834E",
        "Roles": [
          {
            "Ref": "undefinedstacktaskprocessor8l8umwbawvs2siddyqggfjServiceRole069A9735"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-taskprocessor-8l8umwbawvs2siddyqggfj/ServiceRole/DefaultPolicy/Resource"
      }
    },
    "undefinedstacktaskprocessor8l8umwbawvs2siddyqggfjSecurityGroup70935FAD": {
      "Type": "AWS::EC2::SecurityGroup",
      "Properties": {
        "GroupDescription": "Automatic security group for Lambda Function undefinedStackundefinedstacktaskprocessor8l8umwbawvs2siddyqggfjF5B7DBE0",
        "SecurityGroupEgress": [
          {
            "CidrIp": "0.0.0.0/0",
            "Description": "Allow all outbound traffic by default",
            "IpProtocol": "-1"
          }
        ],
        "VpcId": {
          "Ref": "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjA9857165"
        }
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-taskprocessor-8l8umwbawvs2siddyqggfj/SecurityGroup/Resource"
      }
    },
    "undefinedstacktaskprocessor8l8umwbawvs2siddyqggfj6446059A": {
      "Type": "AWS::Lambda::Function",
      "Properties": {
        "Code": {
          "S3Bucket": {
            "Ref": "AssetParameters3c55a56cc0d8d0028e752b1fad451e28208b213d6a2d41934088b21f5868ab8dS3Bucket74F361D6"
          },
          "S3Key": {
            "Fn::Join": [
              "",
              [
                {
                  "Fn::Select": [
                    0,
                    {
                      "Fn::Split": [
                        "||",
                        {
                          "Ref": "AssetParameters3c55a56cc0d8d0028e752b1fad451e28208b213d6a2d41934088b21f5868ab8dS3VersionKey1C2CD8B9"
                        }
                      ]
                    }
                  ]
                },
                {
                  "Fn::Select": [
                    1,
                    {
                      "Fn::Split": [
                        "||",
                        {
                          "Ref": "AssetParameters3c55a56cc0d8d0028e752b1fad451e28208b213d6a2d41934088b21f5868ab8dS3VersionKey1C2CD8B9"
                        }
                      ]
                    }
                  ]
                }
              ]
            ]
          }
        },
        "Handler": "lambda_function.lambda_handler",
        "Role": {
          "Fn::GetAtt": [
            "undefinedstacktaskprocessor8l8umwbawvs2siddyqggfjServiceRole069A9735",
            "Arn"
          ]
        },
        "Runtime": "python3.8",
        "Environment": {
          "Variables": {
            "SYNC_QUEUE_URL": {
              "Ref": "undefinedstacksyncjobs8l8umwbawvs2siddyqggfj0B91E699"
            },
            "ASYNC_QUEUE_URL": {
              "Ref": "undefinedstackasyncjobs8l8umwbawvs2siddyqggfj58661C0D"
            },
            "ERROR_HANDLER_QUEUE_URL": {
              "Ref": "undefinedstackjoberrorhandler8l8umwbawvs2siddyqggfj5788ED2D"
            }
          }
        },
        "Layers": [
          {
            "Ref": "undefinedstackhelperlayer8l8umwbawvs2siddyqggfj4DC92957"
          },
          {
            "Ref": "undefinedstackboto38l8umwbawvs2siddyqggfj9C54B770"
          }
        ],
        "ReservedConcurrentExecutions": 30,
        "Timeout": 300,
        "TracingConfig": {
          "Mode": "Active"
        },
        "VpcConfig": {
          "SecurityGroupIds": [
            {
              "Fn::GetAtt": [
                "undefinedstacktaskprocessor8l8umwbawvs2siddyqggfjSecurityGroup70935FAD",
                "GroupId"
              ]
            }
          ],
          "SubnetIds": [
            {
              "Ref": "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjPrivateSubnet1Subnet04CA9141"
            },
            {
              "Ref": "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjPrivateSubnet2Subnet88BB84FC"
            }
          ]
        }
      },
      "DependsOn": [
        "undefinedstacktaskprocessor8l8umwbawvs2siddyqggfjServiceRoleDefaultPolicy202F834E",
        "undefinedstacktaskprocessor8l8umwbawvs2siddyqggfjServiceRole069A9735"
      ],
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-taskprocessor-8l8umwbawvs2siddyqggfj/Resource",
        "aws:asset:path": "asset.3c55a56cc0d8d0028e752b1fad451e28208b213d6a2d41934088b21f5868ab8d",
        "aws:asset:property": "Code"
      }
    },
    "undefinedstacktaskprocessor8l8umwbawvs2siddyqggfjDynamoDBEventSourceundefinedStackundefinedstackdocumentstable8l8umwbawvs2siddyqggfj50F61D46C6E6628E": {
      "Type": "AWS::Lambda::EventSourceMapping",
      "Properties": {
        "EventSourceArn": {
          "Fn::GetAtt": [
            "undefinedstackdocumentstable8l8umwbawvs2siddyqggfj968DE2AA",
            "StreamArn"
          ]
        },
        "FunctionName": {
          "Ref": "undefinedstacktaskprocessor8l8umwbawvs2siddyqggfj6446059A"
        },
        "BatchSize": 1,
        "StartingPosition": "TRIM_HORIZON"
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-taskprocessor-8l8umwbawvs2siddyqggfj/DynamoDBEventSource:undefinedStackundefinedstackdocumentstable8l8umwbawvs2siddyqggfj50F61D46/Resource"
      }
    },
    "undefinedstackjoberrorhandlerlambda8l8umwbawvs2siddyqggfjServiceRole7E4FFACB": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com"
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
              ]
            ]
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-joberrorhandlerlambda-8l8umwbawvs2siddyqggfj/ServiceRole/Resource"
      }
    },
    "undefinedstackjoberrorhandlerlambda8l8umwbawvs2siddyqggfjServiceRoleDefaultPolicyD68795D7": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords"
              ],
              "Effect": "Allow",
              "Resource": "*"
            },
            {
              "Action": [
                "sqs:ReceiveMessage",
                "sqs:ChangeMessageVisibility",
                "sqs:GetQueueUrl",
                "sqs:DeleteMessage",
                "sqs:GetQueueAttributes"
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "undefinedstackjoberrorhandler8l8umwbawvs2siddyqggfj5788ED2D",
                  "Arn"
                ]
              }
            },
            {
              "Action": [
                "dynamodb:BatchGetItem",
                "dynamodb:GetRecords",
                "dynamodb:GetShardIterator",
                "dynamodb:Query",
                "dynamodb:GetItem",
                "dynamodb:Scan",
                "dynamodb:BatchWriteItem",
                "dynamodb:PutItem",
                "dynamodb:UpdateItem",
                "dynamodb:DeleteItem"
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "undefinedstackdocumentstable8l8umwbawvs2siddyqggfj968DE2AA",
                    "Arn"
                  ]
                },
                {
                  "Ref": "AWS::NoValue"
                }
              ]
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "undefinedstackjoberrorhandlerlambda8l8umwbawvs2siddyqggfjServiceRoleDefaultPolicyD68795D7",
        "Roles": [
          {
            "Ref": "undefinedstackjoberrorhandlerlambda8l8umwbawvs2siddyqggfjServiceRole7E4FFACB"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-joberrorhandlerlambda-8l8umwbawvs2siddyqggfj/ServiceRole/DefaultPolicy/Resource"
      }
    },
    "undefinedstackjoberrorhandlerlambda8l8umwbawvs2siddyqggfjD74198F9": {
      "Type": "AWS::Lambda::Function",
      "Properties": {
        "Code": {
          "S3Bucket": {
            "Ref": "AssetParametersc64f0aefd884e2bb1dffde28585ecc406f60180d97cd57a5e4978075d43cb9c5S3Bucket72A9658B"
          },
          "S3Key": {
            "Fn::Join": [
              "",
              [
                {
                  "Fn::Select": [
                    0,
                    {
                      "Fn::Split": [
                        "||",
                        {
                          "Ref": "AssetParametersc64f0aefd884e2bb1dffde28585ecc406f60180d97cd57a5e4978075d43cb9c5S3VersionKey97906397"
                        }
                      ]
                    }
                  ]
                },
                {
                  "Fn::Select": [
                    1,
                    {
                      "Fn::Split": [
                        "||",
                        {
                          "Ref": "AssetParametersc64f0aefd884e2bb1dffde28585ecc406f60180d97cd57a5e4978075d43cb9c5S3VersionKey97906397"
                        }
                      ]
                    }
                  ]
                }
              ]
            ]
          }
        },
        "Handler": "lambda_function.lambda_handler",
        "Role": {
          "Fn::GetAtt": [
            "undefinedstackjoberrorhandlerlambda8l8umwbawvs2siddyqggfjServiceRole7E4FFACB",
            "Arn"
          ]
        },
        "Runtime": "python3.8",
        "Environment": {
          "Variables": {
            "DOCUMENTS_TABLE": {
              "Ref": "undefinedstackdocumentstable8l8umwbawvs2siddyqggfj968DE2AA"
            }
          }
        },
        "Layers": [
          {
            "Ref": "undefinedstackhelperlayer8l8umwbawvs2siddyqggfj4DC92957"
          }
        ],
        "ReservedConcurrentExecutions": 7,
        "Timeout": 60,
        "TracingConfig": {
          "Mode": "Active"
        }
      },
      "DependsOn": [
        "undefinedstackjoberrorhandlerlambda8l8umwbawvs2siddyqggfjServiceRoleDefaultPolicyD68795D7",
        "undefinedstackjoberrorhandlerlambda8l8umwbawvs2siddyqggfjServiceRole7E4FFACB"
      ],
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-joberrorhandlerlambda-8l8umwbawvs2siddyqggfj/Resource",
        "aws:asset:path": "asset.c64f0aefd884e2bb1dffde28585ecc406f60180d97cd57a5e4978075d43cb9c5",
        "aws:asset:property": "Code"
      }
    },
    "undefinedstackjoberrorhandlerlambda8l8umwbawvs2siddyqggfjSqsEventSourceundefinedStackundefinedstackjoberrorhandler8l8umwbawvs2siddyqggfj0D833B964CB8817F": {
      "Type": "AWS::Lambda::EventSourceMapping",
      "Properties": {
        "EventSourceArn": {
          "Fn::GetAtt": [
            "undefinedstackjoberrorhandler8l8umwbawvs2siddyqggfj5788ED2D",
            "Arn"
          ]
        },
        "FunctionName": {
          "Ref": "undefinedstackjoberrorhandlerlambda8l8umwbawvs2siddyqggfjD74198F9"
        },
        "BatchSize": 1
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-joberrorhandlerlambda-8l8umwbawvs2siddyqggfj/SqsEventSource:undefinedStackundefinedstackjoberrorhandler8l8umwbawvs2siddyqggfj0D833B96/Resource"
      }
    },
    "undefinedstackpdfgenerator8l8umwbawvs2siddyqggfjServiceRole0EAAA349": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com"
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
              ]
            ]
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-pdfgenerator-8l8umwbawvs2siddyqggfj/ServiceRole/Resource"
      }
    },
    "undefinedstackpdfgenerator8l8umwbawvs2siddyqggfjServiceRoleDefaultPolicyA0B5808C": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords"
              ],
              "Effect": "Allow",
              "Resource": "*"
            },
            {
              "Action": [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*"
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "undefinedstackdocumentss3bucket8l8umwbawvs2siddyqggfjBBAF2406",
                    "Arn"
                  ]
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "undefinedstackdocumentss3bucket8l8umwbawvs2siddyqggfjBBAF2406",
                          "Arn"
                        ]
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            },
            {
              "Action": [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*"
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "undefinedstacksampless3bucket8l8umwbawvs2siddyqggfj4C1E76F8",
                    "Arn"
                  ]
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "undefinedstacksampless3bucket8l8umwbawvs2siddyqggfj4C1E76F8",
                          "Arn"
                        ]
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "undefinedstackpdfgenerator8l8umwbawvs2siddyqggfjServiceRoleDefaultPolicyA0B5808C",
        "Roles": [
          {
            "Ref": "undefinedstackpdfgenerator8l8umwbawvs2siddyqggfjServiceRole0EAAA349"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-pdfgenerator-8l8umwbawvs2siddyqggfj/ServiceRole/DefaultPolicy/Resource"
      }
    },
    "undefinedstackpdfgenerator8l8umwbawvs2siddyqggfj889A0F9A": {
      "Type": "AWS::Lambda::Function",
      "Properties": {
        "Code": {
          "S3Bucket": "SOURCE_BUCKET",
          "S3Key": "SOLUTION_NAME/CODE_VERSION/searchable-pdf-1.0.jar"
        },
        "Handler": "DemoLambdaV2::handleRequest",
        "Role": {
          "Fn::GetAtt": [
            "undefinedstackpdfgenerator8l8umwbawvs2siddyqggfjServiceRole0EAAA349",
            "Arn"
          ]
        },
        "Runtime": "java8",
        "MemorySize": 3000,
        "ReservedConcurrentExecutions": 30,
        "Timeout": 900,
        "TracingConfig": {
          "Mode": "Active"
        }
      },
      "DependsOn": [
        "undefinedstackpdfgenerator8l8umwbawvs2siddyqggfjServiceRoleDefaultPolicyA0B5808C",
        "undefinedstackpdfgenerator8l8umwbawvs2siddyqggfjServiceRole0EAAA349"
      ],
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-pdfgenerator-8l8umwbawvs2siddyqggfj/Resource"
      }
    },
    "undefinedstacksyncprocessor8l8umwbawvs2siddyqggfjServiceRole4D7F5644": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com"
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
              ]
            ]
          },
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"
              ]
            ]
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-syncprocessor-8l8umwbawvs2siddyqggfj/ServiceRole/Resource"
      }
    },
    "undefinedstacksyncprocessor8l8umwbawvs2siddyqggfjServiceRoleDefaultPolicy1CC90677": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords"
              ],
              "Effect": "Allow",
              "Resource": "*"
            },
            {
              "Action": [
                "sqs:ReceiveMessage",
                "sqs:ChangeMessageVisibility",
                "sqs:GetQueueUrl",
                "sqs:DeleteMessage",
                "sqs:GetQueueAttributes"
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "undefinedstacksyncjobs8l8umwbawvs2siddyqggfj0B91E699",
                  "Arn"
                ]
              }
            },
            {
              "Action": [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*"
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "undefinedstackdocumentss3bucket8l8umwbawvs2siddyqggfjBBAF2406",
                    "Arn"
                  ]
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "undefinedstackdocumentss3bucket8l8umwbawvs2siddyqggfjBBAF2406",
                          "Arn"
                        ]
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            },
            {
              "Action": [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*"
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "undefinedstacksampless3bucket8l8umwbawvs2siddyqggfj4C1E76F8",
                    "Arn"
                  ]
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "undefinedstacksampless3bucket8l8umwbawvs2siddyqggfj4C1E76F8",
                          "Arn"
                        ]
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            },
            {
              "Action": [
                "dynamodb:BatchGetItem",
                "dynamodb:GetRecords",
                "dynamodb:GetShardIterator",
                "dynamodb:Query",
                "dynamodb:GetItem",
                "dynamodb:Scan",
                "dynamodb:BatchWriteItem",
                "dynamodb:PutItem",
                "dynamodb:UpdateItem",
                "dynamodb:DeleteItem"
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "undefinedstackoutputtable8l8umwbawvs2siddyqggfjF9D76796",
                    "Arn"
                  ]
                },
                {
                  "Ref": "AWS::NoValue"
                }
              ]
            },
            {
              "Action": [
                "dynamodb:BatchGetItem",
                "dynamodb:GetRecords",
                "dynamodb:GetShardIterator",
                "dynamodb:Query",
                "dynamodb:GetItem",
                "dynamodb:Scan",
                "dynamodb:BatchWriteItem",
                "dynamodb:PutItem",
                "dynamodb:UpdateItem",
                "dynamodb:DeleteItem"
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "undefinedstackdocumentstable8l8umwbawvs2siddyqggfj968DE2AA",
                    "Arn"
                  ]
                },
                {
                  "Ref": "AWS::NoValue"
                }
              ]
            },
            {
              "Action": [
                "kms:Decrypt",
                "kms:Encrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey*"
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "esEncryptionKey7A7DDC6B",
                  "Arn"
                ]
              }
            },
            {
              "Action": [
                "es:ESHttpHead",
                "es:Get*",
                "es:List*",
                "es:Describe*",
                "es:ESHttpGet",
                "es:ESHttpDelete",
                "es:ESHttpPost",
                "es:ESHttpPut"
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::Join": [
                  "",
                  [
                    {
                      "Fn::GetAtt": [
                        "undefinedstackelasticsearchcluster8l8umwbawvs2siddyqggfj",
                        "Arn"
                      ]
                    },
                    "/*"
                  ]
                ]
              }
            },
            {
              "Action": "lambda:InvokeFunction",
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "undefinedstackpdfgenerator8l8umwbawvs2siddyqggfj889A0F9A",
                  "Arn"
                ]
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "undefinedstacksyncprocessor8l8umwbawvs2siddyqggfjServiceRoleDefaultPolicy1CC90677",
        "Roles": [
          {
            "Ref": "undefinedstacksyncprocessor8l8umwbawvs2siddyqggfjServiceRole4D7F5644"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-syncprocessor-8l8umwbawvs2siddyqggfj/ServiceRole/DefaultPolicy/Resource"
      }
    },
    "undefinedstacksyncprocessor8l8umwbawvs2siddyqggfjSecurityGroup9BBFFFE3": {
      "Type": "AWS::EC2::SecurityGroup",
      "Properties": {
        "GroupDescription": "Automatic security group for Lambda Function undefinedStackundefinedstacksyncprocessor8l8umwbawvs2siddyqggfj88BD71DB",
        "SecurityGroupEgress": [
          {
            "CidrIp": "0.0.0.0/0",
            "Description": "Allow all outbound traffic by default",
            "IpProtocol": "-1"
          }
        ],
        "VpcId": {
          "Ref": "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjA9857165"
        }
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-syncprocessor-8l8umwbawvs2siddyqggfj/SecurityGroup/Resource"
      }
    },
    "undefinedstacksyncprocessor8l8umwbawvs2siddyqggfj29614706": {
      "Type": "AWS::Lambda::Function",
      "Properties": {
        "Code": {
          "S3Bucket": {
            "Ref": "AssetParameters7e7483c7f6b2d2bcc8221d18711ce19d6dd745532fa6ec00834ca7f2a1db4655S3BucketF0DADEB8"
          },
          "S3Key": {
            "Fn::Join": [
              "",
              [
                {
                  "Fn::Select": [
                    0,
                    {
                      "Fn::Split": [
                        "||",
                        {
                          "Ref": "AssetParameters7e7483c7f6b2d2bcc8221d18711ce19d6dd745532fa6ec00834ca7f2a1db4655S3VersionKeyCB3B9EFC"
                        }
                      ]
                    }
                  ]
                },
                {
                  "Fn::Select": [
                    1,
                    {
                      "Fn::Split": [
                        "||",
                        {
                          "Ref": "AssetParameters7e7483c7f6b2d2bcc8221d18711ce19d6dd745532fa6ec00834ca7f2a1db4655S3VersionKeyCB3B9EFC"
                        }
                      ]
                    }
                  ]
                }
              ]
            ]
          }
        },
        "Handler": "lambda_function.lambda_handler",
        "Role": {
          "Fn::GetAtt": [
            "undefinedstacksyncprocessor8l8umwbawvs2siddyqggfjServiceRole4D7F5644",
            "Arn"
          ]
        },
        "Runtime": "python3.8",
        "Environment": {
          "Variables": {
            "OUTPUT_BUCKET": {
              "Ref": "undefinedstackdocumentss3bucket8l8umwbawvs2siddyqggfjBBAF2406"
            },
            "OUTPUT_TABLE": {
              "Ref": "undefinedstackoutputtable8l8umwbawvs2siddyqggfjF9D76796"
            },
            "DOCUMENTS_TABLE": {
              "Ref": "undefinedstackdocumentstable8l8umwbawvs2siddyqggfj968DE2AA"
            },
            "ES_DOMAIN": {
              "Fn::GetAtt": [
                "undefinedstackelasticsearchcluster8l8umwbawvs2siddyqggfj",
                "DomainEndpoint"
              ]
            },
            "PDF_LAMBDA": {
              "Ref": "undefinedstackpdfgenerator8l8umwbawvs2siddyqggfj889A0F9A"
            }
          }
        },
        "Layers": [
          {
            "Ref": "undefinedstackhelperlayer8l8umwbawvs2siddyqggfj4DC92957"
          },
          {
            "Ref": "undefinedstacktextractor8l8umwbawvs2siddyqggfj9835FD37"
          },
          {
            "Ref": "undefinedstackboto38l8umwbawvs2siddyqggfj9C54B770"
          },
          {
            "Ref": "undefinedstackelasticsearchlayer8l8umwbawvs2siddyqggfj11AE2FBB"
          }
        ],
        "ReservedConcurrentExecutions": 10,
        "Timeout": 900,
        "TracingConfig": {
          "Mode": "Active"
        },
        "VpcConfig": {
          "SecurityGroupIds": [
            {
              "Fn::GetAtt": [
                "undefinedstacksyncprocessor8l8umwbawvs2siddyqggfjSecurityGroup9BBFFFE3",
                "GroupId"
              ]
            }
          ],
          "SubnetIds": [
            {
              "Ref": "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjPrivateSubnet1Subnet04CA9141"
            },
            {
              "Ref": "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjPrivateSubnet2Subnet88BB84FC"
            }
          ]
        }
      },
      "DependsOn": [
        "undefinedstacksyncprocessor8l8umwbawvs2siddyqggfjServiceRoleDefaultPolicy1CC90677",
        "undefinedstacksyncprocessor8l8umwbawvs2siddyqggfjServiceRole4D7F5644"
      ],
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-syncprocessor-8l8umwbawvs2siddyqggfj/Resource",
        "aws:asset:path": "asset.7e7483c7f6b2d2bcc8221d18711ce19d6dd745532fa6ec00834ca7f2a1db4655",
        "aws:asset:property": "Code"
      }
    },
    "undefinedstacksyncprocessor8l8umwbawvs2siddyqggfjSqsEventSourceundefinedStackundefinedstacksyncjobs8l8umwbawvs2siddyqggfj15BF6B061DDD3736": {
      "Type": "AWS::Lambda::EventSourceMapping",
      "Properties": {
        "EventSourceArn": {
          "Fn::GetAtt": [
            "undefinedstacksyncjobs8l8umwbawvs2siddyqggfj0B91E699",
            "Arn"
          ]
        },
        "FunctionName": {
          "Ref": "undefinedstacksyncprocessor8l8umwbawvs2siddyqggfj29614706"
        },
        "BatchSize": 1
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-syncprocessor-8l8umwbawvs2siddyqggfj/SqsEventSource:undefinedStackundefinedstacksyncjobs8l8umwbawvs2siddyqggfj15BF6B06/Resource"
      }
    },
    "undefinedstackasyncprocessor8l8umwbawvs2siddyqggfjServiceRoleB73D224D": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com"
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
              ]
            ]
          },
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"
              ]
            ]
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-asyncprocessor-8l8umwbawvs2siddyqggfj/ServiceRole/Resource"
      }
    },
    "undefinedstackasyncprocessor8l8umwbawvs2siddyqggfjServiceRoleDefaultPolicy50B076A1": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords"
              ],
              "Effect": "Allow",
              "Resource": "*"
            },
            {
              "Action": [
                "sqs:ReceiveMessage",
                "sqs:ChangeMessageVisibility",
                "sqs:GetQueueUrl",
                "sqs:DeleteMessage",
                "sqs:GetQueueAttributes"
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "undefinedstackasyncjobs8l8umwbawvs2siddyqggfj58661C0D",
                  "Arn"
                ]
              }
            },
            {
              "Action": [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*"
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "undefinedstackdocumentss3bucket8l8umwbawvs2siddyqggfjBBAF2406",
                    "Arn"
                  ]
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "undefinedstackdocumentss3bucket8l8umwbawvs2siddyqggfjBBAF2406",
                          "Arn"
                        ]
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            },
            {
              "Action": [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*"
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "undefinedstacksampless3bucket8l8umwbawvs2siddyqggfj4C1E76F8",
                    "Arn"
                  ]
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "undefinedstacksampless3bucket8l8umwbawvs2siddyqggfj4C1E76F8",
                          "Arn"
                        ]
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            },
            {
              "Action": "iam:PassRole",
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "undefinedstacktextractservicerole8l8umwbawvs2siddyqggfj01FE7A71",
                  "Arn"
                ]
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "undefinedstackasyncprocessor8l8umwbawvs2siddyqggfjServiceRoleDefaultPolicy50B076A1",
        "Roles": [
          {
            "Ref": "undefinedstackasyncprocessor8l8umwbawvs2siddyqggfjServiceRoleB73D224D"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-asyncprocessor-8l8umwbawvs2siddyqggfj/ServiceRole/DefaultPolicy/Resource"
      }
    },
    "undefinedstackasyncprocessor8l8umwbawvs2siddyqggfjSecurityGroupBC7BB869": {
      "Type": "AWS::EC2::SecurityGroup",
      "Properties": {
        "GroupDescription": "Automatic security group for Lambda Function undefinedStackundefinedstackasyncprocessor8l8umwbawvs2siddyqggfjA9CCCEAD",
        "SecurityGroupEgress": [
          {
            "CidrIp": "0.0.0.0/0",
            "Description": "Allow all outbound traffic by default",
            "IpProtocol": "-1"
          }
        ],
        "VpcId": {
          "Ref": "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjA9857165"
        }
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-asyncprocessor-8l8umwbawvs2siddyqggfj/SecurityGroup/Resource"
      }
    },
    "undefinedstackasyncprocessor8l8umwbawvs2siddyqggfj64AD89C5": {
      "Type": "AWS::Lambda::Function",
      "Properties": {
        "Code": {
          "S3Bucket": {
            "Ref": "AssetParameters34f36d262896e10312c0d3292463a75e722b9aa799fe0df73102d981ffee0ce1S3BucketCF6D4253"
          },
          "S3Key": {
            "Fn::Join": [
              "",
              [
                {
                  "Fn::Select": [
                    0,
                    {
                      "Fn::Split": [
                        "||",
                        {
                          "Ref": "AssetParameters34f36d262896e10312c0d3292463a75e722b9aa799fe0df73102d981ffee0ce1S3VersionKey2D245692"
                        }
                      ]
                    }
                  ]
                },
                {
                  "Fn::Select": [
                    1,
                    {
                      "Fn::Split": [
                        "||",
                        {
                          "Ref": "AssetParameters34f36d262896e10312c0d3292463a75e722b9aa799fe0df73102d981ffee0ce1S3VersionKey2D245692"
                        }
                      ]
                    }
                  ]
                }
              ]
            ]
          }
        },
        "Handler": "lambda_function.lambda_handler",
        "Role": {
          "Fn::GetAtt": [
            "undefinedstackasyncprocessor8l8umwbawvs2siddyqggfjServiceRoleB73D224D",
            "Arn"
          ]
        },
        "Runtime": "python3.8",
        "Environment": {
          "Variables": {
            "ASYNC_QUEUE_URL": {
              "Ref": "undefinedstackasyncjobs8l8umwbawvs2siddyqggfj58661C0D"
            },
            "SNS_TOPIC_ARN": {
              "Ref": "undefinedstackjobcompletiontopic8l8umwbawvs2siddyqggfjDBD57492"
            },
            "SNS_ROLE_ARN": {
              "Fn::GetAtt": [
                "undefinedstacktextractservicerole8l8umwbawvs2siddyqggfj01FE7A71",
                "Arn"
              ]
            }
          }
        },
        "Layers": [
          {
            "Ref": "undefinedstackhelperlayer8l8umwbawvs2siddyqggfj4DC92957"
          },
          {
            "Ref": "undefinedstackboto38l8umwbawvs2siddyqggfj9C54B770"
          }
        ],
        "ReservedConcurrentExecutions": 10,
        "Timeout": 120,
        "TracingConfig": {
          "Mode": "Active"
        },
        "VpcConfig": {
          "SecurityGroupIds": [
            {
              "Fn::GetAtt": [
                "undefinedstackasyncprocessor8l8umwbawvs2siddyqggfjSecurityGroupBC7BB869",
                "GroupId"
              ]
            }
          ],
          "SubnetIds": [
            {
              "Ref": "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjPrivateSubnet1Subnet04CA9141"
            },
            {
              "Ref": "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjPrivateSubnet2Subnet88BB84FC"
            }
          ]
        }
      },
      "DependsOn": [
        "undefinedstackasyncprocessor8l8umwbawvs2siddyqggfjServiceRoleDefaultPolicy50B076A1",
        "undefinedstackasyncprocessor8l8umwbawvs2siddyqggfjServiceRoleB73D224D"
      ],
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-asyncprocessor-8l8umwbawvs2siddyqggfj/Resource",
        "aws:asset:path": "asset.34f36d262896e10312c0d3292463a75e722b9aa799fe0df73102d981ffee0ce1",
        "aws:asset:property": "Code"
      }
    },
    "undefinedstackasyncprocessor8l8umwbawvs2siddyqggfjSqsEventSourceundefinedStackundefinedstackasyncjobs8l8umwbawvs2siddyqggfj3BDE797EEFC8DE83": {
      "Type": "AWS::Lambda::EventSourceMapping",
      "Properties": {
        "EventSourceArn": {
          "Fn::GetAtt": [
            "undefinedstackasyncjobs8l8umwbawvs2siddyqggfj58661C0D",
            "Arn"
          ]
        },
        "FunctionName": {
          "Ref": "undefinedstackasyncprocessor8l8umwbawvs2siddyqggfj64AD89C5"
        },
        "BatchSize": 1
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-asyncprocessor-8l8umwbawvs2siddyqggfj/SqsEventSource:undefinedStackundefinedstackasyncjobs8l8umwbawvs2siddyqggfj3BDE797E/Resource"
      }
    },
    "undefinedstackjobresultprocessor8l8umwbawvs2siddyqggfjServiceRoleCC51AA38": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com"
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
              ]
            ]
          },
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"
              ]
            ]
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-jobresultprocessor-8l8umwbawvs2siddyqggfj/ServiceRole/Resource"
      }
    },
    "undefinedstackjobresultprocessor8l8umwbawvs2siddyqggfjServiceRoleDefaultPolicy2E3F9073": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords"
              ],
              "Effect": "Allow",
              "Resource": "*"
            },
            {
              "Action": [
                "kms:Decrypt",
                "kms:Encrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey*"
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "undefinedstackjobresultskey8l8umwbawvs2siddyqggfjC263B2F4",
                  "Arn"
                ]
              }
            },
            {
              "Action": [
                "sqs:ReceiveMessage",
                "sqs:ChangeMessageVisibility",
                "sqs:GetQueueUrl",
                "sqs:DeleteMessage",
                "sqs:GetQueueAttributes"
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "undefinedstackjobresults8l8umwbawvs2siddyqggfjDAB52B29",
                  "Arn"
                ]
              }
            },
            {
              "Action": "kms:Decrypt",
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "undefinedstackjobresultskey8l8umwbawvs2siddyqggfjC263B2F4",
                  "Arn"
                ]
              }
            },
            {
              "Action": [
                "dynamodb:BatchGetItem",
                "dynamodb:GetRecords",
                "dynamodb:GetShardIterator",
                "dynamodb:Query",
                "dynamodb:GetItem",
                "dynamodb:Scan",
                "dynamodb:BatchWriteItem",
                "dynamodb:PutItem",
                "dynamodb:UpdateItem",
                "dynamodb:DeleteItem"
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "undefinedstackoutputtable8l8umwbawvs2siddyqggfjF9D76796",
                    "Arn"
                  ]
                },
                {
                  "Ref": "AWS::NoValue"
                }
              ]
            },
            {
              "Action": [
                "dynamodb:BatchGetItem",
                "dynamodb:GetRecords",
                "dynamodb:GetShardIterator",
                "dynamodb:Query",
                "dynamodb:GetItem",
                "dynamodb:Scan",
                "dynamodb:BatchWriteItem",
                "dynamodb:PutItem",
                "dynamodb:UpdateItem",
                "dynamodb:DeleteItem"
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "undefinedstackdocumentstable8l8umwbawvs2siddyqggfj968DE2AA",
                    "Arn"
                  ]
                },
                {
                  "Ref": "AWS::NoValue"
                }
              ]
            },
            {
              "Action": [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*"
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "undefinedstackdocumentss3bucket8l8umwbawvs2siddyqggfjBBAF2406",
                    "Arn"
                  ]
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "undefinedstackdocumentss3bucket8l8umwbawvs2siddyqggfjBBAF2406",
                          "Arn"
                        ]
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            },
            {
              "Action": [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*"
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "undefinedstacksampless3bucket8l8umwbawvs2siddyqggfj4C1E76F8",
                    "Arn"
                  ]
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "undefinedstacksampless3bucket8l8umwbawvs2siddyqggfj4C1E76F8",
                          "Arn"
                        ]
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            },
            {
              "Action": [
                "es:ESHttpHead",
                "es:Get*",
                "es:List*",
                "es:Describe*",
                "es:ESHttpGet",
                "es:ESHttpDelete",
                "es:ESHttpPost",
                "es:ESHttpPut"
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::Join": [
                  "",
                  [
                    {
                      "Fn::GetAtt": [
                        "undefinedstackelasticsearchcluster8l8umwbawvs2siddyqggfj",
                        "Arn"
                      ]
                    },
                    "/*"
                  ]
                ]
              }
            },
            {
              "Action": [
                "kms:Decrypt",
                "kms:Encrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey*"
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "esEncryptionKey7A7DDC6B",
                  "Arn"
                ]
              }
            },
            {
              "Action": "lambda:InvokeFunction",
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "undefinedstackpdfgenerator8l8umwbawvs2siddyqggfj889A0F9A",
                  "Arn"
                ]
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "undefinedstackjobresultprocessor8l8umwbawvs2siddyqggfjServiceRoleDefaultPolicy2E3F9073",
        "Roles": [
          {
            "Ref": "undefinedstackjobresultprocessor8l8umwbawvs2siddyqggfjServiceRoleCC51AA38"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-jobresultprocessor-8l8umwbawvs2siddyqggfj/ServiceRole/DefaultPolicy/Resource"
      }
    },
    "undefinedstackjobresultprocessor8l8umwbawvs2siddyqggfjSecurityGroupDB79D0A5": {
      "Type": "AWS::EC2::SecurityGroup",
      "Properties": {
        "GroupDescription": "Automatic security group for Lambda Function undefinedStackundefinedstackjobresultprocessor8l8umwbawvs2siddyqggfj7A7DC46B",
        "SecurityGroupEgress": [
          {
            "CidrIp": "0.0.0.0/0",
            "Description": "Allow all outbound traffic by default",
            "IpProtocol": "-1"
          }
        ],
        "VpcId": {
          "Ref": "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjA9857165"
        }
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-jobresultprocessor-8l8umwbawvs2siddyqggfj/SecurityGroup/Resource"
      }
    },
    "undefinedstackjobresultprocessor8l8umwbawvs2siddyqggfjC3E2A36E": {
      "Type": "AWS::Lambda::Function",
      "Properties": {
        "Code": {
          "S3Bucket": {
            "Ref": "AssetParametersf25f5a995f8fe273f547782f35b1e44fb7ac796200b64c568192d0eff7cdc037S3Bucket24012E8B"
          },
          "S3Key": {
            "Fn::Join": [
              "",
              [
                {
                  "Fn::Select": [
                    0,
                    {
                      "Fn::Split": [
                        "||",
                        {
                          "Ref": "AssetParametersf25f5a995f8fe273f547782f35b1e44fb7ac796200b64c568192d0eff7cdc037S3VersionKeyD31E4EB0"
                        }
                      ]
                    }
                  ]
                },
                {
                  "Fn::Select": [
                    1,
                    {
                      "Fn::Split": [
                        "||",
                        {
                          "Ref": "AssetParametersf25f5a995f8fe273f547782f35b1e44fb7ac796200b64c568192d0eff7cdc037S3VersionKeyD31E4EB0"
                        }
                      ]
                    }
                  ]
                }
              ]
            ]
          }
        },
        "Handler": "lambda_function.lambda_handler",
        "Role": {
          "Fn::GetAtt": [
            "undefinedstackjobresultprocessor8l8umwbawvs2siddyqggfjServiceRoleCC51AA38",
            "Arn"
          ]
        },
        "Runtime": "python3.8",
        "Environment": {
          "Variables": {
            "OUTPUT_BUCKET": {
              "Ref": "undefinedstackdocumentss3bucket8l8umwbawvs2siddyqggfjBBAF2406"
            },
            "OUTPUT_TABLE": {
              "Ref": "undefinedstackoutputtable8l8umwbawvs2siddyqggfjF9D76796"
            },
            "DOCUMENTS_TABLE": {
              "Ref": "undefinedstackdocumentstable8l8umwbawvs2siddyqggfj968DE2AA"
            },
            "ES_DOMAIN": {
              "Fn::GetAtt": [
                "undefinedstackelasticsearchcluster8l8umwbawvs2siddyqggfj",
                "DomainEndpoint"
              ]
            },
            "PDF_LAMBDA": {
              "Ref": "undefinedstackpdfgenerator8l8umwbawvs2siddyqggfj889A0F9A"
            }
          }
        },
        "Layers": [
          {
            "Ref": "undefinedstackhelperlayer8l8umwbawvs2siddyqggfj4DC92957"
          },
          {
            "Ref": "undefinedstacktextractor8l8umwbawvs2siddyqggfj9835FD37"
          },
          {
            "Ref": "undefinedstackboto38l8umwbawvs2siddyqggfj9C54B770"
          },
          {
            "Ref": "undefinedstackelasticsearchlayer8l8umwbawvs2siddyqggfj11AE2FBB"
          }
        ],
        "MemorySize": 2000,
        "ReservedConcurrentExecutions": 10,
        "Timeout": 900,
        "TracingConfig": {
          "Mode": "Active"
        },
        "VpcConfig": {
          "SecurityGroupIds": [
            {
              "Fn::GetAtt": [
                "undefinedstackjobresultprocessor8l8umwbawvs2siddyqggfjSecurityGroupDB79D0A5",
                "GroupId"
              ]
            }
          ],
          "SubnetIds": [
            {
              "Ref": "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjPrivateSubnet1Subnet04CA9141"
            },
            {
              "Ref": "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjPrivateSubnet2Subnet88BB84FC"
            }
          ]
        }
      },
      "DependsOn": [
        "undefinedstackjobresultprocessor8l8umwbawvs2siddyqggfjServiceRoleDefaultPolicy2E3F9073",
        "undefinedstackjobresultprocessor8l8umwbawvs2siddyqggfjServiceRoleCC51AA38"
      ],
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-jobresultprocessor-8l8umwbawvs2siddyqggfj/Resource",
        "aws:asset:path": "asset.f25f5a995f8fe273f547782f35b1e44fb7ac796200b64c568192d0eff7cdc037",
        "aws:asset:property": "Code"
      }
    },
    "undefinedstackjobresultprocessor8l8umwbawvs2siddyqggfjSqsEventSourceundefinedStackundefinedstackjobresults8l8umwbawvs2siddyqggfj963879BA84F311FB": {
      "Type": "AWS::Lambda::EventSourceMapping",
      "Properties": {
        "EventSourceArn": {
          "Fn::GetAtt": [
            "undefinedstackjobresults8l8umwbawvs2siddyqggfjDAB52B29",
            "Arn"
          ]
        },
        "FunctionName": {
          "Ref": "undefinedstackjobresultprocessor8l8umwbawvs2siddyqggfjC3E2A36E"
        },
        "BatchSize": 1
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-jobresultprocessor-8l8umwbawvs2siddyqggfj/SqsEventSource:undefinedStackundefinedstackjobresults8l8umwbawvs2siddyqggfj963879BA/Resource"
      }
    },
    "textractSyncPolicy8992A727": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "textract:DetectDocumentText",
                "textract:AnalyzeDocument"
              ],
              "Effect": "Allow",
              "Resource": "*"
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "textractSyncPolicy8992A727",
        "Roles": [
          {
            "Ref": "undefinedstacksyncprocessor8l8umwbawvs2siddyqggfjServiceRole4D7F5644"
          }
        ]
      },
      "Metadata": {
        "cfn_nag": {
          "rules_to_suppress": [
            {
              "id": "W12",
              "reason": "Currently, some AI services does not support resource level permissions"
            }
          ]
        }
      }
    },
    "textractAsyncPolicy9290AE26": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "textract:StartDocumentTextDetection",
                "textract:StartDocumentAnalysis"
              ],
              "Effect": "Allow",
              "Resource": "*"
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "textractAsyncPolicy9290AE26",
        "Roles": [
          {
            "Ref": "undefinedstackasyncprocessor8l8umwbawvs2siddyqggfjServiceRoleB73D224D"
          }
        ]
      },
      "Metadata": {
        "cfn_nag": {
          "rules_to_suppress": [
            {
              "id": "W12",
              "reason": "Currently, some AI services does not support resource level permissions"
            }
          ]
        }
      }
    },
    "textractJobResultsPolicy5D19E09A": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "textract:GetDocumentTextDetection",
                "textract:GetDocumentAnalysis"
              ],
              "Effect": "Allow",
              "Resource": "*"
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "textractJobResultsPolicy5D19E09A",
        "Roles": [
          {
            "Ref": "undefinedstackjobresultprocessor8l8umwbawvs2siddyqggfjServiceRoleCC51AA38"
          }
        ]
      },
      "Metadata": {
        "cfn_nag": {
          "rules_to_suppress": [
            {
              "id": "W12",
              "reason": "Currently, some AI services does not support resource level permissions"
            }
          ]
        }
      }
    },
    "comprehendPolicy3D5B3AB3": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "comprehend:BatchDetectEntities",
                "comprehend:DetectEntities"
              ],
              "Effect": "Allow",
              "Resource": "*"
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "comprehendPolicy3D5B3AB3",
        "Roles": [
          {
            "Ref": "undefinedstacksyncprocessor8l8umwbawvs2siddyqggfjServiceRole4D7F5644"
          },
          {
            "Ref": "undefinedstackjobresultprocessor8l8umwbawvs2siddyqggfjServiceRoleCC51AA38"
          }
        ]
      },
      "Metadata": {
        "cfn_nag": {
          "rules_to_suppress": [
            {
              "id": "W12",
              "reason": "Currently, some AI services does not support resource level permissions"
            }
          ]
        }
      }
    },
    "comprehendMedicalPolicyCC29C4A5": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "comprehendmedical:InferICD10CM",
                "comprehendmedical:DetectEntitiesV2"
              ],
              "Effect": "Allow",
              "Resource": "*"
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "comprehendMedicalPolicyCC29C4A5",
        "Roles": [
          {
            "Ref": "undefinedstacksyncprocessor8l8umwbawvs2siddyqggfjServiceRole4D7F5644"
          },
          {
            "Ref": "undefinedstackjobresultprocessor8l8umwbawvs2siddyqggfjServiceRoleCC51AA38"
          }
        ]
      },
      "Metadata": {
        "cfn_nag": {
          "rules_to_suppress": [
            {
              "id": "W12",
              "reason": "Currently, some AI services does not support resource level permissions"
            }
          ]
        }
      }
    },
    "undefinedstackapiprocessor8l8umwbawvs2siddyqggfjServiceRole361759CA": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com"
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
              ]
            ]
          },
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"
              ]
            ]
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-apiprocessor-8l8umwbawvs2siddyqggfj/ServiceRole/Resource"
      }
    },
    "undefinedstackapiprocessor8l8umwbawvs2siddyqggfjServiceRoleDefaultPolicy2224F3E3": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords"
              ],
              "Effect": "Allow",
              "Resource": "*"
            },
            {
              "Action": [
                "dynamodb:BatchGetItem",
                "dynamodb:GetRecords",
                "dynamodb:GetShardIterator",
                "dynamodb:Query",
                "dynamodb:GetItem",
                "dynamodb:Scan",
                "dynamodb:BatchWriteItem",
                "dynamodb:PutItem",
                "dynamodb:UpdateItem",
                "dynamodb:DeleteItem"
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "undefinedstackdocumentstable8l8umwbawvs2siddyqggfj968DE2AA",
                    "Arn"
                  ]
                },
                {
                  "Ref": "AWS::NoValue"
                }
              ]
            },
            {
              "Action": "dynamodb:DescribeTable",
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "undefinedstackdocumentstable8l8umwbawvs2siddyqggfj968DE2AA",
                    "Arn"
                  ]
                },
                {
                  "Ref": "AWS::NoValue"
                }
              ]
            },
            {
              "Action": [
                "dynamodb:BatchGetItem",
                "dynamodb:GetRecords",
                "dynamodb:GetShardIterator",
                "dynamodb:Query",
                "dynamodb:GetItem",
                "dynamodb:Scan",
                "dynamodb:BatchWriteItem",
                "dynamodb:PutItem",
                "dynamodb:UpdateItem",
                "dynamodb:DeleteItem"
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "undefinedstackoutputtable8l8umwbawvs2siddyqggfjF9D76796",
                    "Arn"
                  ]
                },
                {
                  "Ref": "AWS::NoValue"
                }
              ]
            },
            {
              "Action": [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*"
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "undefinedstackdocumentss3bucket8l8umwbawvs2siddyqggfjBBAF2406",
                    "Arn"
                  ]
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "undefinedstackdocumentss3bucket8l8umwbawvs2siddyqggfjBBAF2406",
                          "Arn"
                        ]
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            },
            {
              "Action": [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*"
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "undefinedstacksampless3bucket8l8umwbawvs2siddyqggfj4C1E76F8",
                    "Arn"
                  ]
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "undefinedstacksampless3bucket8l8umwbawvs2siddyqggfj4C1E76F8",
                          "Arn"
                        ]
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            },
            {
              "Action": [
                "es:ESHttpHead",
                "es:Get*",
                "es:List*",
                "es:Describe*",
                "es:ESHttpGet",
                "es:ESHttpDelete",
                "es:ESHttpPost",
                "es:ESHttpPut"
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::Join": [
                  "",
                  [
                    {
                      "Fn::GetAtt": [
                        "undefinedstackelasticsearchcluster8l8umwbawvs2siddyqggfj",
                        "Arn"
                      ]
                    },
                    "/*"
                  ]
                ]
              }
            },
            {
              "Action": [
                "kms:Decrypt",
                "kms:Encrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey*"
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "esEncryptionKey7A7DDC6B",
                  "Arn"
                ]
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "undefinedstackapiprocessor8l8umwbawvs2siddyqggfjServiceRoleDefaultPolicy2224F3E3",
        "Roles": [
          {
            "Ref": "undefinedstackapiprocessor8l8umwbawvs2siddyqggfjServiceRole361759CA"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-apiprocessor-8l8umwbawvs2siddyqggfj/ServiceRole/DefaultPolicy/Resource"
      }
    },
    "undefinedstackapiprocessor8l8umwbawvs2siddyqggfjSecurityGroup38D363EA": {
      "Type": "AWS::EC2::SecurityGroup",
      "Properties": {
        "GroupDescription": "Automatic security group for Lambda Function undefinedStackundefinedstackapiprocessor8l8umwbawvs2siddyqggfj07DC6123",
        "SecurityGroupEgress": [
          {
            "CidrIp": "0.0.0.0/0",
            "Description": "Allow all outbound traffic by default",
            "IpProtocol": "-1"
          }
        ],
        "VpcId": {
          "Ref": "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjA9857165"
        }
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-apiprocessor-8l8umwbawvs2siddyqggfj/SecurityGroup/Resource"
      }
    },
    "undefinedstackapiprocessor8l8umwbawvs2siddyqggfj11C9442C": {
      "Type": "AWS::Lambda::Function",
      "Properties": {
        "Code": {
          "S3Bucket": {
            "Ref": "AssetParameters0b79599fa5352e498af90b39a606dcfd30b5002be0d66462be2ab75eaf94e44dS3BucketF845A7E1"
          },
          "S3Key": {
            "Fn::Join": [
              "",
              [
                {
                  "Fn::Select": [
                    0,
                    {
                      "Fn::Split": [
                        "||",
                        {
                          "Ref": "AssetParameters0b79599fa5352e498af90b39a606dcfd30b5002be0d66462be2ab75eaf94e44dS3VersionKey740B33F7"
                        }
                      ]
                    }
                  ]
                },
                {
                  "Fn::Select": [
                    1,
                    {
                      "Fn::Split": [
                        "||",
                        {
                          "Ref": "AssetParameters0b79599fa5352e498af90b39a606dcfd30b5002be0d66462be2ab75eaf94e44dS3VersionKey740B33F7"
                        }
                      ]
                    }
                  ]
                }
              ]
            ]
          }
        },
        "Handler": "lambda_function.lambda_handler",
        "Role": {
          "Fn::GetAtt": [
            "undefinedstackapiprocessor8l8umwbawvs2siddyqggfjServiceRole361759CA",
            "Arn"
          ]
        },
        "Runtime": "python3.8",
        "Environment": {
          "Variables": {
            "CONTENT_BUCKET": {
              "Ref": "undefinedstackdocumentss3bucket8l8umwbawvs2siddyqggfjBBAF2406"
            },
            "SAMPLE_BUCKET": {
              "Ref": "undefinedstacksampless3bucket8l8umwbawvs2siddyqggfj4C1E76F8"
            },
            "OUTPUT_TABLE": {
              "Ref": "undefinedstackoutputtable8l8umwbawvs2siddyqggfjF9D76796"
            },
            "DOCUMENTS_TABLE": {
              "Ref": "undefinedstackdocumentstable8l8umwbawvs2siddyqggfj968DE2AA"
            },
            "ES_DOMAIN": {
              "Fn::GetAtt": [
                "undefinedstackelasticsearchcluster8l8umwbawvs2siddyqggfj",
                "DomainEndpoint"
              ]
            }
          }
        },
        "Layers": [
          {
            "Ref": "undefinedstackelasticsearchlayer8l8umwbawvs2siddyqggfj11AE2FBB"
          },
          {
            "Ref": "undefinedstackhelperlayer8l8umwbawvs2siddyqggfj4DC92957"
          }
        ],
        "ReservedConcurrentExecutions": 30,
        "Timeout": 60,
        "TracingConfig": {
          "Mode": "Active"
        },
        "VpcConfig": {
          "SecurityGroupIds": [
            {
              "Fn::GetAtt": [
                "undefinedstackapiprocessor8l8umwbawvs2siddyqggfjSecurityGroup38D363EA",
                "GroupId"
              ]
            }
          ],
          "SubnetIds": [
            {
              "Ref": "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjPrivateSubnet1Subnet04CA9141"
            },
            {
              "Ref": "undefinedstackelasticsearchvpc8l8umwbawvs2siddyqggfjPrivateSubnet2Subnet88BB84FC"
            }
          ]
        }
      },
      "DependsOn": [
        "undefinedstackapiprocessor8l8umwbawvs2siddyqggfjServiceRoleDefaultPolicy2224F3E3",
        "undefinedstackapiprocessor8l8umwbawvs2siddyqggfjServiceRole361759CA"
      ],
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-apiprocessor-8l8umwbawvs2siddyqggfj/Resource",
        "aws:asset:path": "asset.0b79599fa5352e498af90b39a606dcfd30b5002be0d66462be2ab75eaf94e44d",
        "aws:asset:property": "Code"
      }
    },
    "undefinedstackdusapiloggroup8l8umwbawvs2siddyqggfjC6E43420": {
      "Type": "AWS::Logs::LogGroup",
      "Properties": {
        "LogGroupName": "undefinedstack-dusapiloggroup-8l8umwbawvs2siddyqggfj",
        "RetentionInDays": 731
      },
      "UpdateReplacePolicy": "Retain",
      "DeletionPolicy": "Retain",
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-dusapiloggroup-8l8umwbawvs2siddyqggfj/Resource"
      }
    },
    "undefinedstackdusapi8l8umwbawvs2siddyqggfjA99C9D09": {
      "Type": "AWS::ApiGateway::RestApi",
      "Properties": {
        "Name": "undefinedstack-dusapi-8l8umwbawvs2siddyqggfj"
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-dusapi-8l8umwbawvs2siddyqggfj/Resource"
      }
    },
    "undefinedstackdusapi8l8umwbawvs2siddyqggfjCloudWatchRole99D1789E": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "apigateway.amazonaws.com"
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs"
              ]
            ]
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-dusapi-8l8umwbawvs2siddyqggfj/CloudWatchRole/Resource"
      }
    },
    "undefinedstackdusapi8l8umwbawvs2siddyqggfjAccountB609DE37": {
      "Type": "AWS::ApiGateway::Account",
      "Properties": {
        "CloudWatchRoleArn": {
          "Fn::GetAtt": [
            "undefinedstackdusapi8l8umwbawvs2siddyqggfjCloudWatchRole99D1789E",
            "Arn"
          ]
        }
      },
      "DependsOn": [
        "undefinedstackdusapi8l8umwbawvs2siddyqggfjA99C9D09"
      ],
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-dusapi-8l8umwbawvs2siddyqggfj/Account"
      }
    },
    "undefinedstackdusapi8l8umwbawvs2siddyqggfjDeployment9606D9759d047c6a19570794f456685401699a7c": {
      "Type": "AWS::ApiGateway::Deployment",
      "Properties": {
        "RestApiId": {
          "Ref": "undefinedstackdusapi8l8umwbawvs2siddyqggfjA99C9D09"
        },
        "Description": "Automatically created by the RestApi construct"
      },
      "DependsOn": [
        "undefinedstackapigwresourcevalidator8l8umwbawvs2siddyqggfjD231939E",
        "undefinedstackdusapi8l8umwbawvs2siddyqggfjdocumentDELETE33C7D363",
        "undefinedstackdusapi8l8umwbawvs2siddyqggfjdocumentGETCD6F7093",
        "undefinedstackdusapi8l8umwbawvs2siddyqggfjdocumentOPTIONSC3D63D45",
        "undefinedstackdusapi8l8umwbawvs2siddyqggfjdocumentPOST6F60A52E",
        "undefinedstackdusapi8l8umwbawvs2siddyqggfjdocument32412D9A",
        "undefinedstackdusapi8l8umwbawvs2siddyqggfjdocumentsGETC4DC3942",
        "undefinedstackdusapi8l8umwbawvs2siddyqggfjdocumentsOPTIONS3A1D7487",
        "undefinedstackdusapi8l8umwbawvs2siddyqggfjdocuments8C6187B4",
        "undefinedstackdusapi8l8umwbawvs2siddyqggfjOPTIONS9D44E509",
        "undefinedstackdusapi8l8umwbawvs2siddyqggfjredactGETAA6EA93E",
        "undefinedstackdusapi8l8umwbawvs2siddyqggfjredactOPTIONS45524663",
        "undefinedstackdusapi8l8umwbawvs2siddyqggfjredactPOSTB92C314B",
        "undefinedstackdusapi8l8umwbawvs2siddyqggfjredact151D4561",
        "undefinedstackdusapi8l8umwbawvs2siddyqggfjsearchGETCD51E41C",
        "undefinedstackdusapi8l8umwbawvs2siddyqggfjsearchOPTIONS8B3B9B99",
        "undefinedstackdusapi8l8umwbawvs2siddyqggfjsearchE5220D92"
      ],
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-dusapi-8l8umwbawvs2siddyqggfj/Deployment/Resource"
      }
    },
    "undefinedstackdusapi8l8umwbawvs2siddyqggfjDeploymentStageprodE3125F0C": {
      "Type": "AWS::ApiGateway::Stage",
      "Properties": {
        "RestApiId": {
          "Ref": "undefinedstackdusapi8l8umwbawvs2siddyqggfjA99C9D09"
        },
        "AccessLogSetting": {
          "DestinationArn": {
            "Fn::GetAtt": [
              "undefinedstackdusapiloggroup8l8umwbawvs2siddyqggfjC6E43420",
              "Arn"
            ]
          },
          "Format": "{\"requestId\":\"$context.requestId\",\"ip\":\"$context.identity.sourceIp\",\"user\":\"$context.identity.user\",\"caller\":\"$context.identity.caller\",\"requestTime\":\"$context.requestTime\",\"httpMethod\":\"$context.httpMethod\",\"resourcePath\":\"$context.resourcePath\",\"status\":\"$context.status\",\"protocol\":\"$context.protocol\",\"responseLength\":\"$context.responseLength\"}"
        },
        "DeploymentId": {
          "Ref": "undefinedstackdusapi8l8umwbawvs2siddyqggfjDeployment9606D9759d047c6a19570794f456685401699a7c"
        },
        "MethodSettings": [
          {
            "DataTraceEnabled": false,
            "HttpMethod": "*",
            "LoggingLevel": "INFO",
            "ResourcePath": "/*"
          }
        ],
        "StageName": "prod"
      },
      "Metadata": {
        "cfn_nag": {
          "rules_to_suppress": [
            {
              "id": "W64",
              "reason": "No usage plan intended"
            }
          ]
        }
      }
    },
    "undefinedstackdusapi8l8umwbawvs2siddyqggfjOPTIONS9D44E509": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "HttpMethod": "OPTIONS",
        "ResourceId": {
          "Fn::GetAtt": [
            "undefinedstackdusapi8l8umwbawvs2siddyqggfjA99C9D09",
            "RootResourceId"
          ]
        },
        "RestApiId": {
          "Ref": "undefinedstackdusapi8l8umwbawvs2siddyqggfjA99C9D09"
        },
        "AuthorizationType": "NONE",
        "Integration": {
          "IntegrationResponses": [
            {
              "ResponseParameters": {
                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                "method.response.header.Access-Control-Allow-Origin": "'*'",
                "method.response.header.Access-Control-Allow-Credentials": "'false'",
                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE'"
              },
              "StatusCode": "200"
            }
          ],
          "PassthroughBehavior": "NEVER",
          "RequestTemplates": {
            "application/json": "{\"statusCode\": 200}"
          },
          "Type": "MOCK"
        },
        "MethodResponses": [
          {
            "ResponseParameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Methods": true,
              "method.response.header.Access-Control-Allow-Credentials": true,
              "method.response.header.Access-Control-Allow-Origin": true
            },
            "StatusCode": "200"
          }
        ],
        "RequestValidatorId": {
          "Ref": "undefinedstackapigwresourcevalidator8l8umwbawvs2siddyqggfjD231939E"
        }
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-dusapi-8l8umwbawvs2siddyqggfj/Default/OPTIONS/Resource"
      }
    },
    "undefinedstackdusapi8l8umwbawvs2siddyqggfjsearchE5220D92": {
      "Type": "AWS::ApiGateway::Resource",
      "Properties": {
        "ParentId": {
          "Fn::GetAtt": [
            "undefinedstackdusapi8l8umwbawvs2siddyqggfjA99C9D09",
            "RootResourceId"
          ]
        },
        "PathPart": "search",
        "RestApiId": {
          "Ref": "undefinedstackdusapi8l8umwbawvs2siddyqggfjA99C9D09"
        }
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-dusapi-8l8umwbawvs2siddyqggfj/Default/search/Resource"
      }
    },
    "undefinedstackdusapi8l8umwbawvs2siddyqggfjsearchOPTIONS8B3B9B99": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "HttpMethod": "OPTIONS",
        "ResourceId": {
          "Ref": "undefinedstackdusapi8l8umwbawvs2siddyqggfjsearchE5220D92"
        },
        "RestApiId": {
          "Ref": "undefinedstackdusapi8l8umwbawvs2siddyqggfjA99C9D09"
        },
        "AuthorizationType": "NONE",
        "Integration": {
          "IntegrationResponses": [
            {
              "ResponseParameters": {
                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                "method.response.header.Access-Control-Allow-Origin": "'*'",
                "method.response.header.Access-Control-Allow-Credentials": "'false'",
                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE'"
              },
              "StatusCode": "200"
            }
          ],
          "PassthroughBehavior": "NEVER",
          "RequestTemplates": {
            "application/json": "{\"statusCode\": 200}"
          },
          "Type": "MOCK"
        },
        "MethodResponses": [
          {
            "ResponseParameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Methods": true,
              "method.response.header.Access-Control-Allow-Credentials": true,
              "method.response.header.Access-Control-Allow-Origin": true
            },
            "StatusCode": "200"
          }
        ],
        "RequestValidatorId": {
          "Ref": "undefinedstackapigwresourcevalidator8l8umwbawvs2siddyqggfjD231939E"
        }
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-dusapi-8l8umwbawvs2siddyqggfj/Default/search/OPTIONS/Resource"
      }
    },
    "undefinedstackdusapi8l8umwbawvs2siddyqggfjsearchGETApiPermissionundefinedStackundefinedstackdusapi8l8umwbawvs2siddyqggfj9DF179D6GETsearch3649E289": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "undefinedstackapiprocessor8l8umwbawvs2siddyqggfj11C9442C",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "undefinedstackdusapi8l8umwbawvs2siddyqggfjA99C9D09"
              },
              "/",
              {
                "Ref": "undefinedstackdusapi8l8umwbawvs2siddyqggfjDeploymentStageprodE3125F0C"
              },
              "/GET/search"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-dusapi-8l8umwbawvs2siddyqggfj/Default/search/GET/ApiPermission.undefinedStackundefinedstackdusapi8l8umwbawvs2siddyqggfj9DF179D6.GET..search"
      }
    },
    "undefinedstackdusapi8l8umwbawvs2siddyqggfjsearchGETApiPermissionTestundefinedStackundefinedstackdusapi8l8umwbawvs2siddyqggfj9DF179D6GETsearchD7A1DC0E": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "undefinedstackapiprocessor8l8umwbawvs2siddyqggfj11C9442C",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "undefinedstackdusapi8l8umwbawvs2siddyqggfjA99C9D09"
              },
              "/test-invoke-stage/GET/search"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-dusapi-8l8umwbawvs2siddyqggfj/Default/search/GET/ApiPermission.Test.undefinedStackundefinedstackdusapi8l8umwbawvs2siddyqggfj9DF179D6.GET..search"
      }
    },
    "undefinedstackdusapi8l8umwbawvs2siddyqggfjsearchGETCD51E41C": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "HttpMethod": "GET",
        "ResourceId": {
          "Ref": "undefinedstackdusapi8l8umwbawvs2siddyqggfjsearchE5220D92"
        },
        "RestApiId": {
          "Ref": "undefinedstackdusapi8l8umwbawvs2siddyqggfjA99C9D09"
        },
        "AuthorizationType": "COGNITO_USER_POOLS",
        "AuthorizerId": {
          "Ref": "Authorizer"
        },
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region"
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "undefinedstackapiprocessor8l8umwbawvs2siddyqggfj11C9442C",
                    "Arn"
                  ]
                },
                "/invocations"
              ]
            ]
          }
        }
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-dusapi-8l8umwbawvs2siddyqggfj/Default/search/GET/Resource"
      }
    },
    "undefinedstackdusapi8l8umwbawvs2siddyqggfjdocuments8C6187B4": {
      "Type": "AWS::ApiGateway::Resource",
      "Properties": {
        "ParentId": {
          "Fn::GetAtt": [
            "undefinedstackdusapi8l8umwbawvs2siddyqggfjA99C9D09",
            "RootResourceId"
          ]
        },
        "PathPart": "documents",
        "RestApiId": {
          "Ref": "undefinedstackdusapi8l8umwbawvs2siddyqggfjA99C9D09"
        }
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-dusapi-8l8umwbawvs2siddyqggfj/Default/documents/Resource"
      }
    },
    "undefinedstackdusapi8l8umwbawvs2siddyqggfjdocumentsOPTIONS3A1D7487": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "HttpMethod": "OPTIONS",
        "ResourceId": {
          "Ref": "undefinedstackdusapi8l8umwbawvs2siddyqggfjdocuments8C6187B4"
        },
        "RestApiId": {
          "Ref": "undefinedstackdusapi8l8umwbawvs2siddyqggfjA99C9D09"
        },
        "AuthorizationType": "NONE",
        "Integration": {
          "IntegrationResponses": [
            {
              "ResponseParameters": {
                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                "method.response.header.Access-Control-Allow-Origin": "'*'",
                "method.response.header.Access-Control-Allow-Credentials": "'false'",
                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE'"
              },
              "StatusCode": "200"
            }
          ],
          "PassthroughBehavior": "NEVER",
          "RequestTemplates": {
            "application/json": "{\"statusCode\": 200}"
          },
          "Type": "MOCK"
        },
        "MethodResponses": [
          {
            "ResponseParameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Methods": true,
              "method.response.header.Access-Control-Allow-Credentials": true,
              "method.response.header.Access-Control-Allow-Origin": true
            },
            "StatusCode": "200"
          }
        ],
        "RequestValidatorId": {
          "Ref": "undefinedstackapigwresourcevalidator8l8umwbawvs2siddyqggfjD231939E"
        }
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-dusapi-8l8umwbawvs2siddyqggfj/Default/documents/OPTIONS/Resource"
      }
    },
    "undefinedstackdusapi8l8umwbawvs2siddyqggfjdocumentsGETApiPermissionundefinedStackundefinedstackdusapi8l8umwbawvs2siddyqggfj9DF179D6GETdocumentsDD5BD8D9": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "undefinedstackapiprocessor8l8umwbawvs2siddyqggfj11C9442C",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "undefinedstackdusapi8l8umwbawvs2siddyqggfjA99C9D09"
              },
              "/",
              {
                "Ref": "undefinedstackdusapi8l8umwbawvs2siddyqggfjDeploymentStageprodE3125F0C"
              },
              "/GET/documents"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-dusapi-8l8umwbawvs2siddyqggfj/Default/documents/GET/ApiPermission.undefinedStackundefinedstackdusapi8l8umwbawvs2siddyqggfj9DF179D6.GET..documents"
      }
    },
    "undefinedstackdusapi8l8umwbawvs2siddyqggfjdocumentsGETApiPermissionTestundefinedStackundefinedstackdusapi8l8umwbawvs2siddyqggfj9DF179D6GETdocumentsEBDE726C": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "undefinedstackapiprocessor8l8umwbawvs2siddyqggfj11C9442C",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "undefinedstackdusapi8l8umwbawvs2siddyqggfjA99C9D09"
              },
              "/test-invoke-stage/GET/documents"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-dusapi-8l8umwbawvs2siddyqggfj/Default/documents/GET/ApiPermission.Test.undefinedStackundefinedstackdusapi8l8umwbawvs2siddyqggfj9DF179D6.GET..documents"
      }
    },
    "undefinedstackdusapi8l8umwbawvs2siddyqggfjdocumentsGETC4DC3942": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "HttpMethod": "GET",
        "ResourceId": {
          "Ref": "undefinedstackdusapi8l8umwbawvs2siddyqggfjdocuments8C6187B4"
        },
        "RestApiId": {
          "Ref": "undefinedstackdusapi8l8umwbawvs2siddyqggfjA99C9D09"
        },
        "AuthorizationType": "COGNITO_USER_POOLS",
        "AuthorizerId": {
          "Ref": "Authorizer"
        },
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region"
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "undefinedstackapiprocessor8l8umwbawvs2siddyqggfj11C9442C",
                    "Arn"
                  ]
                },
                "/invocations"
              ]
            ]
          }
        }
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-dusapi-8l8umwbawvs2siddyqggfj/Default/documents/GET/Resource"
      }
    },
    "undefinedstackdusapi8l8umwbawvs2siddyqggfjdocument32412D9A": {
      "Type": "AWS::ApiGateway::Resource",
      "Properties": {
        "ParentId": {
          "Fn::GetAtt": [
            "undefinedstackdusapi8l8umwbawvs2siddyqggfjA99C9D09",
            "RootResourceId"
          ]
        },
        "PathPart": "document",
        "RestApiId": {
          "Ref": "undefinedstackdusapi8l8umwbawvs2siddyqggfjA99C9D09"
        }
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-dusapi-8l8umwbawvs2siddyqggfj/Default/document/Resource"
      }
    },
    "undefinedstackdusapi8l8umwbawvs2siddyqggfjdocumentOPTIONSC3D63D45": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "HttpMethod": "OPTIONS",
        "ResourceId": {
          "Ref": "undefinedstackdusapi8l8umwbawvs2siddyqggfjdocument32412D9A"
        },
        "RestApiId": {
          "Ref": "undefinedstackdusapi8l8umwbawvs2siddyqggfjA99C9D09"
        },
        "AuthorizationType": "NONE",
        "Integration": {
          "IntegrationResponses": [
            {
              "ResponseParameters": {
                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                "method.response.header.Access-Control-Allow-Origin": "'*'",
                "method.response.header.Access-Control-Allow-Credentials": "'false'",
                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE'"
              },
              "StatusCode": "200"
            }
          ],
          "PassthroughBehavior": "NEVER",
          "RequestTemplates": {
            "application/json": "{\"statusCode\": 200}"
          },
          "Type": "MOCK"
        },
        "MethodResponses": [
          {
            "ResponseParameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Methods": true,
              "method.response.header.Access-Control-Allow-Credentials": true,
              "method.response.header.Access-Control-Allow-Origin": true
            },
            "StatusCode": "200"
          }
        ],
        "RequestValidatorId": {
          "Ref": "undefinedstackapigwresourcevalidator8l8umwbawvs2siddyqggfjD231939E"
        }
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-dusapi-8l8umwbawvs2siddyqggfj/Default/document/OPTIONS/Resource"
      }
    },
    "undefinedstackdusapi8l8umwbawvs2siddyqggfjdocumentGETApiPermissionundefinedStackundefinedstackdusapi8l8umwbawvs2siddyqggfj9DF179D6GETdocument2132EAA0": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "undefinedstackapiprocessor8l8umwbawvs2siddyqggfj11C9442C",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "undefinedstackdusapi8l8umwbawvs2siddyqggfjA99C9D09"
              },
              "/",
              {
                "Ref": "undefinedstackdusapi8l8umwbawvs2siddyqggfjDeploymentStageprodE3125F0C"
              },
              "/GET/document"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-dusapi-8l8umwbawvs2siddyqggfj/Default/document/GET/ApiPermission.undefinedStackundefinedstackdusapi8l8umwbawvs2siddyqggfj9DF179D6.GET..document"
      }
    },
    "undefinedstackdusapi8l8umwbawvs2siddyqggfjdocumentGETApiPermissionTestundefinedStackundefinedstackdusapi8l8umwbawvs2siddyqggfj9DF179D6GETdocument21C5DEC1": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "undefinedstackapiprocessor8l8umwbawvs2siddyqggfj11C9442C",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "undefinedstackdusapi8l8umwbawvs2siddyqggfjA99C9D09"
              },
              "/test-invoke-stage/GET/document"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-dusapi-8l8umwbawvs2siddyqggfj/Default/document/GET/ApiPermission.Test.undefinedStackundefinedstackdusapi8l8umwbawvs2siddyqggfj9DF179D6.GET..document"
      }
    },
    "undefinedstackdusapi8l8umwbawvs2siddyqggfjdocumentGETCD6F7093": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "HttpMethod": "GET",
        "ResourceId": {
          "Ref": "undefinedstackdusapi8l8umwbawvs2siddyqggfjdocument32412D9A"
        },
        "RestApiId": {
          "Ref": "undefinedstackdusapi8l8umwbawvs2siddyqggfjA99C9D09"
        },
        "AuthorizationType": "COGNITO_USER_POOLS",
        "AuthorizerId": {
          "Ref": "Authorizer"
        },
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region"
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "undefinedstackapiprocessor8l8umwbawvs2siddyqggfj11C9442C",
                    "Arn"
                  ]
                },
                "/invocations"
              ]
            ]
          }
        }
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-dusapi-8l8umwbawvs2siddyqggfj/Default/document/GET/Resource"
      }
    },
    "undefinedstackdusapi8l8umwbawvs2siddyqggfjdocumentPOSTApiPermissionundefinedStackundefinedstackdusapi8l8umwbawvs2siddyqggfj9DF179D6POSTdocument0B1B0A24": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "undefinedstackapiprocessor8l8umwbawvs2siddyqggfj11C9442C",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "undefinedstackdusapi8l8umwbawvs2siddyqggfjA99C9D09"
              },
              "/",
              {
                "Ref": "undefinedstackdusapi8l8umwbawvs2siddyqggfjDeploymentStageprodE3125F0C"
              },
              "/POST/document"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-dusapi-8l8umwbawvs2siddyqggfj/Default/document/POST/ApiPermission.undefinedStackundefinedstackdusapi8l8umwbawvs2siddyqggfj9DF179D6.POST..document"
      }
    },
    "undefinedstackdusapi8l8umwbawvs2siddyqggfjdocumentPOSTApiPermissionTestundefinedStackundefinedstackdusapi8l8umwbawvs2siddyqggfj9DF179D6POSTdocument8B7C8E04": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "undefinedstackapiprocessor8l8umwbawvs2siddyqggfj11C9442C",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "undefinedstackdusapi8l8umwbawvs2siddyqggfjA99C9D09"
              },
              "/test-invoke-stage/POST/document"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-dusapi-8l8umwbawvs2siddyqggfj/Default/document/POST/ApiPermission.Test.undefinedStackundefinedstackdusapi8l8umwbawvs2siddyqggfj9DF179D6.POST..document"
      }
    },
    "undefinedstackdusapi8l8umwbawvs2siddyqggfjdocumentPOST6F60A52E": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "HttpMethod": "POST",
        "ResourceId": {
          "Ref": "undefinedstackdusapi8l8umwbawvs2siddyqggfjdocument32412D9A"
        },
        "RestApiId": {
          "Ref": "undefinedstackdusapi8l8umwbawvs2siddyqggfjA99C9D09"
        },
        "AuthorizationType": "COGNITO_USER_POOLS",
        "AuthorizerId": {
          "Ref": "Authorizer"
        },
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region"
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "undefinedstackapiprocessor8l8umwbawvs2siddyqggfj11C9442C",
                    "Arn"
                  ]
                },
                "/invocations"
              ]
            ]
          }
        }
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-dusapi-8l8umwbawvs2siddyqggfj/Default/document/POST/Resource"
      }
    },
    "undefinedstackdusapi8l8umwbawvs2siddyqggfjdocumentDELETEApiPermissionundefinedStackundefinedstackdusapi8l8umwbawvs2siddyqggfj9DF179D6DELETEdocument7638BE23": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "undefinedstackapiprocessor8l8umwbawvs2siddyqggfj11C9442C",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "undefinedstackdusapi8l8umwbawvs2siddyqggfjA99C9D09"
              },
              "/",
              {
                "Ref": "undefinedstackdusapi8l8umwbawvs2siddyqggfjDeploymentStageprodE3125F0C"
              },
              "/DELETE/document"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-dusapi-8l8umwbawvs2siddyqggfj/Default/document/DELETE/ApiPermission.undefinedStackundefinedstackdusapi8l8umwbawvs2siddyqggfj9DF179D6.DELETE..document"
      }
    },
    "undefinedstackdusapi8l8umwbawvs2siddyqggfjdocumentDELETEApiPermissionTestundefinedStackundefinedstackdusapi8l8umwbawvs2siddyqggfj9DF179D6DELETEdocumentB8A3CFE8": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "undefinedstackapiprocessor8l8umwbawvs2siddyqggfj11C9442C",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "undefinedstackdusapi8l8umwbawvs2siddyqggfjA99C9D09"
              },
              "/test-invoke-stage/DELETE/document"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-dusapi-8l8umwbawvs2siddyqggfj/Default/document/DELETE/ApiPermission.Test.undefinedStackundefinedstackdusapi8l8umwbawvs2siddyqggfj9DF179D6.DELETE..document"
      }
    },
    "undefinedstackdusapi8l8umwbawvs2siddyqggfjdocumentDELETE33C7D363": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "HttpMethod": "DELETE",
        "ResourceId": {
          "Ref": "undefinedstackdusapi8l8umwbawvs2siddyqggfjdocument32412D9A"
        },
        "RestApiId": {
          "Ref": "undefinedstackdusapi8l8umwbawvs2siddyqggfjA99C9D09"
        },
        "AuthorizationType": "COGNITO_USER_POOLS",
        "AuthorizerId": {
          "Ref": "Authorizer"
        },
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region"
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "undefinedstackapiprocessor8l8umwbawvs2siddyqggfj11C9442C",
                    "Arn"
                  ]
                },
                "/invocations"
              ]
            ]
          }
        }
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-dusapi-8l8umwbawvs2siddyqggfj/Default/document/DELETE/Resource"
      }
    },
    "undefinedstackdusapi8l8umwbawvs2siddyqggfjredact151D4561": {
      "Type": "AWS::ApiGateway::Resource",
      "Properties": {
        "ParentId": {
          "Fn::GetAtt": [
            "undefinedstackdusapi8l8umwbawvs2siddyqggfjA99C9D09",
            "RootResourceId"
          ]
        },
        "PathPart": "redact",
        "RestApiId": {
          "Ref": "undefinedstackdusapi8l8umwbawvs2siddyqggfjA99C9D09"
        }
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-dusapi-8l8umwbawvs2siddyqggfj/Default/redact/Resource"
      }
    },
    "undefinedstackdusapi8l8umwbawvs2siddyqggfjredactOPTIONS45524663": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "HttpMethod": "OPTIONS",
        "ResourceId": {
          "Ref": "undefinedstackdusapi8l8umwbawvs2siddyqggfjredact151D4561"
        },
        "RestApiId": {
          "Ref": "undefinedstackdusapi8l8umwbawvs2siddyqggfjA99C9D09"
        },
        "AuthorizationType": "NONE",
        "Integration": {
          "IntegrationResponses": [
            {
              "ResponseParameters": {
                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                "method.response.header.Access-Control-Allow-Origin": "'*'",
                "method.response.header.Access-Control-Allow-Credentials": "'false'",
                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE'"
              },
              "StatusCode": "200"
            }
          ],
          "PassthroughBehavior": "NEVER",
          "RequestTemplates": {
            "application/json": "{\"statusCode\": 200}"
          },
          "Type": "MOCK"
        },
        "MethodResponses": [
          {
            "ResponseParameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Methods": true,
              "method.response.header.Access-Control-Allow-Credentials": true,
              "method.response.header.Access-Control-Allow-Origin": true
            },
            "StatusCode": "200"
          }
        ],
        "RequestValidatorId": {
          "Ref": "undefinedstackapigwresourcevalidator8l8umwbawvs2siddyqggfjD231939E"
        }
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-dusapi-8l8umwbawvs2siddyqggfj/Default/redact/OPTIONS/Resource"
      }
    },
    "undefinedstackdusapi8l8umwbawvs2siddyqggfjredactGETApiPermissionundefinedStackundefinedstackdusapi8l8umwbawvs2siddyqggfj9DF179D6GETredact4DD4A02A": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "undefinedstackapiprocessor8l8umwbawvs2siddyqggfj11C9442C",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "undefinedstackdusapi8l8umwbawvs2siddyqggfjA99C9D09"
              },
              "/",
              {
                "Ref": "undefinedstackdusapi8l8umwbawvs2siddyqggfjDeploymentStageprodE3125F0C"
              },
              "/GET/redact"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-dusapi-8l8umwbawvs2siddyqggfj/Default/redact/GET/ApiPermission.undefinedStackundefinedstackdusapi8l8umwbawvs2siddyqggfj9DF179D6.GET..redact"
      }
    },
    "undefinedstackdusapi8l8umwbawvs2siddyqggfjredactGETApiPermissionTestundefinedStackundefinedstackdusapi8l8umwbawvs2siddyqggfj9DF179D6GETredactE4DEED4C": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "undefinedstackapiprocessor8l8umwbawvs2siddyqggfj11C9442C",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "undefinedstackdusapi8l8umwbawvs2siddyqggfjA99C9D09"
              },
              "/test-invoke-stage/GET/redact"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-dusapi-8l8umwbawvs2siddyqggfj/Default/redact/GET/ApiPermission.Test.undefinedStackundefinedstackdusapi8l8umwbawvs2siddyqggfj9DF179D6.GET..redact"
      }
    },
    "undefinedstackdusapi8l8umwbawvs2siddyqggfjredactGETAA6EA93E": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "HttpMethod": "GET",
        "ResourceId": {
          "Ref": "undefinedstackdusapi8l8umwbawvs2siddyqggfjredact151D4561"
        },
        "RestApiId": {
          "Ref": "undefinedstackdusapi8l8umwbawvs2siddyqggfjA99C9D09"
        },
        "AuthorizationType": "COGNITO_USER_POOLS",
        "AuthorizerId": {
          "Ref": "Authorizer"
        },
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region"
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "undefinedstackapiprocessor8l8umwbawvs2siddyqggfj11C9442C",
                    "Arn"
                  ]
                },
                "/invocations"
              ]
            ]
          }
        }
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-dusapi-8l8umwbawvs2siddyqggfj/Default/redact/GET/Resource"
      }
    },
    "undefinedstackdusapi8l8umwbawvs2siddyqggfjredactPOSTApiPermissionundefinedStackundefinedstackdusapi8l8umwbawvs2siddyqggfj9DF179D6POSTredact9C7DDF52": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "undefinedstackapiprocessor8l8umwbawvs2siddyqggfj11C9442C",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "undefinedstackdusapi8l8umwbawvs2siddyqggfjA99C9D09"
              },
              "/",
              {
                "Ref": "undefinedstackdusapi8l8umwbawvs2siddyqggfjDeploymentStageprodE3125F0C"
              },
              "/POST/redact"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-dusapi-8l8umwbawvs2siddyqggfj/Default/redact/POST/ApiPermission.undefinedStackundefinedstackdusapi8l8umwbawvs2siddyqggfj9DF179D6.POST..redact"
      }
    },
    "undefinedstackdusapi8l8umwbawvs2siddyqggfjredactPOSTApiPermissionTestundefinedStackundefinedstackdusapi8l8umwbawvs2siddyqggfj9DF179D6POSTredactFB0A0A25": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "undefinedstackapiprocessor8l8umwbawvs2siddyqggfj11C9442C",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "undefinedstackdusapi8l8umwbawvs2siddyqggfjA99C9D09"
              },
              "/test-invoke-stage/POST/redact"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-dusapi-8l8umwbawvs2siddyqggfj/Default/redact/POST/ApiPermission.Test.undefinedStackundefinedstackdusapi8l8umwbawvs2siddyqggfj9DF179D6.POST..redact"
      }
    },
    "undefinedstackdusapi8l8umwbawvs2siddyqggfjredactPOSTB92C314B": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "HttpMethod": "POST",
        "ResourceId": {
          "Ref": "undefinedstackdusapi8l8umwbawvs2siddyqggfjredact151D4561"
        },
        "RestApiId": {
          "Ref": "undefinedstackdusapi8l8umwbawvs2siddyqggfjA99C9D09"
        },
        "AuthorizationType": "COGNITO_USER_POOLS",
        "AuthorizerId": {
          "Ref": "Authorizer"
        },
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region"
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "undefinedstackapiprocessor8l8umwbawvs2siddyqggfj11C9442C",
                    "Arn"
                  ]
                },
                "/invocations"
              ]
            ]
          }
        }
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-dusapi-8l8umwbawvs2siddyqggfj/Default/redact/POST/Resource"
      }
    },
    "undefinedstackapigwresourcevalidator8l8umwbawvs2siddyqggfjD231939E": {
      "Type": "AWS::ApiGateway::RequestValidator",
      "Properties": {
        "RestApiId": {
          "Ref": "undefinedstackdusapi8l8umwbawvs2siddyqggfjA99C9D09"
        },
        "ValidateRequestBody": true,
        "ValidateRequestParameters": true
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/undefinedstack-apigwresourcevalidator-8l8umwbawvs2siddyqggfj/Resource"
      }
    },
    "Authorizer": {
      "Type": "AWS::ApiGateway::Authorizer",
      "Properties": {
        "RestApiId": {
          "Ref": "undefinedstackdusapi8l8umwbawvs2siddyqggfjA99C9D09"
        },
        "Type": "COGNITO_USER_POOLS",
        "IdentitySource": "method.request.header.Authorization",
        "Name": "Authorization",
        "ProviderARNs": [
          {
            "Fn::GetAtt": [
              "textractuserpool",
              "Arn"
            ]
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "undefinedStack/Authorizer"
      }
    },
    "CDKMetadata": {
      "Type": "AWS::CDK::Metadata",
      "Properties": {
        "Modules": "aws-cdk=1.70.0,@aws-cdk/assets=1.42.0,@aws-cdk/aws-apigateway=1.42.0,@aws-cdk/aws-applicationautoscaling=1.42.0,@aws-cdk/aws-autoscaling-common=1.42.0,@aws-cdk/aws-certificatemanager=1.42.0,@aws-cdk/aws-cloudfront=1.42.0,@aws-cdk/aws-cloudwatch=1.42.0,@aws-cdk/aws-cognito=1.42.0,@aws-cdk/aws-dynamodb=1.42.0,@aws-cdk/aws-ec2=1.42.0,@aws-cdk/aws-elasticsearch=1.42.0,@aws-cdk/aws-events=1.42.0,@aws-cdk/aws-iam=1.42.0,@aws-cdk/aws-kms=1.42.0,@aws-cdk/aws-lambda=1.42.0,@aws-cdk/aws-lambda-event-sources=1.42.0,@aws-cdk/aws-logs=1.42.0,@aws-cdk/aws-s3=1.42.0,@aws-cdk/aws-s3-assets=1.42.0,@aws-cdk/aws-s3-deployment=1.42.0,@aws-cdk/aws-s3-notifications=1.42.0,@aws-cdk/aws-sns=1.42.0,@aws-cdk/aws-sns-subscriptions=1.42.0,@aws-cdk/aws-sqs=1.42.0,@aws-cdk/aws-ssm=1.42.0,@aws-cdk/cdk-assets-schema=1.42.0,@aws-cdk/cloud-assembly-schema=1.42.0,@aws-cdk/core=1.42.0,@aws-cdk/custom-resources=1.42.0,@aws-cdk/cx-api=1.42.0,@aws-cdk/region-info=1.42.0,jsii-runtime=node.js/v12.20.1"
      },
      "Condition": "CDKMetadataAvailable"
    }
  },
  "Parameters": {
    "AssetParameterscc1ca714e664fe644602eb116eb01346aeba2b131cbcf9df004029e6a5749dd2S3Bucket26085418": {
      "Type": "String",
      "Description": "S3 bucket for asset \"cc1ca714e664fe644602eb116eb01346aeba2b131cbcf9df004029e6a5749dd2\""
    },
    "AssetParameterscc1ca714e664fe644602eb116eb01346aeba2b131cbcf9df004029e6a5749dd2S3VersionKeyEC71F580": {
      "Type": "String",
      "Description": "S3 key for asset version \"cc1ca714e664fe644602eb116eb01346aeba2b131cbcf9df004029e6a5749dd2\""
    },
    "AssetParameterscc1ca714e664fe644602eb116eb01346aeba2b131cbcf9df004029e6a5749dd2ArtifactHash2CB91C43": {
      "Type": "String",
      "Description": "Artifact hash for asset \"cc1ca714e664fe644602eb116eb01346aeba2b131cbcf9df004029e6a5749dd2\""
    },
    "AssetParameters9acbc3715f8b660f6ab9fb65adc280fcbde091d8f7d835a0ec52b7446eebac67S3BucketE167FF79": {
      "Type": "String",
      "Description": "S3 bucket for asset \"9acbc3715f8b660f6ab9fb65adc280fcbde091d8f7d835a0ec52b7446eebac67\""
    },
    "AssetParameters9acbc3715f8b660f6ab9fb65adc280fcbde091d8f7d835a0ec52b7446eebac67S3VersionKey9C912232": {
      "Type": "String",
      "Description": "S3 key for asset version \"9acbc3715f8b660f6ab9fb65adc280fcbde091d8f7d835a0ec52b7446eebac67\""
    },
    "AssetParameters9acbc3715f8b660f6ab9fb65adc280fcbde091d8f7d835a0ec52b7446eebac67ArtifactHash01E0E5E4": {
      "Type": "String",
      "Description": "Artifact hash for asset \"9acbc3715f8b660f6ab9fb65adc280fcbde091d8f7d835a0ec52b7446eebac67\""
    },
    "AssetParametersc58a9cd512849047e19c27642a09ad4a3b556864591aaf0c503c7a5152878666S3Bucket1C61A05D": {
      "Type": "String",
      "Description": "S3 bucket for asset \"c58a9cd512849047e19c27642a09ad4a3b556864591aaf0c503c7a5152878666\""
    },
    "AssetParametersc58a9cd512849047e19c27642a09ad4a3b556864591aaf0c503c7a5152878666S3VersionKey232AFCDA": {
      "Type": "String",
      "Description": "S3 key for asset version \"c58a9cd512849047e19c27642a09ad4a3b556864591aaf0c503c7a5152878666\""
    },
    "AssetParametersc58a9cd512849047e19c27642a09ad4a3b556864591aaf0c503c7a5152878666ArtifactHash2AFAA944": {
      "Type": "String",
      "Description": "Artifact hash for asset \"c58a9cd512849047e19c27642a09ad4a3b556864591aaf0c503c7a5152878666\""
    },
    "AssetParameters5491b2e305cfeca7c6f124389b9a015f5cf9cb2822082404be4288aebeda13d0S3BucketA72C262C": {
      "Type": "String",
      "Description": "S3 bucket for asset \"5491b2e305cfeca7c6f124389b9a015f5cf9cb2822082404be4288aebeda13d0\""
    },
    "AssetParameters5491b2e305cfeca7c6f124389b9a015f5cf9cb2822082404be4288aebeda13d0S3VersionKeyF89BF86A": {
      "Type": "String",
      "Description": "S3 key for asset version \"5491b2e305cfeca7c6f124389b9a015f5cf9cb2822082404be4288aebeda13d0\""
    },
    "AssetParameters5491b2e305cfeca7c6f124389b9a015f5cf9cb2822082404be4288aebeda13d0ArtifactHash0814CE34": {
      "Type": "String",
      "Description": "Artifact hash for asset \"5491b2e305cfeca7c6f124389b9a015f5cf9cb2822082404be4288aebeda13d0\""
    },
    "AssetParameters3c55a56cc0d8d0028e752b1fad451e28208b213d6a2d41934088b21f5868ab8dS3Bucket74F361D6": {
      "Type": "String",
      "Description": "S3 bucket for asset \"3c55a56cc0d8d0028e752b1fad451e28208b213d6a2d41934088b21f5868ab8d\""
    },
    "AssetParameters3c55a56cc0d8d0028e752b1fad451e28208b213d6a2d41934088b21f5868ab8dS3VersionKey1C2CD8B9": {
      "Type": "String",
      "Description": "S3 key for asset version \"3c55a56cc0d8d0028e752b1fad451e28208b213d6a2d41934088b21f5868ab8d\""
    },
    "AssetParameters3c55a56cc0d8d0028e752b1fad451e28208b213d6a2d41934088b21f5868ab8dArtifactHashA3C74459": {
      "Type": "String",
      "Description": "Artifact hash for asset \"3c55a56cc0d8d0028e752b1fad451e28208b213d6a2d41934088b21f5868ab8d\""
    },
    "AssetParametersc64f0aefd884e2bb1dffde28585ecc406f60180d97cd57a5e4978075d43cb9c5S3Bucket72A9658B": {
      "Type": "String",
      "Description": "S3 bucket for asset \"c64f0aefd884e2bb1dffde28585ecc406f60180d97cd57a5e4978075d43cb9c5\""
    },
    "AssetParametersc64f0aefd884e2bb1dffde28585ecc406f60180d97cd57a5e4978075d43cb9c5S3VersionKey97906397": {
      "Type": "String",
      "Description": "S3 key for asset version \"c64f0aefd884e2bb1dffde28585ecc406f60180d97cd57a5e4978075d43cb9c5\""
    },
    "AssetParametersc64f0aefd884e2bb1dffde28585ecc406f60180d97cd57a5e4978075d43cb9c5ArtifactHash382E6212": {
      "Type": "String",
      "Description": "Artifact hash for asset \"c64f0aefd884e2bb1dffde28585ecc406f60180d97cd57a5e4978075d43cb9c5\""
    },
    "AssetParameters7e7483c7f6b2d2bcc8221d18711ce19d6dd745532fa6ec00834ca7f2a1db4655S3BucketF0DADEB8": {
      "Type": "String",
      "Description": "S3 bucket for asset \"7e7483c7f6b2d2bcc8221d18711ce19d6dd745532fa6ec00834ca7f2a1db4655\""
    },
    "AssetParameters7e7483c7f6b2d2bcc8221d18711ce19d6dd745532fa6ec00834ca7f2a1db4655S3VersionKeyCB3B9EFC": {
      "Type": "String",
      "Description": "S3 key for asset version \"7e7483c7f6b2d2bcc8221d18711ce19d6dd745532fa6ec00834ca7f2a1db4655\""
    },
    "AssetParameters7e7483c7f6b2d2bcc8221d18711ce19d6dd745532fa6ec00834ca7f2a1db4655ArtifactHashBC5FB2DB": {
      "Type": "String",
      "Description": "Artifact hash for asset \"7e7483c7f6b2d2bcc8221d18711ce19d6dd745532fa6ec00834ca7f2a1db4655\""
    },
    "AssetParameters34f36d262896e10312c0d3292463a75e722b9aa799fe0df73102d981ffee0ce1S3BucketCF6D4253": {
      "Type": "String",
      "Description": "S3 bucket for asset \"34f36d262896e10312c0d3292463a75e722b9aa799fe0df73102d981ffee0ce1\""
    },
    "AssetParameters34f36d262896e10312c0d3292463a75e722b9aa799fe0df73102d981ffee0ce1S3VersionKey2D245692": {
      "Type": "String",
      "Description": "S3 key for asset version \"34f36d262896e10312c0d3292463a75e722b9aa799fe0df73102d981ffee0ce1\""
    },
    "AssetParameters34f36d262896e10312c0d3292463a75e722b9aa799fe0df73102d981ffee0ce1ArtifactHashDEABADF6": {
      "Type": "String",
      "Description": "Artifact hash for asset \"34f36d262896e10312c0d3292463a75e722b9aa799fe0df73102d981ffee0ce1\""
    },
    "AssetParametersf25f5a995f8fe273f547782f35b1e44fb7ac796200b64c568192d0eff7cdc037S3Bucket24012E8B": {
      "Type": "String",
      "Description": "S3 bucket for asset \"f25f5a995f8fe273f547782f35b1e44fb7ac796200b64c568192d0eff7cdc037\""
    },
    "AssetParametersf25f5a995f8fe273f547782f35b1e44fb7ac796200b64c568192d0eff7cdc037S3VersionKeyD31E4EB0": {
      "Type": "String",
      "Description": "S3 key for asset version \"f25f5a995f8fe273f547782f35b1e44fb7ac796200b64c568192d0eff7cdc037\""
    },
    "AssetParametersf25f5a995f8fe273f547782f35b1e44fb7ac796200b64c568192d0eff7cdc037ArtifactHash898AE926": {
      "Type": "String",
      "Description": "Artifact hash for asset \"f25f5a995f8fe273f547782f35b1e44fb7ac796200b64c568192d0eff7cdc037\""
    },
    "AssetParameters0b79599fa5352e498af90b39a606dcfd30b5002be0d66462be2ab75eaf94e44dS3BucketF845A7E1": {
      "Type": "String",
      "Description": "S3 bucket for asset \"0b79599fa5352e498af90b39a606dcfd30b5002be0d66462be2ab75eaf94e44d\""
    },
    "AssetParameters0b79599fa5352e498af90b39a606dcfd30b5002be0d66462be2ab75eaf94e44dS3VersionKey740B33F7": {
      "Type": "String",
      "Description": "S3 key for asset version \"0b79599fa5352e498af90b39a606dcfd30b5002be0d66462be2ab75eaf94e44d\""
    },
    "AssetParameters0b79599fa5352e498af90b39a606dcfd30b5002be0d66462be2ab75eaf94e44dArtifactHashA14325E2": {
      "Type": "String",
      "Description": "Artifact hash for asset \"0b79599fa5352e498af90b39a606dcfd30b5002be0d66462be2ab75eaf94e44d\""
    }
  },
  "Outputs": {
    "undefinedstackdusapi8l8umwbawvs2siddyqggfjEndpoint6379BB4D": {
      "Value": {
        "Fn::Join": [
          "",
          [
            "https://",
            {
              "Ref": "undefinedstackdusapi8l8umwbawvs2siddyqggfjA99C9D09"
            },
            ".execute-api.",
            {
              "Ref": "AWS::Region"
            },
            ".",
            {
              "Ref": "AWS::URLSuffix"
            },
            "/",
            {
              "Ref": "undefinedstackdusapi8l8umwbawvs2siddyqggfjDeploymentStageprodE3125F0C"
            },
            "/"
          ]
        ]
      }
    }
  },
  "Conditions": {
    "CDKMetadataAvailable": {
      "Fn::Or": [
        {
          "Fn::Or": [
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "ap-east-1"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "ap-northeast-1"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "ap-northeast-2"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "ap-south-1"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "ap-southeast-1"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "ap-southeast-2"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "ca-central-1"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "cn-north-1"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "cn-northwest-1"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "eu-central-1"
              ]
            }
          ]
        },
        {
          "Fn::Or": [
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "eu-north-1"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "eu-west-1"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "eu-west-2"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "eu-west-3"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "me-south-1"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "sa-east-1"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "us-east-1"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "us-east-2"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "us-west-1"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "us-west-2"
              ]
            }
          ]
        }
      ]
    }
  }
}