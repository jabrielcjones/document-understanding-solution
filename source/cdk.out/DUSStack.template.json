{
  "Description": "MLSLD-S0001. Document Understanding Solution. This stack deploys the backend for DUS",
  "Resources": {
    "dusstacklogss3bucketsdflebku3it5mhafoktntuEBD29E86": {
      "Type": "AWS::S3::Bucket",
      "Properties": {
        "AccessControl": "LogDeliveryWrite",
        "BucketEncryption": {
          "ServerSideEncryptionConfiguration": [
            {
              "ServerSideEncryptionByDefault": {
                "SSEAlgorithm": "AES256"
              }
            }
          ]
        },
        "PublicAccessBlockConfiguration": {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true
        }
      },
      "UpdateReplacePolicy": "Retain",
      "DeletionPolicy": "Retain",
      "Metadata": {
        "cfn_nag": {
          "rules_to_suppress": [
            {
              "id": "W51",
              "reason": "Default usage plan can be used for this API"
            },
            {
              "id": "W35",
              "reason": "This is a logs bucket, no logging desired."
            }
          ]
        }
      }
    },
    "dusstackdocumentss3bucketsdflebku3it5mhafoktntu0D5F60CB": {
      "Type": "AWS::S3::Bucket",
      "Properties": {
        "BucketEncryption": {
          "ServerSideEncryptionConfiguration": [
            {
              "ServerSideEncryptionByDefault": {
                "SSEAlgorithm": "AES256"
              }
            }
          ]
        },
        "CorsConfiguration": {
          "CorsRules": [
            {
              "AllowedHeaders": [
                "*"
              ],
              "AllowedMethods": [
                "HEAD",
                "GET",
                "PUT",
                "POST",
                "DELETE"
              ],
              "AllowedOrigins": [
                "*"
              ],
              "ExposedHeaders": [
                "ETag"
              ],
              "MaxAge": 3000
            }
          ]
        },
        "LoggingConfiguration": {
          "DestinationBucketName": {
            "Ref": "dusstacklogss3bucketsdflebku3it5mhafoktntuEBD29E86"
          },
          "LogFilePrefix": "document-s3-bucket"
        },
        "PublicAccessBlockConfiguration": {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true
        }
      },
      "UpdateReplacePolicy": "Retain",
      "DeletionPolicy": "Retain",
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-documentss3bucket-sdflebku3it5mhafoktntu/Resource"
      }
    },
    "dusstackdocumentss3bucketsdflebku3it5mhafoktntuPolicy622CBA54": {
      "Type": "AWS::S3::BucketPolicy",
      "Properties": {
        "Bucket": {
          "Ref": "dusstackdocumentss3bucketsdflebku3it5mhafoktntu0D5F60CB"
        },
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "s3:GetObject*",
                "s3:List*",
                "s3:PutObject"
              ],
              "Effect": "Allow",
              "Principal": {
                "CanonicalUser": {
                  "Fn::GetAtt": [
                    "cdktextractoai541398BF",
                    "S3CanonicalUserId"
                  ]
                }
              },
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "dusstackdocumentss3bucketsdflebku3it5mhafoktntu0D5F60CB",
                    "Arn"
                  ]
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "dusstackdocumentss3bucketsdflebku3it5mhafoktntu0D5F60CB",
                          "Arn"
                        ]
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            }
          ],
          "Version": "2012-10-17"
        }
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-documentss3bucket-sdflebku3it5mhafoktntu/Policy/Resource"
      }
    },
    "dusstacksampless3bucketsdflebku3it5mhafoktntu85D908C9": {
      "Type": "AWS::S3::Bucket",
      "Properties": {
        "BucketEncryption": {
          "ServerSideEncryptionConfiguration": [
            {
              "ServerSideEncryptionByDefault": {
                "SSEAlgorithm": "AES256"
              }
            }
          ]
        },
        "CorsConfiguration": {
          "CorsRules": [
            {
              "AllowedHeaders": [
                "*"
              ],
              "AllowedMethods": [
                "HEAD",
                "GET",
                "PUT",
                "POST",
                "DELETE"
              ],
              "AllowedOrigins": [
                "*"
              ],
              "ExposedHeaders": [
                "ETag"
              ],
              "MaxAge": 3000
            }
          ]
        },
        "LoggingConfiguration": {
          "DestinationBucketName": {
            "Ref": "dusstacklogss3bucketsdflebku3it5mhafoktntuEBD29E86"
          },
          "LogFilePrefix": "sample-s3-bucket"
        },
        "PublicAccessBlockConfiguration": {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true
        }
      },
      "UpdateReplacePolicy": "Retain",
      "DeletionPolicy": "Retain",
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-sampless3bucket-sdflebku3it5mhafoktntu/Resource"
      }
    },
    "dusstacksampless3bucketsdflebku3it5mhafoktntuPolicy5AA217D2": {
      "Type": "AWS::S3::BucketPolicy",
      "Properties": {
        "Bucket": {
          "Ref": "dusstacksampless3bucketsdflebku3it5mhafoktntu85D908C9"
        },
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "s3:GetObject*",
                "s3:List*"
              ],
              "Effect": "Allow",
              "Principal": {
                "CanonicalUser": {
                  "Fn::GetAtt": [
                    "cdktextractoai541398BF",
                    "S3CanonicalUserId"
                  ]
                }
              },
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "dusstacksampless3bucketsdflebku3it5mhafoktntu85D908C9",
                    "Arn"
                  ]
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "dusstacksampless3bucketsdflebku3it5mhafoktntu85D908C9",
                          "Arn"
                        ]
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            }
          ],
          "Version": "2012-10-17"
        }
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-sampless3bucket-sdflebku3it5mhafoktntu/Policy/Resource"
      }
    },
    "dusstackbulkprocessingbucketsdflebku3it5mhafoktntu555D8815": {
      "Type": "AWS::S3::Bucket",
      "Properties": {
        "BucketEncryption": {
          "ServerSideEncryptionConfiguration": [
            {
              "ServerSideEncryptionByDefault": {
                "SSEAlgorithm": "AES256"
              }
            }
          ]
        },
        "CorsConfiguration": {
          "CorsRules": [
            {
              "AllowedHeaders": [
                "*"
              ],
              "AllowedMethods": [
                "HEAD",
                "GET",
                "PUT",
                "POST",
                "DELETE"
              ],
              "AllowedOrigins": [
                "*"
              ],
              "ExposedHeaders": [
                "ETag"
              ],
              "MaxAge": 3000
            }
          ]
        },
        "LifecycleConfiguration": {
          "Rules": [
            {
              "ExpirationInDays": 3,
              "Status": "Enabled"
            }
          ]
        },
        "LoggingConfiguration": {
          "DestinationBucketName": {
            "Ref": "dusstacklogss3bucketsdflebku3it5mhafoktntuEBD29E86"
          },
          "LogFilePrefix": "bulk-processing-s3-bucket"
        },
        "PublicAccessBlockConfiguration": {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true
        }
      },
      "UpdateReplacePolicy": "Retain",
      "DeletionPolicy": "Retain",
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-bulkprocessingbucket-sdflebku3it5mhafoktntu/Resource"
      }
    },
    "dusstackbulkprocessingbucketsdflebku3it5mhafoktntuNotifications75056AB0": {
      "Type": "Custom::S3BucketNotifications",
      "Properties": {
        "ServiceToken": {
          "Fn::GetAtt": [
            "BucketNotificationsHandler050a0587b7544547bf325f094a3db8347ECC3691",
            "Arn"
          ]
        },
        "BucketName": {
          "Ref": "dusstackbulkprocessingbucketsdflebku3it5mhafoktntu555D8815"
        },
        "NotificationConfiguration": {
          "QueueConfigurations": [
            {
              "Events": [
                "s3:ObjectCreated:Put"
              ],
              "Filter": {
                "Key": {
                  "FilterRules": [
                    {
                      "Name": "prefix",
                      "Value": "documentDrop/"
                    }
                  ]
                }
              },
              "QueueArn": {
                "Fn::GetAtt": [
                  "dusstackdocumentbulkprocessingqueuesdflebku3it5mhafoktntuE374416E",
                  "Arn"
                ]
              }
            },
            {
              "Events": [
                "s3:ObjectCreated:Copy"
              ],
              "Filter": {
                "Key": {
                  "FilterRules": [
                    {
                      "Name": "prefix",
                      "Value": "documentDrop/"
                    }
                  ]
                }
              },
              "QueueArn": {
                "Fn::GetAtt": [
                  "dusstackdocumentbulkprocessingqueuesdflebku3it5mhafoktntuE374416E",
                  "Arn"
                ]
              }
            }
          ]
        }
      },
      "DependsOn": [
        "dusstackdocumentbulkprocessingqueuesdflebku3it5mhafoktntuPolicyC38807CA",
        "dusstackdocumentbulkprocessingqueuesdflebku3it5mhafoktntuE374416E"
      ],
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-bulkprocessingbucket-sdflebku3it5mhafoktntu/Notifications/Resource"
      }
    },
    "dusstackclientapps3bucketsdflebku3it5mhafoktntu5A68AC46": {
      "Type": "AWS::S3::Bucket",
      "Properties": {
        "BucketEncryption": {
          "ServerSideEncryptionConfiguration": [
            {
              "ServerSideEncryptionByDefault": {
                "SSEAlgorithm": "AES256"
              }
            }
          ]
        },
        "CorsConfiguration": {
          "CorsRules": [
            {
              "AllowedHeaders": [
                "*"
              ],
              "AllowedMethods": [
                "HEAD",
                "GET",
                "PUT",
                "POST",
                "DELETE"
              ],
              "AllowedOrigins": [
                "*"
              ],
              "ExposedHeaders": [
                "ETag"
              ],
              "MaxAge": 3000
            }
          ]
        },
        "LoggingConfiguration": {
          "DestinationBucketName": {
            "Ref": "dusstacklogss3bucketsdflebku3it5mhafoktntuEBD29E86"
          },
          "LogFilePrefix": "clientapps3bucket"
        },
        "PublicAccessBlockConfiguration": {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true
        },
        "WebsiteConfiguration": {
          "IndexDocument": "index.html"
        }
      },
      "UpdateReplacePolicy": "Retain",
      "DeletionPolicy": "Retain",
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-clientapps3bucket-sdflebku3it5mhafoktntu/Resource"
      }
    },
    "dusstackclientapps3bucketsdflebku3it5mhafoktntuPolicy5818AF66": {
      "Type": "AWS::S3::BucketPolicy",
      "Properties": {
        "Bucket": {
          "Ref": "dusstackclientapps3bucketsdflebku3it5mhafoktntu5A68AC46"
        },
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*"
              ],
              "Effect": "Allow",
              "Principal": {
                "CanonicalUser": {
                  "Fn::GetAtt": [
                    "cdktextractoai541398BF",
                    "S3CanonicalUserId"
                  ]
                }
              },
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "dusstackclientapps3bucketsdflebku3it5mhafoktntu5A68AC46",
                    "Arn"
                  ]
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "dusstackclientapps3bucketsdflebku3it5mhafoktntu5A68AC46",
                          "Arn"
                        ]
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            },
            {
              "Action": [
                "s3:GetObject*",
                "s3:List*"
              ],
              "Effect": "Allow",
              "Principal": {
                "CanonicalUser": {
                  "Fn::GetAtt": [
                    "cdktextractoai541398BF",
                    "S3CanonicalUserId"
                  ]
                }
              },
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "dusstackclientapps3bucketsdflebku3it5mhafoktntu5A68AC46",
                    "Arn"
                  ]
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "dusstackclientapps3bucketsdflebku3it5mhafoktntu5A68AC46",
                          "Arn"
                        ]
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            }
          ],
          "Version": "2012-10-17"
        }
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-clientapps3bucket-sdflebku3it5mhafoktntu/Policy/Resource"
      }
    },
    "cdktextractoai541398BF": {
      "Type": "AWS::CloudFront::CloudFrontOriginAccessIdentity",
      "Properties": {
        "CloudFrontOriginAccessIdentityConfig": {
          "Comment": "Origin Access Identity for Textract web stack bucket cloudfront distribution"
        }
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/cdk-textract-oai/Resource"
      }
    },
    "cdktextractcfrontCFDistribution2BB270FB": {
      "Type": "AWS::CloudFront::Distribution",
      "Properties": {
        "DistributionConfig": {
          "CustomErrorResponses": [
            {
              "ErrorCachingMinTTL": 5,
              "ErrorCode": 404,
              "ResponseCode": 200,
              "ResponsePagePath": "/index.html"
            }
          ],
          "DefaultCacheBehavior": {
            "AllowedMethods": [
              "GET",
              "HEAD"
            ],
            "CachedMethods": [
              "GET",
              "HEAD"
            ],
            "Compress": true,
            "ForwardedValues": {
              "Cookies": {
                "Forward": "none"
              },
              "QueryString": false
            },
            "TargetOriginId": "origin1",
            "ViewerProtocolPolicy": "redirect-to-https"
          },
          "DefaultRootObject": "index.html",
          "Enabled": true,
          "HttpVersion": "http2",
          "IPV6Enabled": true,
          "Logging": {
            "Bucket": {
              "Fn::GetAtt": [
                "dusstacklogss3bucketsdflebku3it5mhafoktntuEBD29E86",
                "RegionalDomainName"
              ]
            },
            "IncludeCookies": true,
            "Prefix": "cloudfrontDistributionLogs"
          },
          "Origins": [
            {
              "DomainName": {
                "Fn::GetAtt": [
                  "dusstackclientapps3bucketsdflebku3it5mhafoktntu5A68AC46",
                  "RegionalDomainName"
                ]
              },
              "Id": "origin1",
              "S3OriginConfig": {
                "OriginAccessIdentity": {
                  "Fn::Join": [
                    "",
                    [
                      "origin-access-identity/cloudfront/",
                      {
                        "Ref": "cdktextractoai541398BF"
                      }
                    ]
                  ]
                }
              }
            }
          ],
          "PriceClass": "PriceClass_100",
          "ViewerCertificate": {
            "CloudFrontDefaultCertificate": true
          }
        }
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/cdk-textract-cfront/CFDistribution"
      }
    },
    "dusstackelasticsearchvpcsdflebku3it5mhafoktntuB4A2CB7D": {
      "Type": "AWS::EC2::VPC",
      "Properties": {
        "CidrBlock": "172.62.0.0/16",
        "EnableDnsHostnames": true,
        "EnableDnsSupport": true,
        "InstanceTenancy": "default",
        "Tags": [
          {
            "Key": "Name",
            "Value": "DUSStack/dusstack-elasticsearchvpc-sdflebku3it5mhafoktntu"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-elasticsearchvpc-sdflebku3it5mhafoktntu/Resource"
      }
    },
    "dusstackelasticsearchvpcsdflebku3it5mhafoktntuPublicSubnet1Subnet48F5BDEC": {
      "Type": "AWS::EC2::Subnet",
      "Properties": {
        "CidrBlock": "172.62.0.0/18",
        "VpcId": {
          "Ref": "dusstackelasticsearchvpcsdflebku3it5mhafoktntuB4A2CB7D"
        },
        "AvailabilityZone": {
          "Fn::Select": [
            0,
            {
              "Fn::GetAZs": ""
            }
          ]
        },
        "MapPublicIpOnLaunch": true,
        "Tags": [
          {
            "Key": "aws-cdk:subnet-name",
            "Value": "Public"
          },
          {
            "Key": "aws-cdk:subnet-type",
            "Value": "Public"
          },
          {
            "Key": "Name",
            "Value": "DUSStack/dusstack-elasticsearchvpc-sdflebku3it5mhafoktntu/PublicSubnet1"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-elasticsearchvpc-sdflebku3it5mhafoktntu/PublicSubnet1/Subnet"
      }
    },
    "dusstackelasticsearchvpcsdflebku3it5mhafoktntuPublicSubnet1RouteTableDA7A979A": {
      "Type": "AWS::EC2::RouteTable",
      "Properties": {
        "VpcId": {
          "Ref": "dusstackelasticsearchvpcsdflebku3it5mhafoktntuB4A2CB7D"
        },
        "Tags": [
          {
            "Key": "Name",
            "Value": "DUSStack/dusstack-elasticsearchvpc-sdflebku3it5mhafoktntu/PublicSubnet1"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-elasticsearchvpc-sdflebku3it5mhafoktntu/PublicSubnet1/RouteTable"
      }
    },
    "dusstackelasticsearchvpcsdflebku3it5mhafoktntuPublicSubnet1RouteTableAssociationBC0F0B0F": {
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
      "Properties": {
        "RouteTableId": {
          "Ref": "dusstackelasticsearchvpcsdflebku3it5mhafoktntuPublicSubnet1RouteTableDA7A979A"
        },
        "SubnetId": {
          "Ref": "dusstackelasticsearchvpcsdflebku3it5mhafoktntuPublicSubnet1Subnet48F5BDEC"
        }
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-elasticsearchvpc-sdflebku3it5mhafoktntu/PublicSubnet1/RouteTableAssociation"
      }
    },
    "dusstackelasticsearchvpcsdflebku3it5mhafoktntuPublicSubnet1DefaultRouteF7AF7FCE": {
      "Type": "AWS::EC2::Route",
      "Properties": {
        "RouteTableId": {
          "Ref": "dusstackelasticsearchvpcsdflebku3it5mhafoktntuPublicSubnet1RouteTableDA7A979A"
        },
        "DestinationCidrBlock": "0.0.0.0/0",
        "GatewayId": {
          "Ref": "dusstackelasticsearchvpcsdflebku3it5mhafoktntuIGW0ACB6B44"
        }
      },
      "DependsOn": [
        "dusstackelasticsearchvpcsdflebku3it5mhafoktntuVPCGW846AA73E"
      ],
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-elasticsearchvpc-sdflebku3it5mhafoktntu/PublicSubnet1/DefaultRoute"
      }
    },
    "dusstackelasticsearchvpcsdflebku3it5mhafoktntuPublicSubnet1EIP43F2C7C8": {
      "Type": "AWS::EC2::EIP",
      "Properties": {
        "Domain": "vpc",
        "Tags": [
          {
            "Key": "Name",
            "Value": "DUSStack/dusstack-elasticsearchvpc-sdflebku3it5mhafoktntu/PublicSubnet1"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-elasticsearchvpc-sdflebku3it5mhafoktntu/PublicSubnet1/EIP"
      }
    },
    "dusstackelasticsearchvpcsdflebku3it5mhafoktntuPublicSubnet1NATGatewayE4F9FCBE": {
      "Type": "AWS::EC2::NatGateway",
      "Properties": {
        "AllocationId": {
          "Fn::GetAtt": [
            "dusstackelasticsearchvpcsdflebku3it5mhafoktntuPublicSubnet1EIP43F2C7C8",
            "AllocationId"
          ]
        },
        "SubnetId": {
          "Ref": "dusstackelasticsearchvpcsdflebku3it5mhafoktntuPublicSubnet1Subnet48F5BDEC"
        },
        "Tags": [
          {
            "Key": "Name",
            "Value": "DUSStack/dusstack-elasticsearchvpc-sdflebku3it5mhafoktntu/PublicSubnet1"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-elasticsearchvpc-sdflebku3it5mhafoktntu/PublicSubnet1/NATGateway"
      }
    },
    "dusstackelasticsearchvpcsdflebku3it5mhafoktntuPublicSubnet2Subnet4D2DD02B": {
      "Type": "AWS::EC2::Subnet",
      "Properties": {
        "CidrBlock": "172.62.64.0/18",
        "VpcId": {
          "Ref": "dusstackelasticsearchvpcsdflebku3it5mhafoktntuB4A2CB7D"
        },
        "AvailabilityZone": {
          "Fn::Select": [
            1,
            {
              "Fn::GetAZs": ""
            }
          ]
        },
        "MapPublicIpOnLaunch": true,
        "Tags": [
          {
            "Key": "aws-cdk:subnet-name",
            "Value": "Public"
          },
          {
            "Key": "aws-cdk:subnet-type",
            "Value": "Public"
          },
          {
            "Key": "Name",
            "Value": "DUSStack/dusstack-elasticsearchvpc-sdflebku3it5mhafoktntu/PublicSubnet2"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-elasticsearchvpc-sdflebku3it5mhafoktntu/PublicSubnet2/Subnet"
      }
    },
    "dusstackelasticsearchvpcsdflebku3it5mhafoktntuPublicSubnet2RouteTable773A71E3": {
      "Type": "AWS::EC2::RouteTable",
      "Properties": {
        "VpcId": {
          "Ref": "dusstackelasticsearchvpcsdflebku3it5mhafoktntuB4A2CB7D"
        },
        "Tags": [
          {
            "Key": "Name",
            "Value": "DUSStack/dusstack-elasticsearchvpc-sdflebku3it5mhafoktntu/PublicSubnet2"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-elasticsearchvpc-sdflebku3it5mhafoktntu/PublicSubnet2/RouteTable"
      }
    },
    "dusstackelasticsearchvpcsdflebku3it5mhafoktntuPublicSubnet2RouteTableAssociationF4F596AB": {
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
      "Properties": {
        "RouteTableId": {
          "Ref": "dusstackelasticsearchvpcsdflebku3it5mhafoktntuPublicSubnet2RouteTable773A71E3"
        },
        "SubnetId": {
          "Ref": "dusstackelasticsearchvpcsdflebku3it5mhafoktntuPublicSubnet2Subnet4D2DD02B"
        }
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-elasticsearchvpc-sdflebku3it5mhafoktntu/PublicSubnet2/RouteTableAssociation"
      }
    },
    "dusstackelasticsearchvpcsdflebku3it5mhafoktntuPublicSubnet2DefaultRoute0184F402": {
      "Type": "AWS::EC2::Route",
      "Properties": {
        "RouteTableId": {
          "Ref": "dusstackelasticsearchvpcsdflebku3it5mhafoktntuPublicSubnet2RouteTable773A71E3"
        },
        "DestinationCidrBlock": "0.0.0.0/0",
        "GatewayId": {
          "Ref": "dusstackelasticsearchvpcsdflebku3it5mhafoktntuIGW0ACB6B44"
        }
      },
      "DependsOn": [
        "dusstackelasticsearchvpcsdflebku3it5mhafoktntuVPCGW846AA73E"
      ],
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-elasticsearchvpc-sdflebku3it5mhafoktntu/PublicSubnet2/DefaultRoute"
      }
    },
    "dusstackelasticsearchvpcsdflebku3it5mhafoktntuPublicSubnet2EIPE057D0AD": {
      "Type": "AWS::EC2::EIP",
      "Properties": {
        "Domain": "vpc",
        "Tags": [
          {
            "Key": "Name",
            "Value": "DUSStack/dusstack-elasticsearchvpc-sdflebku3it5mhafoktntu/PublicSubnet2"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-elasticsearchvpc-sdflebku3it5mhafoktntu/PublicSubnet2/EIP"
      }
    },
    "dusstackelasticsearchvpcsdflebku3it5mhafoktntuPublicSubnet2NATGatewayA322C676": {
      "Type": "AWS::EC2::NatGateway",
      "Properties": {
        "AllocationId": {
          "Fn::GetAtt": [
            "dusstackelasticsearchvpcsdflebku3it5mhafoktntuPublicSubnet2EIPE057D0AD",
            "AllocationId"
          ]
        },
        "SubnetId": {
          "Ref": "dusstackelasticsearchvpcsdflebku3it5mhafoktntuPublicSubnet2Subnet4D2DD02B"
        },
        "Tags": [
          {
            "Key": "Name",
            "Value": "DUSStack/dusstack-elasticsearchvpc-sdflebku3it5mhafoktntu/PublicSubnet2"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-elasticsearchvpc-sdflebku3it5mhafoktntu/PublicSubnet2/NATGateway"
      }
    },
    "dusstackelasticsearchvpcsdflebku3it5mhafoktntuPrivateSubnet1Subnet85B5A6DE": {
      "Type": "AWS::EC2::Subnet",
      "Properties": {
        "CidrBlock": "172.62.128.0/18",
        "VpcId": {
          "Ref": "dusstackelasticsearchvpcsdflebku3it5mhafoktntuB4A2CB7D"
        },
        "AvailabilityZone": {
          "Fn::Select": [
            0,
            {
              "Fn::GetAZs": ""
            }
          ]
        },
        "MapPublicIpOnLaunch": false,
        "Tags": [
          {
            "Key": "aws-cdk:subnet-name",
            "Value": "Private"
          },
          {
            "Key": "aws-cdk:subnet-type",
            "Value": "Private"
          },
          {
            "Key": "Name",
            "Value": "DUSStack/dusstack-elasticsearchvpc-sdflebku3it5mhafoktntu/PrivateSubnet1"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-elasticsearchvpc-sdflebku3it5mhafoktntu/PrivateSubnet1/Subnet"
      }
    },
    "dusstackelasticsearchvpcsdflebku3it5mhafoktntuPrivateSubnet1RouteTable0A63F8B8": {
      "Type": "AWS::EC2::RouteTable",
      "Properties": {
        "VpcId": {
          "Ref": "dusstackelasticsearchvpcsdflebku3it5mhafoktntuB4A2CB7D"
        },
        "Tags": [
          {
            "Key": "Name",
            "Value": "DUSStack/dusstack-elasticsearchvpc-sdflebku3it5mhafoktntu/PrivateSubnet1"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-elasticsearchvpc-sdflebku3it5mhafoktntu/PrivateSubnet1/RouteTable"
      }
    },
    "dusstackelasticsearchvpcsdflebku3it5mhafoktntuPrivateSubnet1RouteTableAssociation5C759706": {
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
      "Properties": {
        "RouteTableId": {
          "Ref": "dusstackelasticsearchvpcsdflebku3it5mhafoktntuPrivateSubnet1RouteTable0A63F8B8"
        },
        "SubnetId": {
          "Ref": "dusstackelasticsearchvpcsdflebku3it5mhafoktntuPrivateSubnet1Subnet85B5A6DE"
        }
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-elasticsearchvpc-sdflebku3it5mhafoktntu/PrivateSubnet1/RouteTableAssociation"
      }
    },
    "dusstackelasticsearchvpcsdflebku3it5mhafoktntuPrivateSubnet1DefaultRouteA730CC62": {
      "Type": "AWS::EC2::Route",
      "Properties": {
        "RouteTableId": {
          "Ref": "dusstackelasticsearchvpcsdflebku3it5mhafoktntuPrivateSubnet1RouteTable0A63F8B8"
        },
        "DestinationCidrBlock": "0.0.0.0/0",
        "NatGatewayId": {
          "Ref": "dusstackelasticsearchvpcsdflebku3it5mhafoktntuPublicSubnet1NATGatewayE4F9FCBE"
        }
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-elasticsearchvpc-sdflebku3it5mhafoktntu/PrivateSubnet1/DefaultRoute"
      }
    },
    "dusstackelasticsearchvpcsdflebku3it5mhafoktntuPrivateSubnet2Subnet8AD16DDF": {
      "Type": "AWS::EC2::Subnet",
      "Properties": {
        "CidrBlock": "172.62.192.0/18",
        "VpcId": {
          "Ref": "dusstackelasticsearchvpcsdflebku3it5mhafoktntuB4A2CB7D"
        },
        "AvailabilityZone": {
          "Fn::Select": [
            1,
            {
              "Fn::GetAZs": ""
            }
          ]
        },
        "MapPublicIpOnLaunch": false,
        "Tags": [
          {
            "Key": "aws-cdk:subnet-name",
            "Value": "Private"
          },
          {
            "Key": "aws-cdk:subnet-type",
            "Value": "Private"
          },
          {
            "Key": "Name",
            "Value": "DUSStack/dusstack-elasticsearchvpc-sdflebku3it5mhafoktntu/PrivateSubnet2"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-elasticsearchvpc-sdflebku3it5mhafoktntu/PrivateSubnet2/Subnet"
      }
    },
    "dusstackelasticsearchvpcsdflebku3it5mhafoktntuPrivateSubnet2RouteTableCA1A4855": {
      "Type": "AWS::EC2::RouteTable",
      "Properties": {
        "VpcId": {
          "Ref": "dusstackelasticsearchvpcsdflebku3it5mhafoktntuB4A2CB7D"
        },
        "Tags": [
          {
            "Key": "Name",
            "Value": "DUSStack/dusstack-elasticsearchvpc-sdflebku3it5mhafoktntu/PrivateSubnet2"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-elasticsearchvpc-sdflebku3it5mhafoktntu/PrivateSubnet2/RouteTable"
      }
    },
    "dusstackelasticsearchvpcsdflebku3it5mhafoktntuPrivateSubnet2RouteTableAssociationE579F3FF": {
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
      "Properties": {
        "RouteTableId": {
          "Ref": "dusstackelasticsearchvpcsdflebku3it5mhafoktntuPrivateSubnet2RouteTableCA1A4855"
        },
        "SubnetId": {
          "Ref": "dusstackelasticsearchvpcsdflebku3it5mhafoktntuPrivateSubnet2Subnet8AD16DDF"
        }
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-elasticsearchvpc-sdflebku3it5mhafoktntu/PrivateSubnet2/RouteTableAssociation"
      }
    },
    "dusstackelasticsearchvpcsdflebku3it5mhafoktntuPrivateSubnet2DefaultRoute603E4CBE": {
      "Type": "AWS::EC2::Route",
      "Properties": {
        "RouteTableId": {
          "Ref": "dusstackelasticsearchvpcsdflebku3it5mhafoktntuPrivateSubnet2RouteTableCA1A4855"
        },
        "DestinationCidrBlock": "0.0.0.0/0",
        "NatGatewayId": {
          "Ref": "dusstackelasticsearchvpcsdflebku3it5mhafoktntuPublicSubnet2NATGatewayA322C676"
        }
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-elasticsearchvpc-sdflebku3it5mhafoktntu/PrivateSubnet2/DefaultRoute"
      }
    },
    "dusstackelasticsearchvpcsdflebku3it5mhafoktntuIGW0ACB6B44": {
      "Type": "AWS::EC2::InternetGateway",
      "Properties": {
        "Tags": [
          {
            "Key": "Name",
            "Value": "DUSStack/dusstack-elasticsearchvpc-sdflebku3it5mhafoktntu"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-elasticsearchvpc-sdflebku3it5mhafoktntu/IGW"
      }
    },
    "dusstackelasticsearchvpcsdflebku3it5mhafoktntuVPCGW846AA73E": {
      "Type": "AWS::EC2::VPCGatewayAttachment",
      "Properties": {
        "VpcId": {
          "Ref": "dusstackelasticsearchvpcsdflebku3it5mhafoktntuB4A2CB7D"
        },
        "InternetGatewayId": {
          "Ref": "dusstackelasticsearchvpcsdflebku3it5mhafoktntuIGW0ACB6B44"
        }
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-elasticsearchvpc-sdflebku3it5mhafoktntu/VPCGW"
      }
    },
    "dusstackessecuritygroupsdflebku3it5mhafoktntu8AD30F6A": {
      "Type": "AWS::EC2::SecurityGroup",
      "Properties": {
        "GroupDescription": "DUSStack/dusstack-essecuritygroup-sdflebku3it5mhafoktntu",
        "GroupName": "Elasticsearch from lambda",
        "SecurityGroupEgress": [
          {
            "CidrIp": "0.0.0.0/0",
            "Description": "Allow all outbound traffic by default",
            "IpProtocol": "-1"
          }
        ],
        "SecurityGroupIngress": [
          {
            "CidrIp": "0.0.0.0/0",
            "Description": "allow lambda ingress",
            "IpProtocol": "-1"
          }
        ],
        "VpcId": {
          "Ref": "dusstackelasticsearchvpcsdflebku3it5mhafoktntuB4A2CB7D"
        }
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-essecuritygroup-sdflebku3it5mhafoktntu/Resource"
      }
    },
    "dusstackelasticsearchsearchloggroupsdflebku3it5mhafoktntu6D39AF14": {
      "Type": "AWS::Logs::LogGroup",
      "Properties": {
        "LogGroupName": "dusstack-elasticsearchsearchloggroup-sdflebku3it5mhafoktntu",
        "RetentionInDays": 731
      },
      "UpdateReplacePolicy": "Retain",
      "DeletionPolicy": "Retain",
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-elasticsearchsearchloggroup-sdflebku3it5mhafoktntu/Resource"
      }
    },
    "dusstackelasticsearchindexloggroupsdflebku3it5mhafoktntu64C8BF02": {
      "Type": "AWS::Logs::LogGroup",
      "Properties": {
        "LogGroupName": "dusstack-elasticsearchindexloggroup-sdflebku3it5mhafoktntu",
        "RetentionInDays": 731
      },
      "UpdateReplacePolicy": "Retain",
      "DeletionPolicy": "Retain",
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-elasticsearchindexloggroup-sdflebku3it5mhafoktntu/Resource"
      }
    },
    "esEncryptionKey7A7DDC6B": {
      "Type": "AWS::KMS::Key",
      "Properties": {
        "KeyPolicy": {
          "Statement": [
            {
              "Action": [
                "kms:Create*",
                "kms:Describe*",
                "kms:Enable*",
                "kms:List*",
                "kms:Put*",
                "kms:Update*",
                "kms:Revoke*",
                "kms:Disable*",
                "kms:Get*",
                "kms:Delete*",
                "kms:ScheduleKeyDeletion",
                "kms:CancelKeyDeletion",
                "kms:GenerateDataKey",
                "kms:TagResource",
                "kms:UntagResource"
              ],
              "Effect": "Allow",
              "Principal": {
                "AWS": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":iam::",
                      {
                        "Ref": "AWS::AccountId"
                      },
                      ":root"
                    ]
                  ]
                }
              },
              "Resource": "*"
            },
            {
              "Action": [
                "kms:Decrypt",
                "kms:Encrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey*"
              ],
              "Effect": "Allow",
              "Principal": {
                "AWS": {
                  "Fn::GetAtt": [
                    "dusstacksyncprocessorsdflebku3it5mhafoktntuServiceRole2103124D",
                    "Arn"
                  ]
                }
              },
              "Resource": "*"
            },
            {
              "Action": [
                "kms:Decrypt",
                "kms:Encrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey*"
              ],
              "Effect": "Allow",
              "Principal": {
                "AWS": {
                  "Fn::GetAtt": [
                    "dusstackjobresultprocessorsdflebku3it5mhafoktntuServiceRole6D91BC43",
                    "Arn"
                  ]
                }
              },
              "Resource": "*"
            },
            {
              "Action": [
                "kms:Decrypt",
                "kms:Encrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey*"
              ],
              "Effect": "Allow",
              "Principal": {
                "AWS": {
                  "Fn::GetAtt": [
                    "dusstackapiprocessorsdflebku3it5mhafoktntuServiceRole07591138",
                    "Arn"
                  ]
                }
              },
              "Resource": "*"
            }
          ],
          "Version": "2012-10-17"
        },
        "EnableKeyRotation": true
      },
      "UpdateReplacePolicy": "Retain",
      "DeletionPolicy": "Retain",
      "Metadata": {
        "aws:cdk:path": "DUSStack/esEncryptionKey/Resource"
      }
    },
    "dusstackelasticsearchclustersdflebku3it5mhafoktntu": {
      "Type": "AWS::Elasticsearch::Domain",
      "Properties": {
        "EBSOptions": {
          "EBSEnabled": true,
          "VolumeSize": 20,
          "VolumeType": "gp2"
        },
        "ElasticsearchClusterConfig": {
          "DedicatedMasterEnabled": true,
          "InstanceCount": 2,
          "InstanceType": "m5.large.elasticsearch",
          "ZoneAwarenessConfig": {
            "AvailabilityZoneCount": 2
          },
          "ZoneAwarenessEnabled": true
        },
        "ElasticsearchVersion": "7.4",
        "EncryptionAtRestOptions": {
          "Enabled": true,
          "KmsKeyId": {
            "Ref": "esEncryptionKey7A7DDC6B"
          }
        },
        "NodeToNodeEncryptionOptions": {
          "Enabled": true
        },
        "VPCOptions": {
          "SecurityGroupIds": [
            {
              "Fn::GetAtt": [
                "dusstackessecuritygroupsdflebku3it5mhafoktntu8AD30F6A",
                "GroupId"
              ]
            }
          ],
          "SubnetIds": [
            {
              "Ref": "dusstackelasticsearchvpcsdflebku3it5mhafoktntuPrivateSubnet1Subnet85B5A6DE"
            },
            {
              "Ref": "dusstackelasticsearchvpcsdflebku3it5mhafoktntuPrivateSubnet2Subnet8AD16DDF"
            }
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-elasticsearchcluster-sdflebku3it5mhafoktntu"
      }
    },
    "dusstackjobresultskeysdflebku3it5mhafoktntu74877A2C": {
      "Type": "AWS::KMS::Key",
      "Properties": {
        "KeyPolicy": {
          "Statement": [
            {
              "Action": [
                "kms:GenerateDataKey*",
                "kms:Decrypt"
              ],
              "Effect": "Allow",
              "Principal": {
                "Service": [
                  "sns.amazonaws.com",
                  "lambda.amazonaws.com",
                  "textract.amazonaws.com",
                  "sqs.amazonaws.com"
                ]
              },
              "Resource": "*",
              "Sid": "0"
            },
            {
              "Action": "kms:*",
              "Effect": "Allow",
              "Principal": {
                "AWS": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":iam::",
                      {
                        "Ref": "AWS::AccountId"
                      },
                      ":root"
                    ]
                  ]
                }
              },
              "Resource": "*",
              "Sid": "1"
            }
          ],
          "Version": "2012-10-17"
        },
        "Enabled": true,
        "EnableKeyRotation": true
      },
      "UpdateReplacePolicy": "Retain",
      "DeletionPolicy": "Retain",
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-jobresultskey-sdflebku3it5mhafoktntu/Resource"
      }
    },
    "dusstackjobcompletiontopicsdflebku3it5mhafoktntu4F55C978": {
      "Type": "AWS::SNS::Topic",
      "Properties": {
        "DisplayName": "Job completion topic",
        "KmsMasterKeyId": {
          "Ref": "dusstackjobresultskeysdflebku3it5mhafoktntu74877A2C"
        }
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-jobcompletiontopic-sdflebku3it5mhafoktntu/Resource"
      }
    },
    "dusstacktextractservicerolesdflebku3it5mhafoktntuD4AD302A": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "textract.amazonaws.com"
              }
            }
          ],
          "Version": "2012-10-17"
        }
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-textractservicerole-sdflebku3it5mhafoktntu/Resource"
      }
    },
    "dusstacktextractservicerolesdflebku3it5mhafoktntuDefaultPolicyF81A9828": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": "sns:Publish",
              "Effect": "Allow",
              "Resource": {
                "Ref": "dusstackjobcompletiontopicsdflebku3it5mhafoktntu4F55C978"
              }
            },
            {
              "Action": [
                "kms:Decrypt",
                "kms:GenerateDataKey*"
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "dusstackjobresultskeysdflebku3it5mhafoktntu74877A2C",
                  "Arn"
                ]
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "dusstacktextractservicerolesdflebku3it5mhafoktntuDefaultPolicyF81A9828",
        "Roles": [
          {
            "Ref": "dusstacktextractservicerolesdflebku3it5mhafoktntuD4AD302A"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-textractservicerole-sdflebku3it5mhafoktntu/DefaultPolicy/Resource"
      }
    },
    "dusstackoutputtablesdflebku3it5mhafoktntu3E55BC3D": {
      "Type": "AWS::DynamoDB::Table",
      "Properties": {
        "KeySchema": [
          {
            "AttributeName": "documentId",
            "KeyType": "HASH"
          },
          {
            "AttributeName": "outputType",
            "KeyType": "RANGE"
          }
        ],
        "AttributeDefinitions": [
          {
            "AttributeName": "documentId",
            "AttributeType": "S"
          },
          {
            "AttributeName": "outputType",
            "AttributeType": "S"
          }
        ],
        "BillingMode": "PAY_PER_REQUEST",
        "SSESpecification": {
          "SSEEnabled": true
        }
      },
      "UpdateReplacePolicy": "Retain",
      "DeletionPolicy": "Retain",
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-outputtable-sdflebku3it5mhafoktntu/Resource"
      }
    },
    "dusstackdocumentstablesdflebku3it5mhafoktntu62D37F13": {
      "Type": "AWS::DynamoDB::Table",
      "Properties": {
        "KeySchema": [
          {
            "AttributeName": "documentId",
            "KeyType": "HASH"
          }
        ],
        "AttributeDefinitions": [
          {
            "AttributeName": "documentId",
            "AttributeType": "S"
          }
        ],
        "BillingMode": "PAY_PER_REQUEST",
        "SSESpecification": {
          "SSEEnabled": true
        },
        "StreamSpecification": {
          "StreamViewType": "NEW_IMAGE"
        }
      },
      "UpdateReplacePolicy": "Retain",
      "DeletionPolicy": "Retain",
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-documentstable-sdflebku3it5mhafoktntu/Resource"
      }
    },
    "dusstackbulkprocessorjobsdlqsdflebku3it5mhafoktntu195011D5": {
      "Type": "AWS::SQS::Queue",
      "Properties": {
        "KmsMasterKeyId": "alias/aws/sqs",
        "MessageRetentionPeriod": 1209600,
        "VisibilityTimeout": 120
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-bulkprocessorjobsdlq-sdflebku3it5mhafoktntu/Resource"
      }
    },
    "dusstackbulkprocessorkeysdflebku3it5mhafoktntu3D4413ED": {
      "Type": "AWS::KMS::Key",
      "Properties": {
        "KeyPolicy": {
          "Statement": [
            {
              "Action": [
                "kms:Create*",
                "kms:Describe*",
                "kms:Enable*",
                "kms:List*",
                "kms:Put*",
                "kms:Update*",
                "kms:Revoke*",
                "kms:Disable*",
                "kms:Get*",
                "kms:Delete*",
                "kms:ScheduleKeyDeletion",
                "kms:CancelKeyDeletion",
                "kms:GenerateDataKey",
                "kms:TagResource",
                "kms:UntagResource"
              ],
              "Effect": "Allow",
              "Principal": {
                "AWS": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":iam::",
                      {
                        "Ref": "AWS::AccountId"
                      },
                      ":root"
                    ]
                  ]
                }
              },
              "Resource": "*"
            },
            {
              "Action": [
                "kms:GenerateDataKey",
                "kms:Decrypt"
              ],
              "Effect": "Allow",
              "Principal": {
                "Service": "s3.amazonaws.com"
              },
              "Resource": "*"
            },
            {
              "Action": [
                "kms:Decrypt",
                "kms:Encrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey*"
              ],
              "Condition": {
                "ArnLike": {
                  "aws:SourceArn": {
                    "Fn::GetAtt": [
                      "dusstackbulkprocessingbucketsdflebku3it5mhafoktntu555D8815",
                      "Arn"
                    ]
                  }
                }
              },
              "Effect": "Allow",
              "Principal": {
                "Service": "s3.amazonaws.com"
              },
              "Resource": "*"
            },
            {
              "Action": [
                "kms:GenerateDataKey*",
                "kms:Decrypt"
              ],
              "Effect": "Allow",
              "Principal": {
                "Service": "s3.amazonaws.com"
              },
              "Resource": "*"
            },
            {
              "Action": "kms:Decrypt",
              "Effect": "Allow",
              "Principal": {
                "AWS": {
                  "Fn::GetAtt": [
                    "dusstackdocumentbulkprocessorsdflebku3it5mhafoktntuServiceRole36FE956B",
                    "Arn"
                  ]
                }
              },
              "Resource": "*"
            }
          ],
          "Version": "2012-10-17"
        },
        "EnableKeyRotation": true
      },
      "UpdateReplacePolicy": "Retain",
      "DeletionPolicy": "Retain",
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-bulkprocessorkey-sdflebku3it5mhafoktntu/Resource"
      }
    },
    "dusstackdocumentbulkprocessingqueuesdflebku3it5mhafoktntuE374416E": {
      "Type": "AWS::SQS::Queue",
      "Properties": {
        "KmsMasterKeyId": {
          "Fn::GetAtt": [
            "dusstackbulkprocessorkeysdflebku3it5mhafoktntu3D4413ED",
            "Arn"
          ]
        },
        "MessageRetentionPeriod": 1209600,
        "RedrivePolicy": {
          "deadLetterTargetArn": {
            "Fn::GetAtt": [
              "dusstackbulkprocessorjobsdlqsdflebku3it5mhafoktntu195011D5",
              "Arn"
            ]
          },
          "maxReceiveCount": 3
        },
        "VisibilityTimeout": 600
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-documentbulkprocessingqueue-sdflebku3it5mhafoktntu/Resource"
      }
    },
    "dusstackdocumentbulkprocessingqueuesdflebku3it5mhafoktntuPolicyC38807CA": {
      "Type": "AWS::SQS::QueuePolicy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "sqs:SendMessage",
                "sqs:GetQueueUrl",
                "sqs:GetQueueAttributes"
              ],
              "Effect": "Allow",
              "Principal": {
                "AWS": {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":iam::",
                      {
                        "Ref": "AWS::AccountId"
                      },
                      ":root"
                    ]
                  ]
                },
                "Service": "s3.amazonaws.com"
              },
              "Resource": "*"
            },
            {
              "Action": [
                "sqs:SendMessage",
                "sqs:GetQueueAttributes",
                "sqs:GetQueueUrl"
              ],
              "Condition": {
                "ArnLike": {
                  "aws:SourceArn": {
                    "Fn::GetAtt": [
                      "dusstackbulkprocessingbucketsdflebku3it5mhafoktntu555D8815",
                      "Arn"
                    ]
                  }
                }
              },
              "Effect": "Allow",
              "Principal": {
                "Service": "s3.amazonaws.com"
              },
              "Resource": {
                "Fn::GetAtt": [
                  "dusstackdocumentbulkprocessingqueuesdflebku3it5mhafoktntuE374416E",
                  "Arn"
                ]
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "Queues": [
          {
            "Ref": "dusstackdocumentbulkprocessingqueuesdflebku3it5mhafoktntuE374416E"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-documentbulkprocessingqueue-sdflebku3it5mhafoktntu/Policy/Resource"
      }
    },
    "dusstacksyncjobsdlqsdflebku3it5mhafoktntuD39BE9B1": {
      "Type": "AWS::SQS::Queue",
      "Properties": {
        "KmsMasterKeyId": "alias/aws/sqs",
        "MessageRetentionPeriod": 1209600,
        "VisibilityTimeout": 120
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-syncjobsdlq-sdflebku3it5mhafoktntu/Resource"
      }
    },
    "dusstacksyncjobssdflebku3it5mhafoktntu19896205": {
      "Type": "AWS::SQS::Queue",
      "Properties": {
        "KmsMasterKeyId": "alias/aws/sqs",
        "MessageRetentionPeriod": 1209600,
        "RedrivePolicy": {
          "deadLetterTargetArn": {
            "Fn::GetAtt": [
              "dusstacksyncjobsdlqsdflebku3it5mhafoktntuD39BE9B1",
              "Arn"
            ]
          },
          "maxReceiveCount": 3
        },
        "VisibilityTimeout": 900
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-syncjobs-sdflebku3it5mhafoktntu/Resource"
      }
    },
    "dusstackasyncjobsdlqsdflebku3it5mhafoktntu3F5E00A7": {
      "Type": "AWS::SQS::Queue",
      "Properties": {
        "KmsMasterKeyId": "alias/aws/sqs",
        "MessageRetentionPeriod": 1209600,
        "VisibilityTimeout": 120
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-asyncjobsdlq-sdflebku3it5mhafoktntu/Resource"
      }
    },
    "dusstackasyncjobssdflebku3it5mhafoktntuFB553A4B": {
      "Type": "AWS::SQS::Queue",
      "Properties": {
        "KmsMasterKeyId": "alias/aws/sqs",
        "MessageRetentionPeriod": 1209600,
        "RedrivePolicy": {
          "deadLetterTargetArn": {
            "Fn::GetAtt": [
              "dusstackasyncjobsdlqsdflebku3it5mhafoktntu3F5E00A7",
              "Arn"
            ]
          },
          "maxReceiveCount": 3
        },
        "VisibilityTimeout": 120
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-asyncjobs-sdflebku3it5mhafoktntu/Resource"
      }
    },
    "dusstackjoberrorhandlerdlqsdflebku3it5mhafoktntu1BBB9697": {
      "Type": "AWS::SQS::Queue",
      "Properties": {
        "KmsMasterKeyId": "alias/aws/sqs",
        "MessageRetentionPeriod": 1209600,
        "VisibilityTimeout": 60
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-joberrorhandlerdlq-sdflebku3it5mhafoktntu/Resource"
      }
    },
    "dusstackjoberrorhandlersdflebku3it5mhafoktntu27CEC512": {
      "Type": "AWS::SQS::Queue",
      "Properties": {
        "KmsMasterKeyId": "alias/aws/sqs",
        "MessageRetentionPeriod": 1209600,
        "RedrivePolicy": {
          "deadLetterTargetArn": {
            "Fn::GetAtt": [
              "dusstackjoberrorhandlerdlqsdflebku3it5mhafoktntu1BBB9697",
              "Arn"
            ]
          },
          "maxReceiveCount": 3
        },
        "VisibilityTimeout": 60
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-joberrorhandler-sdflebku3it5mhafoktntu/Resource"
      }
    },
    "dusstackjobresultsdlqsdflebku3it5mhafoktntuCA677D55": {
      "Type": "AWS::SQS::Queue",
      "Properties": {
        "KmsMasterKeyId": "alias/aws/sqs",
        "MessageRetentionPeriod": 1209600,
        "VisibilityTimeout": 900
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-jobresultsdlq-sdflebku3it5mhafoktntu/Resource"
      }
    },
    "dusstackjobresultssdflebku3it5mhafoktntuF69ABF18": {
      "Type": "AWS::SQS::Queue",
      "Properties": {
        "KmsDataKeyReusePeriodSeconds": 86400,
        "KmsMasterKeyId": {
          "Fn::GetAtt": [
            "dusstackjobresultskeysdflebku3it5mhafoktntu74877A2C",
            "Arn"
          ]
        },
        "MessageRetentionPeriod": 1209600,
        "RedrivePolicy": {
          "deadLetterTargetArn": {
            "Fn::GetAtt": [
              "dusstackjobresultsdlqsdflebku3it5mhafoktntuCA677D55",
              "Arn"
            ]
          },
          "maxReceiveCount": 3
        },
        "VisibilityTimeout": 900
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-jobresults-sdflebku3it5mhafoktntu/Resource"
      }
    },
    "dusstackjobresultssdflebku3it5mhafoktntuPolicy8222AB9F": {
      "Type": "AWS::SQS::QueuePolicy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": "sqs:SendMessage",
              "Condition": {
                "ArnEquals": {
                  "aws:SourceArn": {
                    "Ref": "dusstackjobcompletiontopicsdflebku3it5mhafoktntu4F55C978"
                  }
                }
              },
              "Effect": "Allow",
              "Principal": {
                "Service": "sns.amazonaws.com"
              },
              "Resource": {
                "Fn::GetAtt": [
                  "dusstackjobresultssdflebku3it5mhafoktntuF69ABF18",
                  "Arn"
                ]
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "Queues": [
          {
            "Ref": "dusstackjobresultssdflebku3it5mhafoktntuF69ABF18"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-jobresults-sdflebku3it5mhafoktntu/Policy/Resource"
      }
    },
    "dusstackjobresultssdflebku3it5mhafoktntuDUSStackdusstackjobcompletiontopicsdflebku3it5mhafoktntu266706A3B21A290F": {
      "Type": "AWS::SNS::Subscription",
      "Properties": {
        "Protocol": "sqs",
        "TopicArn": {
          "Ref": "dusstackjobcompletiontopicsdflebku3it5mhafoktntu4F55C978"
        },
        "Endpoint": {
          "Fn::GetAtt": [
            "dusstackjobresultssdflebku3it5mhafoktntuF69ABF18",
            "Arn"
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-jobresults-sdflebku3it5mhafoktntu/DUSStackdusstackjobcompletiontopicsdflebku3it5mhafoktntu266706A3/Resource"
      }
    },
    "textractuserpool": {
      "Type": "AWS::Cognito::UserPool",
      "Properties": {
        "AdminCreateUserConfig": {
          "AllowAdminCreateUserOnly": true,
          "InviteMessageTemplate": {
            "EmailMessage": {
              "Fn::Join": [
                "",
                [
                  "<p>You are invited to try the Document Understanding Solution. Your credentials are:</p>                 <p>                 Username: <strong>{username}</strong><br />                 Password: <strong>{####}</strong>                 </p>                 <p>                Please wait until the deployent has completed for both DUS and DUSClient stacks before accessing the website                 </p>                <p>                 Please sign in with the user name and your temporary password provided above at: <br />                 https://",
                  {
                    "Fn::GetAtt": [
                      "cdktextractcfrontCFDistribution2BB270FB",
                      "DomainName"
                    ]
                  },
                  "                 </p>                "
                ]
              ]
            },
            "EmailSubject": "Your DUS login"
          },
          "UnusedAccountValidityDays": 7
        },
        "AliasAttributes": [
          "email"
        ],
        "AutoVerifiedAttributes": [
          "email"
        ],
        "MfaConfiguration": "OFF",
        "Policies": {
          "PasswordPolicy": {
            "MinimumLength": 8,
            "RequireLowercase": true,
            "RequireNumbers": true,
            "RequireSymbols": true,
            "RequireUppercase": true
          }
        },
        "UserPoolAddOns": {
          "AdvancedSecurityMode": "ENFORCED"
        }
      },
      "Metadata": {
        "cfn_nag": {
          "rules_to_suppress": [
            {
              "id": "F78",
              "reason": "MFA Configuration is not required for this solution"
            }
          ]
        }
      }
    },
    "textractuserpooluser": {
      "Type": "AWS::Cognito::UserPoolUser",
      "Properties": {
        "UserPoolId": {
          "Ref": "textractuserpool"
        },
        "DesiredDeliveryMediums": [
          "EMAIL"
        ],
        "ForceAliasCreation": false,
        "UserAttributes": [
          {
            "Name": "email",
            "Value": "jabriel.jones@bellefleurtech.com"
          }
        ],
        "Username": "jabriel.jones.bellefleurtech.com"
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/textract-user-pool-user"
      }
    },
    "textractuserpoolclient": {
      "Type": "AWS::Cognito::UserPoolClient",
      "Properties": {
        "UserPoolId": {
          "Ref": "textractuserpool"
        }
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/textract-user-pool-client"
      }
    },
    "textractidentitypool": {
      "Type": "AWS::Cognito::IdentityPool",
      "Properties": {
        "AllowUnauthenticatedIdentities": false,
        "CognitoIdentityProviders": [
          {
            "ClientId": {
              "Ref": "textractuserpoolclient"
            },
            "ProviderName": {
              "Fn::GetAtt": [
                "textractuserpool",
                "ProviderName"
              ]
            },
            "ServerSideTokenCheck": false
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/textract-identity-pool"
      }
    },
    "textractcognitoauthenticatedroleF4E148BC": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRoleWithWebIdentity",
              "Condition": {
                "StringEquals": {
                  "cognito-identity.amazonaws.com:aud": {
                    "Ref": "textractidentitypool"
                  }
                },
                "ForAnyValue:StringLike": {
                  "cognito-identity.amazonaws.com:amr": "authenticated"
                }
              },
              "Effect": "Allow",
              "Principal": {
                "Federated": "cognito-identity.amazonaws.com"
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "Path": "/"
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/textract-cognito-authenticated-role/Resource"
      }
    },
    "textractcognitopolicyA8228594": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": "cognito-identity:GetId",
              "Effect": "Allow",
              "Resource": {
                "Fn::Join": [
                  "",
                  [
                    "arn:aws:cognito-identity:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":identitypool/",
                    {
                      "Ref": "textractidentitypool"
                    }
                  ]
                ]
              }
            },
            {
              "Action": [
                "s3:GetObject*",
                "s3:List*"
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "dusstacksampless3bucketsdflebku3it5mhafoktntu85D908C9",
                    "Arn"
                  ]
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "dusstacksampless3bucketsdflebku3it5mhafoktntu85D908C9",
                          "Arn"
                        ]
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            },
            {
              "Action": [
                "s3:GetObject*",
                "s3:List*",
                "s3:PutObject"
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "dusstackdocumentss3bucketsdflebku3it5mhafoktntu0D5F60CB",
                    "Arn"
                  ]
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "dusstackdocumentss3bucketsdflebku3it5mhafoktntu0D5F60CB",
                          "Arn"
                        ]
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            },
            {
              "Action": "execute-api:Invoke",
              "Effect": "Allow",
              "Resource": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "dusstackdusapisdflebku3it5mhafoktntu8024DE0B"
                    },
                    "/*/*/*"
                  ]
                ]
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "textractcognitopolicyA8228594",
        "Roles": [
          {
            "Ref": "textractcognitoauthenticatedroleF4E148BC"
          }
        ]
      },
      "Metadata": {
        "cfn_nag": {
          "rules_to_suppress": [
            {
              "id": "W11",
              "reason": "The resources in the policy are created/managed by this solution."
            }
          ]
        }
      }
    },
    "textractidentityrolepoolattachment": {
      "Type": "AWS::Cognito::IdentityPoolRoleAttachment",
      "Properties": {
        "IdentityPoolId": {
          "Ref": "textractidentitypool"
        },
        "Roles": {
          "authenticated": {
            "Fn::GetAtt": [
              "textractcognitoauthenticatedroleF4E148BC",
              "Arn"
            ]
          }
        }
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/textract-identity-role-pool-attachment"
      }
    },
    "dusstackhelperlayersdflebku3it5mhafoktntuCC25FBBF": {
      "Type": "AWS::Lambda::LayerVersion",
      "Properties": {
        "Content": {
          "S3Bucket": {
            "Ref": "AssetParameterscc1ca714e664fe644602eb116eb01346aeba2b131cbcf9df004029e6a5749dd2S3Bucket26085418"
          },
          "S3Key": {
            "Fn::Join": [
              "",
              [
                {
                  "Fn::Select": [
                    0,
                    {
                      "Fn::Split": [
                        "||",
                        {
                          "Ref": "AssetParameterscc1ca714e664fe644602eb116eb01346aeba2b131cbcf9df004029e6a5749dd2S3VersionKeyEC71F580"
                        }
                      ]
                    }
                  ]
                },
                {
                  "Fn::Select": [
                    1,
                    {
                      "Fn::Split": [
                        "||",
                        {
                          "Ref": "AssetParameterscc1ca714e664fe644602eb116eb01346aeba2b131cbcf9df004029e6a5749dd2S3VersionKeyEC71F580"
                        }
                      ]
                    }
                  ]
                }
              ]
            ]
          }
        },
        "CompatibleRuntimes": [
          "python3.8"
        ],
        "LicenseInfo": "Apache-2.0"
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-helperlayer-sdflebku3it5mhafoktntu/Resource",
        "aws:asset:path": "asset.cc1ca714e664fe644602eb116eb01346aeba2b131cbcf9df004029e6a5749dd2",
        "aws:asset:property": "Content"
      }
    },
    "dusstacktextractorsdflebku3it5mhafoktntu5417C8B4": {
      "Type": "AWS::Lambda::LayerVersion",
      "Properties": {
        "Content": {
          "S3Bucket": {
            "Ref": "AssetParameters9acbc3715f8b660f6ab9fb65adc280fcbde091d8f7d835a0ec52b7446eebac67S3BucketE167FF79"
          },
          "S3Key": {
            "Fn::Join": [
              "",
              [
                {
                  "Fn::Select": [
                    0,
                    {
                      "Fn::Split": [
                        "||",
                        {
                          "Ref": "AssetParameters9acbc3715f8b660f6ab9fb65adc280fcbde091d8f7d835a0ec52b7446eebac67S3VersionKey9C912232"
                        }
                      ]
                    }
                  ]
                },
                {
                  "Fn::Select": [
                    1,
                    {
                      "Fn::Split": [
                        "||",
                        {
                          "Ref": "AssetParameters9acbc3715f8b660f6ab9fb65adc280fcbde091d8f7d835a0ec52b7446eebac67S3VersionKey9C912232"
                        }
                      ]
                    }
                  ]
                }
              ]
            ]
          }
        },
        "CompatibleRuntimes": [
          "python3.8"
        ],
        "LicenseInfo": "Apache-2.0"
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-textractor-sdflebku3it5mhafoktntu/Resource",
        "aws:asset:path": "asset.9acbc3715f8b660f6ab9fb65adc280fcbde091d8f7d835a0ec52b7446eebac67",
        "aws:asset:property": "Content"
      }
    },
    "dusstackboto3sdflebku3it5mhafoktntuE37D2D8F": {
      "Type": "AWS::Lambda::LayerVersion",
      "Properties": {
        "Content": {
          "S3Bucket": "SOURCE_BUCKET",
          "S3Key": "SOLUTION_NAME/CODE_VERSION/boto3-layer.zip"
        },
        "CompatibleRuntimes": [
          "python3.8"
        ],
        "LicenseInfo": "Apache-2.0"
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-boto3-sdflebku3it5mhafoktntu/Resource"
      }
    },
    "dusstackelasticsearchlayersdflebku3it5mhafoktntu4C4C8E8D": {
      "Type": "AWS::Lambda::LayerVersion",
      "Properties": {
        "Content": {
          "S3Bucket": {
            "Ref": "AssetParametersfb24280d1030272e2bda96072728861d38c4227d3a50c89b0b6a7e5d97be2c26S3BucketE408E444"
          },
          "S3Key": {
            "Fn::Join": [
              "",
              [
                {
                  "Fn::Select": [
                    0,
                    {
                      "Fn::Split": [
                        "||",
                        {
                          "Ref": "AssetParametersfb24280d1030272e2bda96072728861d38c4227d3a50c89b0b6a7e5d97be2c26S3VersionKey8D48E5F3"
                        }
                      ]
                    }
                  ]
                },
                {
                  "Fn::Select": [
                    1,
                    {
                      "Fn::Split": [
                        "||",
                        {
                          "Ref": "AssetParametersfb24280d1030272e2bda96072728861d38c4227d3a50c89b0b6a7e5d97be2c26S3VersionKey8D48E5F3"
                        }
                      ]
                    }
                  ]
                }
              ]
            ]
          }
        },
        "CompatibleRuntimes": [
          "python3.8"
        ],
        "LicenseInfo": "Apache-2.0"
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-elasticsearchlayer-sdflebku3it5mhafoktntu/Resource",
        "aws:asset:path": "asset.fb24280d1030272e2bda96072728861d38c4227d3a50c89b0b6a7e5d97be2c26.zip",
        "aws:asset:property": "Content"
      }
    },
    "dusstackdocumentbulkprocessorsdflebku3it5mhafoktntuServiceRole36FE956B": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com"
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
              ]
            ]
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-documentbulkprocessor-sdflebku3it5mhafoktntu/ServiceRole/Resource"
      }
    },
    "dusstackdocumentbulkprocessorsdflebku3it5mhafoktntuServiceRoleDefaultPolicyBAF64B25": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords"
              ],
              "Effect": "Allow",
              "Resource": "*"
            },
            {
              "Action": [
                "dynamodb:BatchGetItem",
                "dynamodb:GetRecords",
                "dynamodb:GetShardIterator",
                "dynamodb:Query",
                "dynamodb:GetItem",
                "dynamodb:Scan",
                "dynamodb:BatchWriteItem",
                "dynamodb:PutItem",
                "dynamodb:UpdateItem",
                "dynamodb:DeleteItem"
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "dusstackdocumentstablesdflebku3it5mhafoktntu62D37F13",
                    "Arn"
                  ]
                },
                {
                  "Ref": "AWS::NoValue"
                }
              ]
            },
            {
              "Action": [
                "dynamodb:BatchGetItem",
                "dynamodb:GetRecords",
                "dynamodb:GetShardIterator",
                "dynamodb:Query",
                "dynamodb:GetItem",
                "dynamodb:Scan",
                "dynamodb:BatchWriteItem",
                "dynamodb:PutItem",
                "dynamodb:UpdateItem",
                "dynamodb:DeleteItem"
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "dusstackoutputtablesdflebku3it5mhafoktntu3E55BC3D",
                    "Arn"
                  ]
                },
                {
                  "Ref": "AWS::NoValue"
                }
              ]
            },
            {
              "Action": [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*"
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "dusstackdocumentss3bucketsdflebku3it5mhafoktntu0D5F60CB",
                    "Arn"
                  ]
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "dusstackdocumentss3bucketsdflebku3it5mhafoktntu0D5F60CB",
                          "Arn"
                        ]
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            },
            {
              "Action": [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*"
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "dusstackbulkprocessingbucketsdflebku3it5mhafoktntu555D8815",
                    "Arn"
                  ]
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "dusstackbulkprocessingbucketsdflebku3it5mhafoktntu555D8815",
                          "Arn"
                        ]
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            },
            {
              "Action": [
                "sqs:ReceiveMessage",
                "sqs:ChangeMessageVisibility",
                "sqs:GetQueueUrl",
                "sqs:DeleteMessage",
                "sqs:GetQueueAttributes"
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "dusstackdocumentbulkprocessingqueuesdflebku3it5mhafoktntuE374416E",
                  "Arn"
                ]
              }
            },
            {
              "Action": "kms:Decrypt",
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "dusstackbulkprocessorkeysdflebku3it5mhafoktntu3D4413ED",
                  "Arn"
                ]
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "dusstackdocumentbulkprocessorsdflebku3it5mhafoktntuServiceRoleDefaultPolicyBAF64B25",
        "Roles": [
          {
            "Ref": "dusstackdocumentbulkprocessorsdflebku3it5mhafoktntuServiceRole36FE956B"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-documentbulkprocessor-sdflebku3it5mhafoktntu/ServiceRole/DefaultPolicy/Resource"
      }
    },
    "dusstackdocumentbulkprocessorsdflebku3it5mhafoktntu898D94E6": {
      "Type": "AWS::Lambda::Function",
      "Properties": {
        "Code": {
          "S3Bucket": {
            "Ref": "AssetParameters5491b2e305cfeca7c6f124389b9a015f5cf9cb2822082404be4288aebeda13d0S3BucketA72C262C"
          },
          "S3Key": {
            "Fn::Join": [
              "",
              [
                {
                  "Fn::Select": [
                    0,
                    {
                      "Fn::Split": [
                        "||",
                        {
                          "Ref": "AssetParameters5491b2e305cfeca7c6f124389b9a015f5cf9cb2822082404be4288aebeda13d0S3VersionKeyF89BF86A"
                        }
                      ]
                    }
                  ]
                },
                {
                  "Fn::Select": [
                    1,
                    {
                      "Fn::Split": [
                        "||",
                        {
                          "Ref": "AssetParameters5491b2e305cfeca7c6f124389b9a015f5cf9cb2822082404be4288aebeda13d0S3VersionKeyF89BF86A"
                        }
                      ]
                    }
                  ]
                }
              ]
            ]
          }
        },
        "Handler": "lambda_function.lambda_handler",
        "Role": {
          "Fn::GetAtt": [
            "dusstackdocumentbulkprocessorsdflebku3it5mhafoktntuServiceRole36FE956B",
            "Arn"
          ]
        },
        "Runtime": "python3.8",
        "Environment": {
          "Variables": {
            "DOCUMENTS_BUCKET": {
              "Ref": "dusstackdocumentss3bucketsdflebku3it5mhafoktntu0D5F60CB"
            },
            "OUTPUT_TABLE": {
              "Ref": "dusstackoutputtablesdflebku3it5mhafoktntu3E55BC3D"
            },
            "DOCUMENTS_TABLE": {
              "Ref": "dusstackdocumentstablesdflebku3it5mhafoktntu62D37F13"
            }
          }
        },
        "Layers": [
          {
            "Ref": "dusstackhelperlayersdflebku3it5mhafoktntuCC25FBBF"
          }
        ],
        "ReservedConcurrentExecutions": 1,
        "Timeout": 300,
        "TracingConfig": {
          "Mode": "Active"
        }
      },
      "DependsOn": [
        "dusstackdocumentbulkprocessorsdflebku3it5mhafoktntuServiceRoleDefaultPolicyBAF64B25",
        "dusstackdocumentbulkprocessorsdflebku3it5mhafoktntuServiceRole36FE956B"
      ],
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-documentbulkprocessor-sdflebku3it5mhafoktntu/Resource",
        "aws:asset:path": "asset.5491b2e305cfeca7c6f124389b9a015f5cf9cb2822082404be4288aebeda13d0",
        "aws:asset:property": "Code"
      }
    },
    "dusstackdocumentbulkprocessorsdflebku3it5mhafoktntuSqsEventSourceDUSStackdusstackdocumentbulkprocessingqueuesdflebku3it5mhafoktntu79FAD0C89A08C025": {
      "Type": "AWS::Lambda::EventSourceMapping",
      "Properties": {
        "EventSourceArn": {
          "Fn::GetAtt": [
            "dusstackdocumentbulkprocessingqueuesdflebku3it5mhafoktntuE374416E",
            "Arn"
          ]
        },
        "FunctionName": {
          "Ref": "dusstackdocumentbulkprocessorsdflebku3it5mhafoktntu898D94E6"
        },
        "BatchSize": 5
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-documentbulkprocessor-sdflebku3it5mhafoktntu/SqsEventSource:DUSStackdusstackdocumentbulkprocessingqueuesdflebku3it5mhafoktntu79FAD0C8/Resource"
      }
    },
    "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleB6FB88EC": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com"
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
              ]
            ]
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/BucketNotificationsHandler050a0587b7544547bf325f094a3db834/Role/Resource"
      }
    },
    "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleDefaultPolicy2CF63D36": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": "s3:PutBucketNotification",
              "Effect": "Allow",
              "Resource": "*"
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleDefaultPolicy2CF63D36",
        "Roles": [
          {
            "Ref": "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleB6FB88EC"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/BucketNotificationsHandler050a0587b7544547bf325f094a3db834/Role/DefaultPolicy/Resource"
      }
    },
    "BucketNotificationsHandler050a0587b7544547bf325f094a3db8347ECC3691": {
      "Type": "AWS::Lambda::Function",
      "Properties": {
        "Description": "AWS CloudFormation handler for \"Custom::S3BucketNotifications\" resources (@aws-cdk/aws-s3)",
        "Code": {
          "ZipFile": "exports.handler = (event, context) => {\n    // eslint-disable-next-line @typescript-eslint/no-require-imports, import/no-extraneous-dependencies\n    const s3 = new (require('aws-sdk').S3)();\n    // eslint-disable-next-line @typescript-eslint/no-require-imports\n    const https = require('https');\n    // eslint-disable-next-line @typescript-eslint/no-require-imports\n    const url = require('url');\n    log(JSON.stringify(event, undefined, 2));\n    const props = event.ResourceProperties;\n    if (event.RequestType === 'Delete') {\n        props.NotificationConfiguration = {}; // this is how you clean out notifications\n    }\n    const req = {\n        Bucket: props.BucketName,\n        NotificationConfiguration: props.NotificationConfiguration,\n    };\n    return s3.putBucketNotificationConfiguration(req, (err, data) => {\n        log({ err, data });\n        if (err) {\n            return submitResponse('FAILED', err.message + `\\nMore information in CloudWatch Log Stream: ${context.logStreamName}`);\n        }\n        else {\n            return submitResponse('SUCCESS');\n        }\n    });\n    function log(obj) {\n        console.error(event.RequestId, event.StackId, event.LogicalResourceId, obj);\n    }\n    // tslint:disable-next-line:max-line-length\n    // adapted from https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-lambda-function-code.html#cfn-lambda-function-code-cfnresponsemodule\n    // to allow sending an error messge as a reason.\n    function submitResponse(responseStatus, reason) {\n        const responseBody = JSON.stringify({\n            Status: responseStatus,\n            Reason: reason || 'See the details in CloudWatch Log Stream: ' + context.logStreamName,\n            PhysicalResourceId: event.PhysicalResourceId || event.LogicalResourceId,\n            StackId: event.StackId,\n            RequestId: event.RequestId,\n            LogicalResourceId: event.LogicalResourceId,\n            NoEcho: false,\n        });\n        log({ responseBody });\n        const parsedUrl = url.parse(event.ResponseURL);\n        const options = {\n            hostname: parsedUrl.hostname,\n            port: 443,\n            path: parsedUrl.path,\n            method: 'PUT',\n            headers: {\n                'content-type': '',\n                'content-length': responseBody.length,\n            },\n        };\n        const request = https.request(options, (r) => {\n            log({ statusCode: r.statusCode, statusMessage: r.statusMessage });\n            context.done();\n        });\n        request.on('error', (error) => {\n            log({ sendError: error });\n            context.done();\n        });\n        request.write(responseBody);\n        request.end();\n    }\n};"
        },
        "Handler": "index.handler",
        "Role": {
          "Fn::GetAtt": [
            "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleB6FB88EC",
            "Arn"
          ]
        },
        "Runtime": "nodejs10.x",
        "Timeout": 300
      },
      "DependsOn": [
        "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleDefaultPolicy2CF63D36",
        "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleB6FB88EC"
      ],
      "Metadata": {
        "aws:cdk:path": "DUSStack/BucketNotificationsHandler050a0587b7544547bf325f094a3db834/Resource"
      }
    },
    "dusstacktaskprocessorsdflebku3it5mhafoktntuServiceRoleF8E04DA6": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com"
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
              ]
            ]
          },
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"
              ]
            ]
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-taskprocessor-sdflebku3it5mhafoktntu/ServiceRole/Resource"
      }
    },
    "dusstacktaskprocessorsdflebku3it5mhafoktntuServiceRoleDefaultPolicy08D01ADB": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords"
              ],
              "Effect": "Allow",
              "Resource": "*"
            },
            {
              "Action": "dynamodb:ListStreams",
              "Effect": "Allow",
              "Resource": {
                "Fn::Join": [
                  "",
                  [
                    {
                      "Fn::GetAtt": [
                        "dusstackdocumentstablesdflebku3it5mhafoktntu62D37F13",
                        "Arn"
                      ]
                    },
                    "/stream/*"
                  ]
                ]
              }
            },
            {
              "Action": [
                "dynamodb:DescribeStream",
                "dynamodb:GetRecords",
                "dynamodb:GetShardIterator"
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "dusstackdocumentstablesdflebku3it5mhafoktntu62D37F13",
                  "StreamArn"
                ]
              }
            },
            {
              "Action": [
                "dynamodb:BatchGetItem",
                "dynamodb:GetRecords",
                "dynamodb:GetShardIterator",
                "dynamodb:Query",
                "dynamodb:GetItem",
                "dynamodb:Scan",
                "dynamodb:BatchWriteItem",
                "dynamodb:PutItem",
                "dynamodb:UpdateItem",
                "dynamodb:DeleteItem"
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "dusstackdocumentstablesdflebku3it5mhafoktntu62D37F13",
                    "Arn"
                  ]
                },
                {
                  "Ref": "AWS::NoValue"
                }
              ]
            },
            {
              "Action": [
                "sqs:SendMessage",
                "sqs:GetQueueAttributes",
                "sqs:GetQueueUrl"
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "dusstacksyncjobssdflebku3it5mhafoktntu19896205",
                  "Arn"
                ]
              }
            },
            {
              "Action": [
                "sqs:SendMessage",
                "sqs:GetQueueAttributes",
                "sqs:GetQueueUrl"
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "dusstackasyncjobssdflebku3it5mhafoktntuFB553A4B",
                  "Arn"
                ]
              }
            },
            {
              "Action": [
                "sqs:SendMessage",
                "sqs:GetQueueAttributes",
                "sqs:GetQueueUrl"
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "dusstackjoberrorhandlersdflebku3it5mhafoktntu27CEC512",
                  "Arn"
                ]
              }
            },
            {
              "Action": [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*"
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "dusstackdocumentss3bucketsdflebku3it5mhafoktntu0D5F60CB",
                    "Arn"
                  ]
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "dusstackdocumentss3bucketsdflebku3it5mhafoktntu0D5F60CB",
                          "Arn"
                        ]
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            },
            {
              "Action": [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*"
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "dusstacksampless3bucketsdflebku3it5mhafoktntu85D908C9",
                    "Arn"
                  ]
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "dusstacksampless3bucketsdflebku3it5mhafoktntu85D908C9",
                          "Arn"
                        ]
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "dusstacktaskprocessorsdflebku3it5mhafoktntuServiceRoleDefaultPolicy08D01ADB",
        "Roles": [
          {
            "Ref": "dusstacktaskprocessorsdflebku3it5mhafoktntuServiceRoleF8E04DA6"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-taskprocessor-sdflebku3it5mhafoktntu/ServiceRole/DefaultPolicy/Resource"
      }
    },
    "dusstacktaskprocessorsdflebku3it5mhafoktntuSecurityGroupBC3B94FA": {
      "Type": "AWS::EC2::SecurityGroup",
      "Properties": {
        "GroupDescription": "Automatic security group for Lambda Function DUSStackdusstacktaskprocessorsdflebku3it5mhafoktntu8E98588F",
        "SecurityGroupEgress": [
          {
            "CidrIp": "0.0.0.0/0",
            "Description": "Allow all outbound traffic by default",
            "IpProtocol": "-1"
          }
        ],
        "VpcId": {
          "Ref": "dusstackelasticsearchvpcsdflebku3it5mhafoktntuB4A2CB7D"
        }
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-taskprocessor-sdflebku3it5mhafoktntu/SecurityGroup/Resource"
      }
    },
    "dusstacktaskprocessorsdflebku3it5mhafoktntu85DF6CEF": {
      "Type": "AWS::Lambda::Function",
      "Properties": {
        "Code": {
          "S3Bucket": {
            "Ref": "AssetParameters3c55a56cc0d8d0028e752b1fad451e28208b213d6a2d41934088b21f5868ab8dS3Bucket74F361D6"
          },
          "S3Key": {
            "Fn::Join": [
              "",
              [
                {
                  "Fn::Select": [
                    0,
                    {
                      "Fn::Split": [
                        "||",
                        {
                          "Ref": "AssetParameters3c55a56cc0d8d0028e752b1fad451e28208b213d6a2d41934088b21f5868ab8dS3VersionKey1C2CD8B9"
                        }
                      ]
                    }
                  ]
                },
                {
                  "Fn::Select": [
                    1,
                    {
                      "Fn::Split": [
                        "||",
                        {
                          "Ref": "AssetParameters3c55a56cc0d8d0028e752b1fad451e28208b213d6a2d41934088b21f5868ab8dS3VersionKey1C2CD8B9"
                        }
                      ]
                    }
                  ]
                }
              ]
            ]
          }
        },
        "Handler": "lambda_function.lambda_handler",
        "Role": {
          "Fn::GetAtt": [
            "dusstacktaskprocessorsdflebku3it5mhafoktntuServiceRoleF8E04DA6",
            "Arn"
          ]
        },
        "Runtime": "python3.8",
        "Environment": {
          "Variables": {
            "SYNC_QUEUE_URL": {
              "Ref": "dusstacksyncjobssdflebku3it5mhafoktntu19896205"
            },
            "ASYNC_QUEUE_URL": {
              "Ref": "dusstackasyncjobssdflebku3it5mhafoktntuFB553A4B"
            },
            "ERROR_HANDLER_QUEUE_URL": {
              "Ref": "dusstackjoberrorhandlersdflebku3it5mhafoktntu27CEC512"
            }
          }
        },
        "Layers": [
          {
            "Ref": "dusstackhelperlayersdflebku3it5mhafoktntuCC25FBBF"
          },
          {
            "Ref": "dusstackboto3sdflebku3it5mhafoktntuE37D2D8F"
          }
        ],
        "ReservedConcurrentExecutions": 30,
        "Timeout": 300,
        "TracingConfig": {
          "Mode": "Active"
        },
        "VpcConfig": {
          "SecurityGroupIds": [
            {
              "Fn::GetAtt": [
                "dusstacktaskprocessorsdflebku3it5mhafoktntuSecurityGroupBC3B94FA",
                "GroupId"
              ]
            }
          ],
          "SubnetIds": [
            {
              "Ref": "dusstackelasticsearchvpcsdflebku3it5mhafoktntuPrivateSubnet1Subnet85B5A6DE"
            },
            {
              "Ref": "dusstackelasticsearchvpcsdflebku3it5mhafoktntuPrivateSubnet2Subnet8AD16DDF"
            }
          ]
        }
      },
      "DependsOn": [
        "dusstacktaskprocessorsdflebku3it5mhafoktntuServiceRoleDefaultPolicy08D01ADB",
        "dusstacktaskprocessorsdflebku3it5mhafoktntuServiceRoleF8E04DA6"
      ],
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-taskprocessor-sdflebku3it5mhafoktntu/Resource",
        "aws:asset:path": "asset.3c55a56cc0d8d0028e752b1fad451e28208b213d6a2d41934088b21f5868ab8d",
        "aws:asset:property": "Code"
      }
    },
    "dusstacktaskprocessorsdflebku3it5mhafoktntuDynamoDBEventSourceDUSStackdusstackdocumentstablesdflebku3it5mhafoktntu495CDE70F8006A55": {
      "Type": "AWS::Lambda::EventSourceMapping",
      "Properties": {
        "EventSourceArn": {
          "Fn::GetAtt": [
            "dusstackdocumentstablesdflebku3it5mhafoktntu62D37F13",
            "StreamArn"
          ]
        },
        "FunctionName": {
          "Ref": "dusstacktaskprocessorsdflebku3it5mhafoktntu85DF6CEF"
        },
        "BatchSize": 1,
        "StartingPosition": "TRIM_HORIZON"
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-taskprocessor-sdflebku3it5mhafoktntu/DynamoDBEventSource:DUSStackdusstackdocumentstablesdflebku3it5mhafoktntu495CDE70/Resource"
      }
    },
    "dusstackjoberrorhandlerlambdasdflebku3it5mhafoktntuServiceRoleD456790B": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com"
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
              ]
            ]
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-joberrorhandlerlambda-sdflebku3it5mhafoktntu/ServiceRole/Resource"
      }
    },
    "dusstackjoberrorhandlerlambdasdflebku3it5mhafoktntuServiceRoleDefaultPolicy62234B77": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords"
              ],
              "Effect": "Allow",
              "Resource": "*"
            },
            {
              "Action": [
                "sqs:ReceiveMessage",
                "sqs:ChangeMessageVisibility",
                "sqs:GetQueueUrl",
                "sqs:DeleteMessage",
                "sqs:GetQueueAttributes"
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "dusstackjoberrorhandlersdflebku3it5mhafoktntu27CEC512",
                  "Arn"
                ]
              }
            },
            {
              "Action": [
                "dynamodb:BatchGetItem",
                "dynamodb:GetRecords",
                "dynamodb:GetShardIterator",
                "dynamodb:Query",
                "dynamodb:GetItem",
                "dynamodb:Scan",
                "dynamodb:BatchWriteItem",
                "dynamodb:PutItem",
                "dynamodb:UpdateItem",
                "dynamodb:DeleteItem"
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "dusstackdocumentstablesdflebku3it5mhafoktntu62D37F13",
                    "Arn"
                  ]
                },
                {
                  "Ref": "AWS::NoValue"
                }
              ]
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "dusstackjoberrorhandlerlambdasdflebku3it5mhafoktntuServiceRoleDefaultPolicy62234B77",
        "Roles": [
          {
            "Ref": "dusstackjoberrorhandlerlambdasdflebku3it5mhafoktntuServiceRoleD456790B"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-joberrorhandlerlambda-sdflebku3it5mhafoktntu/ServiceRole/DefaultPolicy/Resource"
      }
    },
    "dusstackjoberrorhandlerlambdasdflebku3it5mhafoktntuCBB92F16": {
      "Type": "AWS::Lambda::Function",
      "Properties": {
        "Code": {
          "S3Bucket": {
            "Ref": "AssetParametersc64f0aefd884e2bb1dffde28585ecc406f60180d97cd57a5e4978075d43cb9c5S3Bucket72A9658B"
          },
          "S3Key": {
            "Fn::Join": [
              "",
              [
                {
                  "Fn::Select": [
                    0,
                    {
                      "Fn::Split": [
                        "||",
                        {
                          "Ref": "AssetParametersc64f0aefd884e2bb1dffde28585ecc406f60180d97cd57a5e4978075d43cb9c5S3VersionKey97906397"
                        }
                      ]
                    }
                  ]
                },
                {
                  "Fn::Select": [
                    1,
                    {
                      "Fn::Split": [
                        "||",
                        {
                          "Ref": "AssetParametersc64f0aefd884e2bb1dffde28585ecc406f60180d97cd57a5e4978075d43cb9c5S3VersionKey97906397"
                        }
                      ]
                    }
                  ]
                }
              ]
            ]
          }
        },
        "Handler": "lambda_function.lambda_handler",
        "Role": {
          "Fn::GetAtt": [
            "dusstackjoberrorhandlerlambdasdflebku3it5mhafoktntuServiceRoleD456790B",
            "Arn"
          ]
        },
        "Runtime": "python3.8",
        "Environment": {
          "Variables": {
            "DOCUMENTS_TABLE": {
              "Ref": "dusstackdocumentstablesdflebku3it5mhafoktntu62D37F13"
            }
          }
        },
        "Layers": [
          {
            "Ref": "dusstackhelperlayersdflebku3it5mhafoktntuCC25FBBF"
          }
        ],
        "ReservedConcurrentExecutions": 7,
        "Timeout": 60,
        "TracingConfig": {
          "Mode": "Active"
        }
      },
      "DependsOn": [
        "dusstackjoberrorhandlerlambdasdflebku3it5mhafoktntuServiceRoleDefaultPolicy62234B77",
        "dusstackjoberrorhandlerlambdasdflebku3it5mhafoktntuServiceRoleD456790B"
      ],
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-joberrorhandlerlambda-sdflebku3it5mhafoktntu/Resource",
        "aws:asset:path": "asset.c64f0aefd884e2bb1dffde28585ecc406f60180d97cd57a5e4978075d43cb9c5",
        "aws:asset:property": "Code"
      }
    },
    "dusstackjoberrorhandlerlambdasdflebku3it5mhafoktntuSqsEventSourceDUSStackdusstackjoberrorhandlersdflebku3it5mhafoktntu840A759292BFE2D1": {
      "Type": "AWS::Lambda::EventSourceMapping",
      "Properties": {
        "EventSourceArn": {
          "Fn::GetAtt": [
            "dusstackjoberrorhandlersdflebku3it5mhafoktntu27CEC512",
            "Arn"
          ]
        },
        "FunctionName": {
          "Ref": "dusstackjoberrorhandlerlambdasdflebku3it5mhafoktntuCBB92F16"
        },
        "BatchSize": 1
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-joberrorhandlerlambda-sdflebku3it5mhafoktntu/SqsEventSource:DUSStackdusstackjoberrorhandlersdflebku3it5mhafoktntu840A7592/Resource"
      }
    },
    "dusstackpdfgeneratorsdflebku3it5mhafoktntuServiceRole9BEB088A": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com"
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
              ]
            ]
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-pdfgenerator-sdflebku3it5mhafoktntu/ServiceRole/Resource"
      }
    },
    "dusstackpdfgeneratorsdflebku3it5mhafoktntuServiceRoleDefaultPolicyD86DDCE1": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords"
              ],
              "Effect": "Allow",
              "Resource": "*"
            },
            {
              "Action": [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*"
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "dusstackdocumentss3bucketsdflebku3it5mhafoktntu0D5F60CB",
                    "Arn"
                  ]
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "dusstackdocumentss3bucketsdflebku3it5mhafoktntu0D5F60CB",
                          "Arn"
                        ]
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            },
            {
              "Action": [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*"
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "dusstacksampless3bucketsdflebku3it5mhafoktntu85D908C9",
                    "Arn"
                  ]
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "dusstacksampless3bucketsdflebku3it5mhafoktntu85D908C9",
                          "Arn"
                        ]
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "dusstackpdfgeneratorsdflebku3it5mhafoktntuServiceRoleDefaultPolicyD86DDCE1",
        "Roles": [
          {
            "Ref": "dusstackpdfgeneratorsdflebku3it5mhafoktntuServiceRole9BEB088A"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-pdfgenerator-sdflebku3it5mhafoktntu/ServiceRole/DefaultPolicy/Resource"
      }
    },
    "dusstackpdfgeneratorsdflebku3it5mhafoktntu54541CBB": {
      "Type": "AWS::Lambda::Function",
      "Properties": {
        "Code": {
          "S3Bucket": "SOURCE_BUCKET",
          "S3Key": "SOLUTION_NAME/CODE_VERSION/searchable-pdf-1.0.jar"
        },
        "Handler": "DemoLambdaV2::handleRequest",
        "Role": {
          "Fn::GetAtt": [
            "dusstackpdfgeneratorsdflebku3it5mhafoktntuServiceRole9BEB088A",
            "Arn"
          ]
        },
        "Runtime": "java8",
        "MemorySize": 3000,
        "ReservedConcurrentExecutions": 30,
        "Timeout": 900,
        "TracingConfig": {
          "Mode": "Active"
        }
      },
      "DependsOn": [
        "dusstackpdfgeneratorsdflebku3it5mhafoktntuServiceRoleDefaultPolicyD86DDCE1",
        "dusstackpdfgeneratorsdflebku3it5mhafoktntuServiceRole9BEB088A"
      ],
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-pdfgenerator-sdflebku3it5mhafoktntu/Resource"
      }
    },
    "dusstacksyncprocessorsdflebku3it5mhafoktntuServiceRole2103124D": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com"
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
              ]
            ]
          },
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"
              ]
            ]
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-syncprocessor-sdflebku3it5mhafoktntu/ServiceRole/Resource"
      }
    },
    "dusstacksyncprocessorsdflebku3it5mhafoktntuServiceRoleDefaultPolicyD7132782": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords"
              ],
              "Effect": "Allow",
              "Resource": "*"
            },
            {
              "Action": [
                "sqs:ReceiveMessage",
                "sqs:ChangeMessageVisibility",
                "sqs:GetQueueUrl",
                "sqs:DeleteMessage",
                "sqs:GetQueueAttributes"
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "dusstacksyncjobssdflebku3it5mhafoktntu19896205",
                  "Arn"
                ]
              }
            },
            {
              "Action": [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*"
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "dusstackdocumentss3bucketsdflebku3it5mhafoktntu0D5F60CB",
                    "Arn"
                  ]
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "dusstackdocumentss3bucketsdflebku3it5mhafoktntu0D5F60CB",
                          "Arn"
                        ]
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            },
            {
              "Action": [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*"
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "dusstacksampless3bucketsdflebku3it5mhafoktntu85D908C9",
                    "Arn"
                  ]
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "dusstacksampless3bucketsdflebku3it5mhafoktntu85D908C9",
                          "Arn"
                        ]
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            },
            {
              "Action": [
                "dynamodb:BatchGetItem",
                "dynamodb:GetRecords",
                "dynamodb:GetShardIterator",
                "dynamodb:Query",
                "dynamodb:GetItem",
                "dynamodb:Scan",
                "dynamodb:BatchWriteItem",
                "dynamodb:PutItem",
                "dynamodb:UpdateItem",
                "dynamodb:DeleteItem"
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "dusstackoutputtablesdflebku3it5mhafoktntu3E55BC3D",
                    "Arn"
                  ]
                },
                {
                  "Ref": "AWS::NoValue"
                }
              ]
            },
            {
              "Action": [
                "dynamodb:BatchGetItem",
                "dynamodb:GetRecords",
                "dynamodb:GetShardIterator",
                "dynamodb:Query",
                "dynamodb:GetItem",
                "dynamodb:Scan",
                "dynamodb:BatchWriteItem",
                "dynamodb:PutItem",
                "dynamodb:UpdateItem",
                "dynamodb:DeleteItem"
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "dusstackdocumentstablesdflebku3it5mhafoktntu62D37F13",
                    "Arn"
                  ]
                },
                {
                  "Ref": "AWS::NoValue"
                }
              ]
            },
            {
              "Action": [
                "kms:Decrypt",
                "kms:Encrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey*"
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "esEncryptionKey7A7DDC6B",
                  "Arn"
                ]
              }
            },
            {
              "Action": [
                "es:ESHttpHead",
                "es:Get*",
                "es:List*",
                "es:Describe*",
                "es:ESHttpGet",
                "es:ESHttpDelete",
                "es:ESHttpPost",
                "es:ESHttpPut"
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::Join": [
                  "",
                  [
                    {
                      "Fn::GetAtt": [
                        "dusstackelasticsearchclustersdflebku3it5mhafoktntu",
                        "Arn"
                      ]
                    },
                    "/*"
                  ]
                ]
              }
            },
            {
              "Action": "lambda:InvokeFunction",
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "dusstackpdfgeneratorsdflebku3it5mhafoktntu54541CBB",
                  "Arn"
                ]
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "dusstacksyncprocessorsdflebku3it5mhafoktntuServiceRoleDefaultPolicyD7132782",
        "Roles": [
          {
            "Ref": "dusstacksyncprocessorsdflebku3it5mhafoktntuServiceRole2103124D"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-syncprocessor-sdflebku3it5mhafoktntu/ServiceRole/DefaultPolicy/Resource"
      }
    },
    "dusstacksyncprocessorsdflebku3it5mhafoktntuSecurityGroupE665FBDF": {
      "Type": "AWS::EC2::SecurityGroup",
      "Properties": {
        "GroupDescription": "Automatic security group for Lambda Function DUSStackdusstacksyncprocessorsdflebku3it5mhafoktntuCC2BFD5B",
        "SecurityGroupEgress": [
          {
            "CidrIp": "0.0.0.0/0",
            "Description": "Allow all outbound traffic by default",
            "IpProtocol": "-1"
          }
        ],
        "VpcId": {
          "Ref": "dusstackelasticsearchvpcsdflebku3it5mhafoktntuB4A2CB7D"
        }
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-syncprocessor-sdflebku3it5mhafoktntu/SecurityGroup/Resource"
      }
    },
    "dusstacksyncprocessorsdflebku3it5mhafoktntu87E2B8C7": {
      "Type": "AWS::Lambda::Function",
      "Properties": {
        "Code": {
          "S3Bucket": {
            "Ref": "AssetParameters7e7483c7f6b2d2bcc8221d18711ce19d6dd745532fa6ec00834ca7f2a1db4655S3BucketF0DADEB8"
          },
          "S3Key": {
            "Fn::Join": [
              "",
              [
                {
                  "Fn::Select": [
                    0,
                    {
                      "Fn::Split": [
                        "||",
                        {
                          "Ref": "AssetParameters7e7483c7f6b2d2bcc8221d18711ce19d6dd745532fa6ec00834ca7f2a1db4655S3VersionKeyCB3B9EFC"
                        }
                      ]
                    }
                  ]
                },
                {
                  "Fn::Select": [
                    1,
                    {
                      "Fn::Split": [
                        "||",
                        {
                          "Ref": "AssetParameters7e7483c7f6b2d2bcc8221d18711ce19d6dd745532fa6ec00834ca7f2a1db4655S3VersionKeyCB3B9EFC"
                        }
                      ]
                    }
                  ]
                }
              ]
            ]
          }
        },
        "Handler": "lambda_function.lambda_handler",
        "Role": {
          "Fn::GetAtt": [
            "dusstacksyncprocessorsdflebku3it5mhafoktntuServiceRole2103124D",
            "Arn"
          ]
        },
        "Runtime": "python3.8",
        "Environment": {
          "Variables": {
            "OUTPUT_BUCKET": {
              "Ref": "dusstackdocumentss3bucketsdflebku3it5mhafoktntu0D5F60CB"
            },
            "OUTPUT_TABLE": {
              "Ref": "dusstackoutputtablesdflebku3it5mhafoktntu3E55BC3D"
            },
            "DOCUMENTS_TABLE": {
              "Ref": "dusstackdocumentstablesdflebku3it5mhafoktntu62D37F13"
            },
            "ES_DOMAIN": {
              "Fn::GetAtt": [
                "dusstackelasticsearchclustersdflebku3it5mhafoktntu",
                "DomainEndpoint"
              ]
            },
            "PDF_LAMBDA": {
              "Ref": "dusstackpdfgeneratorsdflebku3it5mhafoktntu54541CBB"
            }
          }
        },
        "Layers": [
          {
            "Ref": "dusstackhelperlayersdflebku3it5mhafoktntuCC25FBBF"
          },
          {
            "Ref": "dusstacktextractorsdflebku3it5mhafoktntu5417C8B4"
          },
          {
            "Ref": "dusstackboto3sdflebku3it5mhafoktntuE37D2D8F"
          },
          {
            "Ref": "dusstackelasticsearchlayersdflebku3it5mhafoktntu4C4C8E8D"
          }
        ],
        "ReservedConcurrentExecutions": 10,
        "Timeout": 900,
        "TracingConfig": {
          "Mode": "Active"
        },
        "VpcConfig": {
          "SecurityGroupIds": [
            {
              "Fn::GetAtt": [
                "dusstacksyncprocessorsdflebku3it5mhafoktntuSecurityGroupE665FBDF",
                "GroupId"
              ]
            }
          ],
          "SubnetIds": [
            {
              "Ref": "dusstackelasticsearchvpcsdflebku3it5mhafoktntuPrivateSubnet1Subnet85B5A6DE"
            },
            {
              "Ref": "dusstackelasticsearchvpcsdflebku3it5mhafoktntuPrivateSubnet2Subnet8AD16DDF"
            }
          ]
        }
      },
      "DependsOn": [
        "dusstacksyncprocessorsdflebku3it5mhafoktntuServiceRoleDefaultPolicyD7132782",
        "dusstacksyncprocessorsdflebku3it5mhafoktntuServiceRole2103124D"
      ],
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-syncprocessor-sdflebku3it5mhafoktntu/Resource",
        "aws:asset:path": "asset.7e7483c7f6b2d2bcc8221d18711ce19d6dd745532fa6ec00834ca7f2a1db4655",
        "aws:asset:property": "Code"
      }
    },
    "dusstacksyncprocessorsdflebku3it5mhafoktntuSqsEventSourceDUSStackdusstacksyncjobssdflebku3it5mhafoktntu314E7B8A007CBD9F": {
      "Type": "AWS::Lambda::EventSourceMapping",
      "Properties": {
        "EventSourceArn": {
          "Fn::GetAtt": [
            "dusstacksyncjobssdflebku3it5mhafoktntu19896205",
            "Arn"
          ]
        },
        "FunctionName": {
          "Ref": "dusstacksyncprocessorsdflebku3it5mhafoktntu87E2B8C7"
        },
        "BatchSize": 1
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-syncprocessor-sdflebku3it5mhafoktntu/SqsEventSource:DUSStackdusstacksyncjobssdflebku3it5mhafoktntu314E7B8A/Resource"
      }
    },
    "dusstackasyncprocessorsdflebku3it5mhafoktntuServiceRole8C88D996": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com"
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
              ]
            ]
          },
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"
              ]
            ]
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-asyncprocessor-sdflebku3it5mhafoktntu/ServiceRole/Resource"
      }
    },
    "dusstackasyncprocessorsdflebku3it5mhafoktntuServiceRoleDefaultPolicyE40D8569": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords"
              ],
              "Effect": "Allow",
              "Resource": "*"
            },
            {
              "Action": [
                "sqs:ReceiveMessage",
                "sqs:ChangeMessageVisibility",
                "sqs:GetQueueUrl",
                "sqs:DeleteMessage",
                "sqs:GetQueueAttributes"
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "dusstackasyncjobssdflebku3it5mhafoktntuFB553A4B",
                  "Arn"
                ]
              }
            },
            {
              "Action": [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*"
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "dusstackdocumentss3bucketsdflebku3it5mhafoktntu0D5F60CB",
                    "Arn"
                  ]
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "dusstackdocumentss3bucketsdflebku3it5mhafoktntu0D5F60CB",
                          "Arn"
                        ]
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            },
            {
              "Action": [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*"
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "dusstacksampless3bucketsdflebku3it5mhafoktntu85D908C9",
                    "Arn"
                  ]
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "dusstacksampless3bucketsdflebku3it5mhafoktntu85D908C9",
                          "Arn"
                        ]
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            },
            {
              "Action": "iam:PassRole",
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "dusstacktextractservicerolesdflebku3it5mhafoktntuD4AD302A",
                  "Arn"
                ]
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "dusstackasyncprocessorsdflebku3it5mhafoktntuServiceRoleDefaultPolicyE40D8569",
        "Roles": [
          {
            "Ref": "dusstackasyncprocessorsdflebku3it5mhafoktntuServiceRole8C88D996"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-asyncprocessor-sdflebku3it5mhafoktntu/ServiceRole/DefaultPolicy/Resource"
      }
    },
    "dusstackasyncprocessorsdflebku3it5mhafoktntuSecurityGroupB766C3E8": {
      "Type": "AWS::EC2::SecurityGroup",
      "Properties": {
        "GroupDescription": "Automatic security group for Lambda Function DUSStackdusstackasyncprocessorsdflebku3it5mhafoktntuE1A6D88F",
        "SecurityGroupEgress": [
          {
            "CidrIp": "0.0.0.0/0",
            "Description": "Allow all outbound traffic by default",
            "IpProtocol": "-1"
          }
        ],
        "VpcId": {
          "Ref": "dusstackelasticsearchvpcsdflebku3it5mhafoktntuB4A2CB7D"
        }
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-asyncprocessor-sdflebku3it5mhafoktntu/SecurityGroup/Resource"
      }
    },
    "dusstackasyncprocessorsdflebku3it5mhafoktntu16054288": {
      "Type": "AWS::Lambda::Function",
      "Properties": {
        "Code": {
          "S3Bucket": {
            "Ref": "AssetParameters34f36d262896e10312c0d3292463a75e722b9aa799fe0df73102d981ffee0ce1S3BucketCF6D4253"
          },
          "S3Key": {
            "Fn::Join": [
              "",
              [
                {
                  "Fn::Select": [
                    0,
                    {
                      "Fn::Split": [
                        "||",
                        {
                          "Ref": "AssetParameters34f36d262896e10312c0d3292463a75e722b9aa799fe0df73102d981ffee0ce1S3VersionKey2D245692"
                        }
                      ]
                    }
                  ]
                },
                {
                  "Fn::Select": [
                    1,
                    {
                      "Fn::Split": [
                        "||",
                        {
                          "Ref": "AssetParameters34f36d262896e10312c0d3292463a75e722b9aa799fe0df73102d981ffee0ce1S3VersionKey2D245692"
                        }
                      ]
                    }
                  ]
                }
              ]
            ]
          }
        },
        "Handler": "lambda_function.lambda_handler",
        "Role": {
          "Fn::GetAtt": [
            "dusstackasyncprocessorsdflebku3it5mhafoktntuServiceRole8C88D996",
            "Arn"
          ]
        },
        "Runtime": "python3.8",
        "Environment": {
          "Variables": {
            "ASYNC_QUEUE_URL": {
              "Ref": "dusstackasyncjobssdflebku3it5mhafoktntuFB553A4B"
            },
            "SNS_TOPIC_ARN": {
              "Ref": "dusstackjobcompletiontopicsdflebku3it5mhafoktntu4F55C978"
            },
            "SNS_ROLE_ARN": {
              "Fn::GetAtt": [
                "dusstacktextractservicerolesdflebku3it5mhafoktntuD4AD302A",
                "Arn"
              ]
            }
          }
        },
        "Layers": [
          {
            "Ref": "dusstackhelperlayersdflebku3it5mhafoktntuCC25FBBF"
          },
          {
            "Ref": "dusstackboto3sdflebku3it5mhafoktntuE37D2D8F"
          }
        ],
        "ReservedConcurrentExecutions": 10,
        "Timeout": 120,
        "TracingConfig": {
          "Mode": "Active"
        },
        "VpcConfig": {
          "SecurityGroupIds": [
            {
              "Fn::GetAtt": [
                "dusstackasyncprocessorsdflebku3it5mhafoktntuSecurityGroupB766C3E8",
                "GroupId"
              ]
            }
          ],
          "SubnetIds": [
            {
              "Ref": "dusstackelasticsearchvpcsdflebku3it5mhafoktntuPrivateSubnet1Subnet85B5A6DE"
            },
            {
              "Ref": "dusstackelasticsearchvpcsdflebku3it5mhafoktntuPrivateSubnet2Subnet8AD16DDF"
            }
          ]
        }
      },
      "DependsOn": [
        "dusstackasyncprocessorsdflebku3it5mhafoktntuServiceRoleDefaultPolicyE40D8569",
        "dusstackasyncprocessorsdflebku3it5mhafoktntuServiceRole8C88D996"
      ],
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-asyncprocessor-sdflebku3it5mhafoktntu/Resource",
        "aws:asset:path": "asset.34f36d262896e10312c0d3292463a75e722b9aa799fe0df73102d981ffee0ce1",
        "aws:asset:property": "Code"
      }
    },
    "dusstackasyncprocessorsdflebku3it5mhafoktntuSqsEventSourceDUSStackdusstackasyncjobssdflebku3it5mhafoktntuE84B05EEB38EB269": {
      "Type": "AWS::Lambda::EventSourceMapping",
      "Properties": {
        "EventSourceArn": {
          "Fn::GetAtt": [
            "dusstackasyncjobssdflebku3it5mhafoktntuFB553A4B",
            "Arn"
          ]
        },
        "FunctionName": {
          "Ref": "dusstackasyncprocessorsdflebku3it5mhafoktntu16054288"
        },
        "BatchSize": 1
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-asyncprocessor-sdflebku3it5mhafoktntu/SqsEventSource:DUSStackdusstackasyncjobssdflebku3it5mhafoktntuE84B05EE/Resource"
      }
    },
    "dusstackjobresultprocessorsdflebku3it5mhafoktntuServiceRole6D91BC43": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com"
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
              ]
            ]
          },
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"
              ]
            ]
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-jobresultprocessor-sdflebku3it5mhafoktntu/ServiceRole/Resource"
      }
    },
    "dusstackjobresultprocessorsdflebku3it5mhafoktntuServiceRoleDefaultPolicyD5DFA863": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords"
              ],
              "Effect": "Allow",
              "Resource": "*"
            },
            {
              "Action": [
                "kms:Decrypt",
                "kms:Encrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey*"
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "dusstackjobresultskeysdflebku3it5mhafoktntu74877A2C",
                  "Arn"
                ]
              }
            },
            {
              "Action": [
                "sqs:ReceiveMessage",
                "sqs:ChangeMessageVisibility",
                "sqs:GetQueueUrl",
                "sqs:DeleteMessage",
                "sqs:GetQueueAttributes"
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "dusstackjobresultssdflebku3it5mhafoktntuF69ABF18",
                  "Arn"
                ]
              }
            },
            {
              "Action": "kms:Decrypt",
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "dusstackjobresultskeysdflebku3it5mhafoktntu74877A2C",
                  "Arn"
                ]
              }
            },
            {
              "Action": [
                "dynamodb:BatchGetItem",
                "dynamodb:GetRecords",
                "dynamodb:GetShardIterator",
                "dynamodb:Query",
                "dynamodb:GetItem",
                "dynamodb:Scan",
                "dynamodb:BatchWriteItem",
                "dynamodb:PutItem",
                "dynamodb:UpdateItem",
                "dynamodb:DeleteItem"
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "dusstackoutputtablesdflebku3it5mhafoktntu3E55BC3D",
                    "Arn"
                  ]
                },
                {
                  "Ref": "AWS::NoValue"
                }
              ]
            },
            {
              "Action": [
                "dynamodb:BatchGetItem",
                "dynamodb:GetRecords",
                "dynamodb:GetShardIterator",
                "dynamodb:Query",
                "dynamodb:GetItem",
                "dynamodb:Scan",
                "dynamodb:BatchWriteItem",
                "dynamodb:PutItem",
                "dynamodb:UpdateItem",
                "dynamodb:DeleteItem"
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "dusstackdocumentstablesdflebku3it5mhafoktntu62D37F13",
                    "Arn"
                  ]
                },
                {
                  "Ref": "AWS::NoValue"
                }
              ]
            },
            {
              "Action": [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*"
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "dusstackdocumentss3bucketsdflebku3it5mhafoktntu0D5F60CB",
                    "Arn"
                  ]
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "dusstackdocumentss3bucketsdflebku3it5mhafoktntu0D5F60CB",
                          "Arn"
                        ]
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            },
            {
              "Action": [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject*",
                "s3:Abort*"
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "dusstacksampless3bucketsdflebku3it5mhafoktntu85D908C9",
                    "Arn"
                  ]
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "dusstacksampless3bucketsdflebku3it5mhafoktntu85D908C9",
                          "Arn"
                        ]
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            },
            {
              "Action": [
                "es:ESHttpHead",
                "es:Get*",
                "es:List*",
                "es:Describe*",
                "es:ESHttpGet",
                "es:ESHttpDelete",
                "es:ESHttpPost",
                "es:ESHttpPut"
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::Join": [
                  "",
                  [
                    {
                      "Fn::GetAtt": [
                        "dusstackelasticsearchclustersdflebku3it5mhafoktntu",
                        "Arn"
                      ]
                    },
                    "/*"
                  ]
                ]
              }
            },
            {
              "Action": [
                "kms:Decrypt",
                "kms:Encrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey*"
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "esEncryptionKey7A7DDC6B",
                  "Arn"
                ]
              }
            },
            {
              "Action": "lambda:InvokeFunction",
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "dusstackpdfgeneratorsdflebku3it5mhafoktntu54541CBB",
                  "Arn"
                ]
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "dusstackjobresultprocessorsdflebku3it5mhafoktntuServiceRoleDefaultPolicyD5DFA863",
        "Roles": [
          {
            "Ref": "dusstackjobresultprocessorsdflebku3it5mhafoktntuServiceRole6D91BC43"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-jobresultprocessor-sdflebku3it5mhafoktntu/ServiceRole/DefaultPolicy/Resource"
      }
    },
    "dusstackjobresultprocessorsdflebku3it5mhafoktntuSecurityGroup07A6DC67": {
      "Type": "AWS::EC2::SecurityGroup",
      "Properties": {
        "GroupDescription": "Automatic security group for Lambda Function DUSStackdusstackjobresultprocessorsdflebku3it5mhafoktntuA1A794BC",
        "SecurityGroupEgress": [
          {
            "CidrIp": "0.0.0.0/0",
            "Description": "Allow all outbound traffic by default",
            "IpProtocol": "-1"
          }
        ],
        "VpcId": {
          "Ref": "dusstackelasticsearchvpcsdflebku3it5mhafoktntuB4A2CB7D"
        }
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-jobresultprocessor-sdflebku3it5mhafoktntu/SecurityGroup/Resource"
      }
    },
    "dusstackjobresultprocessorsdflebku3it5mhafoktntu5C153543": {
      "Type": "AWS::Lambda::Function",
      "Properties": {
        "Code": {
          "S3Bucket": {
            "Ref": "AssetParametersf25f5a995f8fe273f547782f35b1e44fb7ac796200b64c568192d0eff7cdc037S3Bucket24012E8B"
          },
          "S3Key": {
            "Fn::Join": [
              "",
              [
                {
                  "Fn::Select": [
                    0,
                    {
                      "Fn::Split": [
                        "||",
                        {
                          "Ref": "AssetParametersf25f5a995f8fe273f547782f35b1e44fb7ac796200b64c568192d0eff7cdc037S3VersionKeyD31E4EB0"
                        }
                      ]
                    }
                  ]
                },
                {
                  "Fn::Select": [
                    1,
                    {
                      "Fn::Split": [
                        "||",
                        {
                          "Ref": "AssetParametersf25f5a995f8fe273f547782f35b1e44fb7ac796200b64c568192d0eff7cdc037S3VersionKeyD31E4EB0"
                        }
                      ]
                    }
                  ]
                }
              ]
            ]
          }
        },
        "Handler": "lambda_function.lambda_handler",
        "Role": {
          "Fn::GetAtt": [
            "dusstackjobresultprocessorsdflebku3it5mhafoktntuServiceRole6D91BC43",
            "Arn"
          ]
        },
        "Runtime": "python3.8",
        "Environment": {
          "Variables": {
            "OUTPUT_BUCKET": {
              "Ref": "dusstackdocumentss3bucketsdflebku3it5mhafoktntu0D5F60CB"
            },
            "OUTPUT_TABLE": {
              "Ref": "dusstackoutputtablesdflebku3it5mhafoktntu3E55BC3D"
            },
            "DOCUMENTS_TABLE": {
              "Ref": "dusstackdocumentstablesdflebku3it5mhafoktntu62D37F13"
            },
            "ES_DOMAIN": {
              "Fn::GetAtt": [
                "dusstackelasticsearchclustersdflebku3it5mhafoktntu",
                "DomainEndpoint"
              ]
            },
            "PDF_LAMBDA": {
              "Ref": "dusstackpdfgeneratorsdflebku3it5mhafoktntu54541CBB"
            }
          }
        },
        "Layers": [
          {
            "Ref": "dusstackhelperlayersdflebku3it5mhafoktntuCC25FBBF"
          },
          {
            "Ref": "dusstacktextractorsdflebku3it5mhafoktntu5417C8B4"
          },
          {
            "Ref": "dusstackboto3sdflebku3it5mhafoktntuE37D2D8F"
          },
          {
            "Ref": "dusstackelasticsearchlayersdflebku3it5mhafoktntu4C4C8E8D"
          }
        ],
        "MemorySize": 2000,
        "ReservedConcurrentExecutions": 10,
        "Timeout": 900,
        "TracingConfig": {
          "Mode": "Active"
        },
        "VpcConfig": {
          "SecurityGroupIds": [
            {
              "Fn::GetAtt": [
                "dusstackjobresultprocessorsdflebku3it5mhafoktntuSecurityGroup07A6DC67",
                "GroupId"
              ]
            }
          ],
          "SubnetIds": [
            {
              "Ref": "dusstackelasticsearchvpcsdflebku3it5mhafoktntuPrivateSubnet1Subnet85B5A6DE"
            },
            {
              "Ref": "dusstackelasticsearchvpcsdflebku3it5mhafoktntuPrivateSubnet2Subnet8AD16DDF"
            }
          ]
        }
      },
      "DependsOn": [
        "dusstackjobresultprocessorsdflebku3it5mhafoktntuServiceRoleDefaultPolicyD5DFA863",
        "dusstackjobresultprocessorsdflebku3it5mhafoktntuServiceRole6D91BC43"
      ],
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-jobresultprocessor-sdflebku3it5mhafoktntu/Resource",
        "aws:asset:path": "asset.f25f5a995f8fe273f547782f35b1e44fb7ac796200b64c568192d0eff7cdc037",
        "aws:asset:property": "Code"
      }
    },
    "dusstackjobresultprocessorsdflebku3it5mhafoktntuSqsEventSourceDUSStackdusstackjobresultssdflebku3it5mhafoktntu657FB73C6B6D24AE": {
      "Type": "AWS::Lambda::EventSourceMapping",
      "Properties": {
        "EventSourceArn": {
          "Fn::GetAtt": [
            "dusstackjobresultssdflebku3it5mhafoktntuF69ABF18",
            "Arn"
          ]
        },
        "FunctionName": {
          "Ref": "dusstackjobresultprocessorsdflebku3it5mhafoktntu5C153543"
        },
        "BatchSize": 1
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-jobresultprocessor-sdflebku3it5mhafoktntu/SqsEventSource:DUSStackdusstackjobresultssdflebku3it5mhafoktntu657FB73C/Resource"
      }
    },
    "textractSyncPolicy8992A727": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "textract:DetectDocumentText",
                "textract:AnalyzeDocument"
              ],
              "Effect": "Allow",
              "Resource": "*"
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "textractSyncPolicy8992A727",
        "Roles": [
          {
            "Ref": "dusstacksyncprocessorsdflebku3it5mhafoktntuServiceRole2103124D"
          }
        ]
      },
      "Metadata": {
        "cfn_nag": {
          "rules_to_suppress": [
            {
              "id": "W12",
              "reason": "Currently, some AI services does not support resource level permissions"
            }
          ]
        }
      }
    },
    "textractAsyncPolicy9290AE26": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "textract:StartDocumentTextDetection",
                "textract:StartDocumentAnalysis"
              ],
              "Effect": "Allow",
              "Resource": "*"
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "textractAsyncPolicy9290AE26",
        "Roles": [
          {
            "Ref": "dusstackasyncprocessorsdflebku3it5mhafoktntuServiceRole8C88D996"
          }
        ]
      },
      "Metadata": {
        "cfn_nag": {
          "rules_to_suppress": [
            {
              "id": "W12",
              "reason": "Currently, some AI services does not support resource level permissions"
            }
          ]
        }
      }
    },
    "textractJobResultsPolicy5D19E09A": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "textract:GetDocumentTextDetection",
                "textract:GetDocumentAnalysis"
              ],
              "Effect": "Allow",
              "Resource": "*"
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "textractJobResultsPolicy5D19E09A",
        "Roles": [
          {
            "Ref": "dusstackjobresultprocessorsdflebku3it5mhafoktntuServiceRole6D91BC43"
          }
        ]
      },
      "Metadata": {
        "cfn_nag": {
          "rules_to_suppress": [
            {
              "id": "W12",
              "reason": "Currently, some AI services does not support resource level permissions"
            }
          ]
        }
      }
    },
    "comprehendPolicy3D5B3AB3": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "comprehend:BatchDetectEntities",
                "comprehend:DetectEntities"
              ],
              "Effect": "Allow",
              "Resource": "*"
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "comprehendPolicy3D5B3AB3",
        "Roles": [
          {
            "Ref": "dusstacksyncprocessorsdflebku3it5mhafoktntuServiceRole2103124D"
          },
          {
            "Ref": "dusstackjobresultprocessorsdflebku3it5mhafoktntuServiceRole6D91BC43"
          }
        ]
      },
      "Metadata": {
        "cfn_nag": {
          "rules_to_suppress": [
            {
              "id": "W12",
              "reason": "Currently, some AI services does not support resource level permissions"
            }
          ]
        }
      }
    },
    "comprehendMedicalPolicyCC29C4A5": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "comprehendmedical:InferICD10CM",
                "comprehendmedical:DetectEntitiesV2"
              ],
              "Effect": "Allow",
              "Resource": "*"
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "comprehendMedicalPolicyCC29C4A5",
        "Roles": [
          {
            "Ref": "dusstacksyncprocessorsdflebku3it5mhafoktntuServiceRole2103124D"
          },
          {
            "Ref": "dusstackjobresultprocessorsdflebku3it5mhafoktntuServiceRole6D91BC43"
          }
        ]
      },
      "Metadata": {
        "cfn_nag": {
          "rules_to_suppress": [
            {
              "id": "W12",
              "reason": "Currently, some AI services does not support resource level permissions"
            }
          ]
        }
      }
    },
    "dusstackapiprocessorsdflebku3it5mhafoktntuServiceRole07591138": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com"
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
              ]
            ]
          },
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"
              ]
            ]
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-apiprocessor-sdflebku3it5mhafoktntu/ServiceRole/Resource"
      }
    },
    "dusstackapiprocessorsdflebku3it5mhafoktntuServiceRoleDefaultPolicy0DF2CCE8": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords"
              ],
              "Effect": "Allow",
              "Resource": "*"
            },
            {
              "Action": [
                "dynamodb:BatchGetItem",
                "dynamodb:GetRecords",
                "dynamodb:GetShardIterator",
                "dynamodb:Query",
                "dynamodb:GetItem",
                "dynamodb:Scan",
                "dynamodb:BatchWriteItem",
                "dynamodb:PutItem",
                "dynamodb:UpdateItem",
                "dynamodb:DeleteItem"
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "dusstackdocumentstablesdflebku3it5mhafoktntu62D37F13",
                    "Arn"
                  ]
                },
                {
                  "Ref": "AWS::NoValue"
                }
              ]
            },
            {
              "Action": "dynamodb:DescribeTable",
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "dusstackdocumentstablesdflebku3it5mhafoktntu62D37F13",
                    "Arn"
                  ]
                },
                {
                  "Ref": "AWS::NoValue"
                }
              ]
            },
            {
              "Action": [
                "dynamodb:BatchGetItem",
                "dynamodb:GetRecords",
                "dynamodb:GetShardIterator",
                "dynamodb:Query",
                "dynamodb:GetItem",
                "dynamodb:Scan",
                "dynamodb:BatchWriteItem",
                "dynamodb:PutItem",
                "dynamodb:UpdateItem",
                "dynamodb:DeleteItem"
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "dusstackoutputtablesdflebku3it5mhafoktntu3E55BC3D",
                    "Arn"
                  ]
                },
                {
                  "Ref": "AWS::NoValue"
                }
              ]
            },
            {
              "Action": [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*"
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "dusstackdocumentss3bucketsdflebku3it5mhafoktntu0D5F60CB",
                    "Arn"
                  ]
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "dusstackdocumentss3bucketsdflebku3it5mhafoktntu0D5F60CB",
                          "Arn"
                        ]
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            },
            {
              "Action": [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*"
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "dusstacksampless3bucketsdflebku3it5mhafoktntu85D908C9",
                    "Arn"
                  ]
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "dusstacksampless3bucketsdflebku3it5mhafoktntu85D908C9",
                          "Arn"
                        ]
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            },
            {
              "Action": [
                "es:ESHttpHead",
                "es:Get*",
                "es:List*",
                "es:Describe*",
                "es:ESHttpGet",
                "es:ESHttpDelete",
                "es:ESHttpPost",
                "es:ESHttpPut"
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::Join": [
                  "",
                  [
                    {
                      "Fn::GetAtt": [
                        "dusstackelasticsearchclustersdflebku3it5mhafoktntu",
                        "Arn"
                      ]
                    },
                    "/*"
                  ]
                ]
              }
            },
            {
              "Action": [
                "kms:Decrypt",
                "kms:Encrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey*"
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::GetAtt": [
                  "esEncryptionKey7A7DDC6B",
                  "Arn"
                ]
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "dusstackapiprocessorsdflebku3it5mhafoktntuServiceRoleDefaultPolicy0DF2CCE8",
        "Roles": [
          {
            "Ref": "dusstackapiprocessorsdflebku3it5mhafoktntuServiceRole07591138"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-apiprocessor-sdflebku3it5mhafoktntu/ServiceRole/DefaultPolicy/Resource"
      }
    },
    "dusstackapiprocessorsdflebku3it5mhafoktntuSecurityGroupF5DE866C": {
      "Type": "AWS::EC2::SecurityGroup",
      "Properties": {
        "GroupDescription": "Automatic security group for Lambda Function DUSStackdusstackapiprocessorsdflebku3it5mhafoktntuC93D44DC",
        "SecurityGroupEgress": [
          {
            "CidrIp": "0.0.0.0/0",
            "Description": "Allow all outbound traffic by default",
            "IpProtocol": "-1"
          }
        ],
        "VpcId": {
          "Ref": "dusstackelasticsearchvpcsdflebku3it5mhafoktntuB4A2CB7D"
        }
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-apiprocessor-sdflebku3it5mhafoktntu/SecurityGroup/Resource"
      }
    },
    "dusstackapiprocessorsdflebku3it5mhafoktntu3A54685E": {
      "Type": "AWS::Lambda::Function",
      "Properties": {
        "Code": {
          "S3Bucket": {
            "Ref": "AssetParameters0b79599fa5352e498af90b39a606dcfd30b5002be0d66462be2ab75eaf94e44dS3BucketF845A7E1"
          },
          "S3Key": {
            "Fn::Join": [
              "",
              [
                {
                  "Fn::Select": [
                    0,
                    {
                      "Fn::Split": [
                        "||",
                        {
                          "Ref": "AssetParameters0b79599fa5352e498af90b39a606dcfd30b5002be0d66462be2ab75eaf94e44dS3VersionKey740B33F7"
                        }
                      ]
                    }
                  ]
                },
                {
                  "Fn::Select": [
                    1,
                    {
                      "Fn::Split": [
                        "||",
                        {
                          "Ref": "AssetParameters0b79599fa5352e498af90b39a606dcfd30b5002be0d66462be2ab75eaf94e44dS3VersionKey740B33F7"
                        }
                      ]
                    }
                  ]
                }
              ]
            ]
          }
        },
        "Handler": "lambda_function.lambda_handler",
        "Role": {
          "Fn::GetAtt": [
            "dusstackapiprocessorsdflebku3it5mhafoktntuServiceRole07591138",
            "Arn"
          ]
        },
        "Runtime": "python3.8",
        "Environment": {
          "Variables": {
            "CONTENT_BUCKET": {
              "Ref": "dusstackdocumentss3bucketsdflebku3it5mhafoktntu0D5F60CB"
            },
            "SAMPLE_BUCKET": {
              "Ref": "dusstacksampless3bucketsdflebku3it5mhafoktntu85D908C9"
            },
            "OUTPUT_TABLE": {
              "Ref": "dusstackoutputtablesdflebku3it5mhafoktntu3E55BC3D"
            },
            "DOCUMENTS_TABLE": {
              "Ref": "dusstackdocumentstablesdflebku3it5mhafoktntu62D37F13"
            },
            "ES_DOMAIN": {
              "Fn::GetAtt": [
                "dusstackelasticsearchclustersdflebku3it5mhafoktntu",
                "DomainEndpoint"
              ]
            }
          }
        },
        "Layers": [
          {
            "Ref": "dusstackelasticsearchlayersdflebku3it5mhafoktntu4C4C8E8D"
          },
          {
            "Ref": "dusstackhelperlayersdflebku3it5mhafoktntuCC25FBBF"
          }
        ],
        "ReservedConcurrentExecutions": 30,
        "Timeout": 60,
        "TracingConfig": {
          "Mode": "Active"
        },
        "VpcConfig": {
          "SecurityGroupIds": [
            {
              "Fn::GetAtt": [
                "dusstackapiprocessorsdflebku3it5mhafoktntuSecurityGroupF5DE866C",
                "GroupId"
              ]
            }
          ],
          "SubnetIds": [
            {
              "Ref": "dusstackelasticsearchvpcsdflebku3it5mhafoktntuPrivateSubnet1Subnet85B5A6DE"
            },
            {
              "Ref": "dusstackelasticsearchvpcsdflebku3it5mhafoktntuPrivateSubnet2Subnet8AD16DDF"
            }
          ]
        }
      },
      "DependsOn": [
        "dusstackapiprocessorsdflebku3it5mhafoktntuServiceRoleDefaultPolicy0DF2CCE8",
        "dusstackapiprocessorsdflebku3it5mhafoktntuServiceRole07591138"
      ],
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-apiprocessor-sdflebku3it5mhafoktntu/Resource",
        "aws:asset:path": "asset.0b79599fa5352e498af90b39a606dcfd30b5002be0d66462be2ab75eaf94e44d",
        "aws:asset:property": "Code"
      }
    },
    "dusstackdusapiloggroupsdflebku3it5mhafoktntu133A2DC6": {
      "Type": "AWS::Logs::LogGroup",
      "Properties": {
        "LogGroupName": "dusstack-dusapiloggroup-sdflebku3it5mhafoktntu",
        "RetentionInDays": 731
      },
      "UpdateReplacePolicy": "Retain",
      "DeletionPolicy": "Retain",
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-dusapiloggroup-sdflebku3it5mhafoktntu/Resource"
      }
    },
    "dusstackdusapisdflebku3it5mhafoktntu8024DE0B": {
      "Type": "AWS::ApiGateway::RestApi",
      "Properties": {
        "Name": "dusstack-dusapi-sdflebku3it5mhafoktntu"
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-dusapi-sdflebku3it5mhafoktntu/Resource"
      }
    },
    "dusstackdusapisdflebku3it5mhafoktntuCloudWatchRole8A94CE43": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "apigateway.amazonaws.com"
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs"
              ]
            ]
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-dusapi-sdflebku3it5mhafoktntu/CloudWatchRole/Resource"
      }
    },
    "dusstackdusapisdflebku3it5mhafoktntuAccount2FB7F2BA": {
      "Type": "AWS::ApiGateway::Account",
      "Properties": {
        "CloudWatchRoleArn": {
          "Fn::GetAtt": [
            "dusstackdusapisdflebku3it5mhafoktntuCloudWatchRole8A94CE43",
            "Arn"
          ]
        }
      },
      "DependsOn": [
        "dusstackdusapisdflebku3it5mhafoktntu8024DE0B"
      ],
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-dusapi-sdflebku3it5mhafoktntu/Account"
      }
    },
    "dusstackdusapisdflebku3it5mhafoktntuDeployment7477E78E348daf0def7270e81905e87831641e81": {
      "Type": "AWS::ApiGateway::Deployment",
      "Properties": {
        "RestApiId": {
          "Ref": "dusstackdusapisdflebku3it5mhafoktntu8024DE0B"
        },
        "Description": "Automatically created by the RestApi construct"
      },
      "DependsOn": [
        "dusstackapigwresourcevalidatorsdflebku3it5mhafoktntu6603AE33",
        "dusstackdusapisdflebku3it5mhafoktntudocumentDELETEE396B020",
        "dusstackdusapisdflebku3it5mhafoktntudocumentGET59A7EAF0",
        "dusstackdusapisdflebku3it5mhafoktntudocumentOPTIONSEC71051D",
        "dusstackdusapisdflebku3it5mhafoktntudocumentPOST6C8C55CA",
        "dusstackdusapisdflebku3it5mhafoktntudocument51EDFEE7",
        "dusstackdusapisdflebku3it5mhafoktntudocumentsGET47A493BD",
        "dusstackdusapisdflebku3it5mhafoktntudocumentsOPTIONSAFA6905D",
        "dusstackdusapisdflebku3it5mhafoktntudocuments6555A36D",
        "dusstackdusapisdflebku3it5mhafoktntuOPTIONS71C5B07C",
        "dusstackdusapisdflebku3it5mhafoktnturedactGET3A0BFA1B",
        "dusstackdusapisdflebku3it5mhafoktnturedactOPTIONS8D2BAF74",
        "dusstackdusapisdflebku3it5mhafoktnturedactPOST5F67974C",
        "dusstackdusapisdflebku3it5mhafoktnturedact1BA6E513",
        "dusstackdusapisdflebku3it5mhafoktntusearchGET2D813A3F",
        "dusstackdusapisdflebku3it5mhafoktntusearchOPTIONSD587DA92",
        "dusstackdusapisdflebku3it5mhafoktntusearch46D7F591"
      ],
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-dusapi-sdflebku3it5mhafoktntu/Deployment/Resource"
      }
    },
    "dusstackdusapisdflebku3it5mhafoktntuDeploymentStageprodBD1A9F00": {
      "Type": "AWS::ApiGateway::Stage",
      "Properties": {
        "RestApiId": {
          "Ref": "dusstackdusapisdflebku3it5mhafoktntu8024DE0B"
        },
        "AccessLogSetting": {
          "DestinationArn": {
            "Fn::GetAtt": [
              "dusstackdusapiloggroupsdflebku3it5mhafoktntu133A2DC6",
              "Arn"
            ]
          },
          "Format": "{\"requestId\":\"$context.requestId\",\"ip\":\"$context.identity.sourceIp\",\"user\":\"$context.identity.user\",\"caller\":\"$context.identity.caller\",\"requestTime\":\"$context.requestTime\",\"httpMethod\":\"$context.httpMethod\",\"resourcePath\":\"$context.resourcePath\",\"status\":\"$context.status\",\"protocol\":\"$context.protocol\",\"responseLength\":\"$context.responseLength\"}"
        },
        "DeploymentId": {
          "Ref": "dusstackdusapisdflebku3it5mhafoktntuDeployment7477E78E348daf0def7270e81905e87831641e81"
        },
        "MethodSettings": [
          {
            "DataTraceEnabled": false,
            "HttpMethod": "*",
            "LoggingLevel": "INFO",
            "ResourcePath": "/*"
          }
        ],
        "StageName": "prod"
      },
      "Metadata": {
        "cfn_nag": {
          "rules_to_suppress": [
            {
              "id": "W64",
              "reason": "No usage plan intended"
            }
          ]
        }
      }
    },
    "dusstackdusapisdflebku3it5mhafoktntuOPTIONS71C5B07C": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "HttpMethod": "OPTIONS",
        "ResourceId": {
          "Fn::GetAtt": [
            "dusstackdusapisdflebku3it5mhafoktntu8024DE0B",
            "RootResourceId"
          ]
        },
        "RestApiId": {
          "Ref": "dusstackdusapisdflebku3it5mhafoktntu8024DE0B"
        },
        "AuthorizationType": "NONE",
        "Integration": {
          "IntegrationResponses": [
            {
              "ResponseParameters": {
                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                "method.response.header.Access-Control-Allow-Origin": "'*'",
                "method.response.header.Access-Control-Allow-Credentials": "'false'",
                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE'"
              },
              "StatusCode": "200"
            }
          ],
          "PassthroughBehavior": "NEVER",
          "RequestTemplates": {
            "application/json": "{\"statusCode\": 200}"
          },
          "Type": "MOCK"
        },
        "MethodResponses": [
          {
            "ResponseParameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Methods": true,
              "method.response.header.Access-Control-Allow-Credentials": true,
              "method.response.header.Access-Control-Allow-Origin": true
            },
            "StatusCode": "200"
          }
        ],
        "RequestValidatorId": {
          "Ref": "dusstackapigwresourcevalidatorsdflebku3it5mhafoktntu6603AE33"
        }
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-dusapi-sdflebku3it5mhafoktntu/Default/OPTIONS/Resource"
      }
    },
    "dusstackdusapisdflebku3it5mhafoktntusearch46D7F591": {
      "Type": "AWS::ApiGateway::Resource",
      "Properties": {
        "ParentId": {
          "Fn::GetAtt": [
            "dusstackdusapisdflebku3it5mhafoktntu8024DE0B",
            "RootResourceId"
          ]
        },
        "PathPart": "search",
        "RestApiId": {
          "Ref": "dusstackdusapisdflebku3it5mhafoktntu8024DE0B"
        }
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-dusapi-sdflebku3it5mhafoktntu/Default/search/Resource"
      }
    },
    "dusstackdusapisdflebku3it5mhafoktntusearchOPTIONSD587DA92": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "HttpMethod": "OPTIONS",
        "ResourceId": {
          "Ref": "dusstackdusapisdflebku3it5mhafoktntusearch46D7F591"
        },
        "RestApiId": {
          "Ref": "dusstackdusapisdflebku3it5mhafoktntu8024DE0B"
        },
        "AuthorizationType": "NONE",
        "Integration": {
          "IntegrationResponses": [
            {
              "ResponseParameters": {
                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                "method.response.header.Access-Control-Allow-Origin": "'*'",
                "method.response.header.Access-Control-Allow-Credentials": "'false'",
                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE'"
              },
              "StatusCode": "200"
            }
          ],
          "PassthroughBehavior": "NEVER",
          "RequestTemplates": {
            "application/json": "{\"statusCode\": 200}"
          },
          "Type": "MOCK"
        },
        "MethodResponses": [
          {
            "ResponseParameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Methods": true,
              "method.response.header.Access-Control-Allow-Credentials": true,
              "method.response.header.Access-Control-Allow-Origin": true
            },
            "StatusCode": "200"
          }
        ],
        "RequestValidatorId": {
          "Ref": "dusstackapigwresourcevalidatorsdflebku3it5mhafoktntu6603AE33"
        }
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-dusapi-sdflebku3it5mhafoktntu/Default/search/OPTIONS/Resource"
      }
    },
    "dusstackdusapisdflebku3it5mhafoktntusearchGETApiPermissionDUSStackdusstackdusapisdflebku3it5mhafoktntu06CF2514GETsearch96D8B620": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "dusstackapiprocessorsdflebku3it5mhafoktntu3A54685E",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "dusstackdusapisdflebku3it5mhafoktntu8024DE0B"
              },
              "/",
              {
                "Ref": "dusstackdusapisdflebku3it5mhafoktntuDeploymentStageprodBD1A9F00"
              },
              "/GET/search"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-dusapi-sdflebku3it5mhafoktntu/Default/search/GET/ApiPermission.DUSStackdusstackdusapisdflebku3it5mhafoktntu06CF2514.GET..search"
      }
    },
    "dusstackdusapisdflebku3it5mhafoktntusearchGETApiPermissionTestDUSStackdusstackdusapisdflebku3it5mhafoktntu06CF2514GETsearch52B11790": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "dusstackapiprocessorsdflebku3it5mhafoktntu3A54685E",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "dusstackdusapisdflebku3it5mhafoktntu8024DE0B"
              },
              "/test-invoke-stage/GET/search"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-dusapi-sdflebku3it5mhafoktntu/Default/search/GET/ApiPermission.Test.DUSStackdusstackdusapisdflebku3it5mhafoktntu06CF2514.GET..search"
      }
    },
    "dusstackdusapisdflebku3it5mhafoktntusearchGET2D813A3F": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "HttpMethod": "GET",
        "ResourceId": {
          "Ref": "dusstackdusapisdflebku3it5mhafoktntusearch46D7F591"
        },
        "RestApiId": {
          "Ref": "dusstackdusapisdflebku3it5mhafoktntu8024DE0B"
        },
        "AuthorizationType": "COGNITO_USER_POOLS",
        "AuthorizerId": {
          "Ref": "Authorizer"
        },
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region"
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "dusstackapiprocessorsdflebku3it5mhafoktntu3A54685E",
                    "Arn"
                  ]
                },
                "/invocations"
              ]
            ]
          }
        }
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-dusapi-sdflebku3it5mhafoktntu/Default/search/GET/Resource"
      }
    },
    "dusstackdusapisdflebku3it5mhafoktntudocuments6555A36D": {
      "Type": "AWS::ApiGateway::Resource",
      "Properties": {
        "ParentId": {
          "Fn::GetAtt": [
            "dusstackdusapisdflebku3it5mhafoktntu8024DE0B",
            "RootResourceId"
          ]
        },
        "PathPart": "documents",
        "RestApiId": {
          "Ref": "dusstackdusapisdflebku3it5mhafoktntu8024DE0B"
        }
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-dusapi-sdflebku3it5mhafoktntu/Default/documents/Resource"
      }
    },
    "dusstackdusapisdflebku3it5mhafoktntudocumentsOPTIONSAFA6905D": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "HttpMethod": "OPTIONS",
        "ResourceId": {
          "Ref": "dusstackdusapisdflebku3it5mhafoktntudocuments6555A36D"
        },
        "RestApiId": {
          "Ref": "dusstackdusapisdflebku3it5mhafoktntu8024DE0B"
        },
        "AuthorizationType": "NONE",
        "Integration": {
          "IntegrationResponses": [
            {
              "ResponseParameters": {
                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                "method.response.header.Access-Control-Allow-Origin": "'*'",
                "method.response.header.Access-Control-Allow-Credentials": "'false'",
                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE'"
              },
              "StatusCode": "200"
            }
          ],
          "PassthroughBehavior": "NEVER",
          "RequestTemplates": {
            "application/json": "{\"statusCode\": 200}"
          },
          "Type": "MOCK"
        },
        "MethodResponses": [
          {
            "ResponseParameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Methods": true,
              "method.response.header.Access-Control-Allow-Credentials": true,
              "method.response.header.Access-Control-Allow-Origin": true
            },
            "StatusCode": "200"
          }
        ],
        "RequestValidatorId": {
          "Ref": "dusstackapigwresourcevalidatorsdflebku3it5mhafoktntu6603AE33"
        }
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-dusapi-sdflebku3it5mhafoktntu/Default/documents/OPTIONS/Resource"
      }
    },
    "dusstackdusapisdflebku3it5mhafoktntudocumentsGETApiPermissionDUSStackdusstackdusapisdflebku3it5mhafoktntu06CF2514GETdocuments8A2DFB66": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "dusstackapiprocessorsdflebku3it5mhafoktntu3A54685E",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "dusstackdusapisdflebku3it5mhafoktntu8024DE0B"
              },
              "/",
              {
                "Ref": "dusstackdusapisdflebku3it5mhafoktntuDeploymentStageprodBD1A9F00"
              },
              "/GET/documents"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-dusapi-sdflebku3it5mhafoktntu/Default/documents/GET/ApiPermission.DUSStackdusstackdusapisdflebku3it5mhafoktntu06CF2514.GET..documents"
      }
    },
    "dusstackdusapisdflebku3it5mhafoktntudocumentsGETApiPermissionTestDUSStackdusstackdusapisdflebku3it5mhafoktntu06CF2514GETdocumentsB12CB58F": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "dusstackapiprocessorsdflebku3it5mhafoktntu3A54685E",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "dusstackdusapisdflebku3it5mhafoktntu8024DE0B"
              },
              "/test-invoke-stage/GET/documents"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-dusapi-sdflebku3it5mhafoktntu/Default/documents/GET/ApiPermission.Test.DUSStackdusstackdusapisdflebku3it5mhafoktntu06CF2514.GET..documents"
      }
    },
    "dusstackdusapisdflebku3it5mhafoktntudocumentsGET47A493BD": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "HttpMethod": "GET",
        "ResourceId": {
          "Ref": "dusstackdusapisdflebku3it5mhafoktntudocuments6555A36D"
        },
        "RestApiId": {
          "Ref": "dusstackdusapisdflebku3it5mhafoktntu8024DE0B"
        },
        "AuthorizationType": "COGNITO_USER_POOLS",
        "AuthorizerId": {
          "Ref": "Authorizer"
        },
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region"
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "dusstackapiprocessorsdflebku3it5mhafoktntu3A54685E",
                    "Arn"
                  ]
                },
                "/invocations"
              ]
            ]
          }
        }
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-dusapi-sdflebku3it5mhafoktntu/Default/documents/GET/Resource"
      }
    },
    "dusstackdusapisdflebku3it5mhafoktntudocument51EDFEE7": {
      "Type": "AWS::ApiGateway::Resource",
      "Properties": {
        "ParentId": {
          "Fn::GetAtt": [
            "dusstackdusapisdflebku3it5mhafoktntu8024DE0B",
            "RootResourceId"
          ]
        },
        "PathPart": "document",
        "RestApiId": {
          "Ref": "dusstackdusapisdflebku3it5mhafoktntu8024DE0B"
        }
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-dusapi-sdflebku3it5mhafoktntu/Default/document/Resource"
      }
    },
    "dusstackdusapisdflebku3it5mhafoktntudocumentOPTIONSEC71051D": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "HttpMethod": "OPTIONS",
        "ResourceId": {
          "Ref": "dusstackdusapisdflebku3it5mhafoktntudocument51EDFEE7"
        },
        "RestApiId": {
          "Ref": "dusstackdusapisdflebku3it5mhafoktntu8024DE0B"
        },
        "AuthorizationType": "NONE",
        "Integration": {
          "IntegrationResponses": [
            {
              "ResponseParameters": {
                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                "method.response.header.Access-Control-Allow-Origin": "'*'",
                "method.response.header.Access-Control-Allow-Credentials": "'false'",
                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE'"
              },
              "StatusCode": "200"
            }
          ],
          "PassthroughBehavior": "NEVER",
          "RequestTemplates": {
            "application/json": "{\"statusCode\": 200}"
          },
          "Type": "MOCK"
        },
        "MethodResponses": [
          {
            "ResponseParameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Methods": true,
              "method.response.header.Access-Control-Allow-Credentials": true,
              "method.response.header.Access-Control-Allow-Origin": true
            },
            "StatusCode": "200"
          }
        ],
        "RequestValidatorId": {
          "Ref": "dusstackapigwresourcevalidatorsdflebku3it5mhafoktntu6603AE33"
        }
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-dusapi-sdflebku3it5mhafoktntu/Default/document/OPTIONS/Resource"
      }
    },
    "dusstackdusapisdflebku3it5mhafoktntudocumentGETApiPermissionDUSStackdusstackdusapisdflebku3it5mhafoktntu06CF2514GETdocumentAD913BB4": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "dusstackapiprocessorsdflebku3it5mhafoktntu3A54685E",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "dusstackdusapisdflebku3it5mhafoktntu8024DE0B"
              },
              "/",
              {
                "Ref": "dusstackdusapisdflebku3it5mhafoktntuDeploymentStageprodBD1A9F00"
              },
              "/GET/document"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-dusapi-sdflebku3it5mhafoktntu/Default/document/GET/ApiPermission.DUSStackdusstackdusapisdflebku3it5mhafoktntu06CF2514.GET..document"
      }
    },
    "dusstackdusapisdflebku3it5mhafoktntudocumentGETApiPermissionTestDUSStackdusstackdusapisdflebku3it5mhafoktntu06CF2514GETdocumentBCB87C38": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "dusstackapiprocessorsdflebku3it5mhafoktntu3A54685E",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "dusstackdusapisdflebku3it5mhafoktntu8024DE0B"
              },
              "/test-invoke-stage/GET/document"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-dusapi-sdflebku3it5mhafoktntu/Default/document/GET/ApiPermission.Test.DUSStackdusstackdusapisdflebku3it5mhafoktntu06CF2514.GET..document"
      }
    },
    "dusstackdusapisdflebku3it5mhafoktntudocumentGET59A7EAF0": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "HttpMethod": "GET",
        "ResourceId": {
          "Ref": "dusstackdusapisdflebku3it5mhafoktntudocument51EDFEE7"
        },
        "RestApiId": {
          "Ref": "dusstackdusapisdflebku3it5mhafoktntu8024DE0B"
        },
        "AuthorizationType": "COGNITO_USER_POOLS",
        "AuthorizerId": {
          "Ref": "Authorizer"
        },
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region"
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "dusstackapiprocessorsdflebku3it5mhafoktntu3A54685E",
                    "Arn"
                  ]
                },
                "/invocations"
              ]
            ]
          }
        }
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-dusapi-sdflebku3it5mhafoktntu/Default/document/GET/Resource"
      }
    },
    "dusstackdusapisdflebku3it5mhafoktntudocumentPOSTApiPermissionDUSStackdusstackdusapisdflebku3it5mhafoktntu06CF2514POSTdocument9ABBCC08": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "dusstackapiprocessorsdflebku3it5mhafoktntu3A54685E",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "dusstackdusapisdflebku3it5mhafoktntu8024DE0B"
              },
              "/",
              {
                "Ref": "dusstackdusapisdflebku3it5mhafoktntuDeploymentStageprodBD1A9F00"
              },
              "/POST/document"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-dusapi-sdflebku3it5mhafoktntu/Default/document/POST/ApiPermission.DUSStackdusstackdusapisdflebku3it5mhafoktntu06CF2514.POST..document"
      }
    },
    "dusstackdusapisdflebku3it5mhafoktntudocumentPOSTApiPermissionTestDUSStackdusstackdusapisdflebku3it5mhafoktntu06CF2514POSTdocumentAA771D51": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "dusstackapiprocessorsdflebku3it5mhafoktntu3A54685E",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "dusstackdusapisdflebku3it5mhafoktntu8024DE0B"
              },
              "/test-invoke-stage/POST/document"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-dusapi-sdflebku3it5mhafoktntu/Default/document/POST/ApiPermission.Test.DUSStackdusstackdusapisdflebku3it5mhafoktntu06CF2514.POST..document"
      }
    },
    "dusstackdusapisdflebku3it5mhafoktntudocumentPOST6C8C55CA": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "HttpMethod": "POST",
        "ResourceId": {
          "Ref": "dusstackdusapisdflebku3it5mhafoktntudocument51EDFEE7"
        },
        "RestApiId": {
          "Ref": "dusstackdusapisdflebku3it5mhafoktntu8024DE0B"
        },
        "AuthorizationType": "COGNITO_USER_POOLS",
        "AuthorizerId": {
          "Ref": "Authorizer"
        },
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region"
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "dusstackapiprocessorsdflebku3it5mhafoktntu3A54685E",
                    "Arn"
                  ]
                },
                "/invocations"
              ]
            ]
          }
        }
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-dusapi-sdflebku3it5mhafoktntu/Default/document/POST/Resource"
      }
    },
    "dusstackdusapisdflebku3it5mhafoktntudocumentDELETEApiPermissionDUSStackdusstackdusapisdflebku3it5mhafoktntu06CF2514DELETEdocument6E9BB395": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "dusstackapiprocessorsdflebku3it5mhafoktntu3A54685E",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "dusstackdusapisdflebku3it5mhafoktntu8024DE0B"
              },
              "/",
              {
                "Ref": "dusstackdusapisdflebku3it5mhafoktntuDeploymentStageprodBD1A9F00"
              },
              "/DELETE/document"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-dusapi-sdflebku3it5mhafoktntu/Default/document/DELETE/ApiPermission.DUSStackdusstackdusapisdflebku3it5mhafoktntu06CF2514.DELETE..document"
      }
    },
    "dusstackdusapisdflebku3it5mhafoktntudocumentDELETEApiPermissionTestDUSStackdusstackdusapisdflebku3it5mhafoktntu06CF2514DELETEdocumentB4E70B39": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "dusstackapiprocessorsdflebku3it5mhafoktntu3A54685E",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "dusstackdusapisdflebku3it5mhafoktntu8024DE0B"
              },
              "/test-invoke-stage/DELETE/document"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-dusapi-sdflebku3it5mhafoktntu/Default/document/DELETE/ApiPermission.Test.DUSStackdusstackdusapisdflebku3it5mhafoktntu06CF2514.DELETE..document"
      }
    },
    "dusstackdusapisdflebku3it5mhafoktntudocumentDELETEE396B020": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "HttpMethod": "DELETE",
        "ResourceId": {
          "Ref": "dusstackdusapisdflebku3it5mhafoktntudocument51EDFEE7"
        },
        "RestApiId": {
          "Ref": "dusstackdusapisdflebku3it5mhafoktntu8024DE0B"
        },
        "AuthorizationType": "COGNITO_USER_POOLS",
        "AuthorizerId": {
          "Ref": "Authorizer"
        },
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region"
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "dusstackapiprocessorsdflebku3it5mhafoktntu3A54685E",
                    "Arn"
                  ]
                },
                "/invocations"
              ]
            ]
          }
        }
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-dusapi-sdflebku3it5mhafoktntu/Default/document/DELETE/Resource"
      }
    },
    "dusstackdusapisdflebku3it5mhafoktnturedact1BA6E513": {
      "Type": "AWS::ApiGateway::Resource",
      "Properties": {
        "ParentId": {
          "Fn::GetAtt": [
            "dusstackdusapisdflebku3it5mhafoktntu8024DE0B",
            "RootResourceId"
          ]
        },
        "PathPart": "redact",
        "RestApiId": {
          "Ref": "dusstackdusapisdflebku3it5mhafoktntu8024DE0B"
        }
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-dusapi-sdflebku3it5mhafoktntu/Default/redact/Resource"
      }
    },
    "dusstackdusapisdflebku3it5mhafoktnturedactOPTIONS8D2BAF74": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "HttpMethod": "OPTIONS",
        "ResourceId": {
          "Ref": "dusstackdusapisdflebku3it5mhafoktnturedact1BA6E513"
        },
        "RestApiId": {
          "Ref": "dusstackdusapisdflebku3it5mhafoktntu8024DE0B"
        },
        "AuthorizationType": "NONE",
        "Integration": {
          "IntegrationResponses": [
            {
              "ResponseParameters": {
                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                "method.response.header.Access-Control-Allow-Origin": "'*'",
                "method.response.header.Access-Control-Allow-Credentials": "'false'",
                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE'"
              },
              "StatusCode": "200"
            }
          ],
          "PassthroughBehavior": "NEVER",
          "RequestTemplates": {
            "application/json": "{\"statusCode\": 200}"
          },
          "Type": "MOCK"
        },
        "MethodResponses": [
          {
            "ResponseParameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Methods": true,
              "method.response.header.Access-Control-Allow-Credentials": true,
              "method.response.header.Access-Control-Allow-Origin": true
            },
            "StatusCode": "200"
          }
        ],
        "RequestValidatorId": {
          "Ref": "dusstackapigwresourcevalidatorsdflebku3it5mhafoktntu6603AE33"
        }
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-dusapi-sdflebku3it5mhafoktntu/Default/redact/OPTIONS/Resource"
      }
    },
    "dusstackdusapisdflebku3it5mhafoktnturedactGETApiPermissionDUSStackdusstackdusapisdflebku3it5mhafoktntu06CF2514GETredact79ED4F17": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "dusstackapiprocessorsdflebku3it5mhafoktntu3A54685E",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "dusstackdusapisdflebku3it5mhafoktntu8024DE0B"
              },
              "/",
              {
                "Ref": "dusstackdusapisdflebku3it5mhafoktntuDeploymentStageprodBD1A9F00"
              },
              "/GET/redact"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-dusapi-sdflebku3it5mhafoktntu/Default/redact/GET/ApiPermission.DUSStackdusstackdusapisdflebku3it5mhafoktntu06CF2514.GET..redact"
      }
    },
    "dusstackdusapisdflebku3it5mhafoktnturedactGETApiPermissionTestDUSStackdusstackdusapisdflebku3it5mhafoktntu06CF2514GETredact2463C5E1": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "dusstackapiprocessorsdflebku3it5mhafoktntu3A54685E",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "dusstackdusapisdflebku3it5mhafoktntu8024DE0B"
              },
              "/test-invoke-stage/GET/redact"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-dusapi-sdflebku3it5mhafoktntu/Default/redact/GET/ApiPermission.Test.DUSStackdusstackdusapisdflebku3it5mhafoktntu06CF2514.GET..redact"
      }
    },
    "dusstackdusapisdflebku3it5mhafoktnturedactGET3A0BFA1B": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "HttpMethod": "GET",
        "ResourceId": {
          "Ref": "dusstackdusapisdflebku3it5mhafoktnturedact1BA6E513"
        },
        "RestApiId": {
          "Ref": "dusstackdusapisdflebku3it5mhafoktntu8024DE0B"
        },
        "AuthorizationType": "COGNITO_USER_POOLS",
        "AuthorizerId": {
          "Ref": "Authorizer"
        },
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region"
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "dusstackapiprocessorsdflebku3it5mhafoktntu3A54685E",
                    "Arn"
                  ]
                },
                "/invocations"
              ]
            ]
          }
        }
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-dusapi-sdflebku3it5mhafoktntu/Default/redact/GET/Resource"
      }
    },
    "dusstackdusapisdflebku3it5mhafoktnturedactPOSTApiPermissionDUSStackdusstackdusapisdflebku3it5mhafoktntu06CF2514POSTredact3B16D791": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "dusstackapiprocessorsdflebku3it5mhafoktntu3A54685E",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "dusstackdusapisdflebku3it5mhafoktntu8024DE0B"
              },
              "/",
              {
                "Ref": "dusstackdusapisdflebku3it5mhafoktntuDeploymentStageprodBD1A9F00"
              },
              "/POST/redact"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-dusapi-sdflebku3it5mhafoktntu/Default/redact/POST/ApiPermission.DUSStackdusstackdusapisdflebku3it5mhafoktntu06CF2514.POST..redact"
      }
    },
    "dusstackdusapisdflebku3it5mhafoktnturedactPOSTApiPermissionTestDUSStackdusstackdusapisdflebku3it5mhafoktntu06CF2514POSTredactB4BF9723": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "dusstackapiprocessorsdflebku3it5mhafoktntu3A54685E",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region"
              },
              ":",
              {
                "Ref": "AWS::AccountId"
              },
              ":",
              {
                "Ref": "dusstackdusapisdflebku3it5mhafoktntu8024DE0B"
              },
              "/test-invoke-stage/POST/redact"
            ]
          ]
        }
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-dusapi-sdflebku3it5mhafoktntu/Default/redact/POST/ApiPermission.Test.DUSStackdusstackdusapisdflebku3it5mhafoktntu06CF2514.POST..redact"
      }
    },
    "dusstackdusapisdflebku3it5mhafoktnturedactPOST5F67974C": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "HttpMethod": "POST",
        "ResourceId": {
          "Ref": "dusstackdusapisdflebku3it5mhafoktnturedact1BA6E513"
        },
        "RestApiId": {
          "Ref": "dusstackdusapisdflebku3it5mhafoktntu8024DE0B"
        },
        "AuthorizationType": "COGNITO_USER_POOLS",
        "AuthorizerId": {
          "Ref": "Authorizer"
        },
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region"
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "dusstackapiprocessorsdflebku3it5mhafoktntu3A54685E",
                    "Arn"
                  ]
                },
                "/invocations"
              ]
            ]
          }
        }
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-dusapi-sdflebku3it5mhafoktntu/Default/redact/POST/Resource"
      }
    },
    "dusstackapigwresourcevalidatorsdflebku3it5mhafoktntu6603AE33": {
      "Type": "AWS::ApiGateway::RequestValidator",
      "Properties": {
        "RestApiId": {
          "Ref": "dusstackdusapisdflebku3it5mhafoktntu8024DE0B"
        },
        "ValidateRequestBody": true,
        "ValidateRequestParameters": true
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/dusstack-apigwresourcevalidator-sdflebku3it5mhafoktntu/Resource"
      }
    },
    "Authorizer": {
      "Type": "AWS::ApiGateway::Authorizer",
      "Properties": {
        "RestApiId": {
          "Ref": "dusstackdusapisdflebku3it5mhafoktntu8024DE0B"
        },
        "Type": "COGNITO_USER_POOLS",
        "IdentitySource": "method.request.header.Authorization",
        "Name": "Authorization",
        "ProviderARNs": [
          {
            "Fn::GetAtt": [
              "textractuserpool",
              "Arn"
            ]
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "DUSStack/Authorizer"
      }
    },
    "CDKMetadata": {
      "Type": "AWS::CDK::Metadata",
      "Properties": {
        "Modules": "aws-cdk=1.70.0,@aws-cdk/assets=1.42.0,@aws-cdk/aws-apigateway=1.42.0,@aws-cdk/aws-applicationautoscaling=1.42.0,@aws-cdk/aws-autoscaling-common=1.42.0,@aws-cdk/aws-certificatemanager=1.42.0,@aws-cdk/aws-cloudfront=1.42.0,@aws-cdk/aws-cloudwatch=1.42.0,@aws-cdk/aws-cognito=1.42.0,@aws-cdk/aws-dynamodb=1.42.0,@aws-cdk/aws-ec2=1.42.0,@aws-cdk/aws-elasticsearch=1.42.0,@aws-cdk/aws-events=1.42.0,@aws-cdk/aws-iam=1.42.0,@aws-cdk/aws-kms=1.42.0,@aws-cdk/aws-lambda=1.42.0,@aws-cdk/aws-lambda-event-sources=1.42.0,@aws-cdk/aws-logs=1.42.0,@aws-cdk/aws-s3=1.42.0,@aws-cdk/aws-s3-assets=1.42.0,@aws-cdk/aws-s3-deployment=1.42.0,@aws-cdk/aws-s3-notifications=1.42.0,@aws-cdk/aws-sns=1.42.0,@aws-cdk/aws-sns-subscriptions=1.42.0,@aws-cdk/aws-sqs=1.42.0,@aws-cdk/aws-ssm=1.42.0,@aws-cdk/cdk-assets-schema=1.42.0,@aws-cdk/cloud-assembly-schema=1.42.0,@aws-cdk/core=1.42.0,@aws-cdk/custom-resources=1.42.0,@aws-cdk/cx-api=1.42.0,@aws-cdk/region-info=1.42.0,jsii-runtime=node.js/v12.20.1"
      },
      "Condition": "CDKMetadataAvailable"
    }
  },
  "Parameters": {
    "AssetParameterscc1ca714e664fe644602eb116eb01346aeba2b131cbcf9df004029e6a5749dd2S3Bucket26085418": {
      "Type": "String",
      "Description": "S3 bucket for asset \"cc1ca714e664fe644602eb116eb01346aeba2b131cbcf9df004029e6a5749dd2\""
    },
    "AssetParameterscc1ca714e664fe644602eb116eb01346aeba2b131cbcf9df004029e6a5749dd2S3VersionKeyEC71F580": {
      "Type": "String",
      "Description": "S3 key for asset version \"cc1ca714e664fe644602eb116eb01346aeba2b131cbcf9df004029e6a5749dd2\""
    },
    "AssetParameterscc1ca714e664fe644602eb116eb01346aeba2b131cbcf9df004029e6a5749dd2ArtifactHash2CB91C43": {
      "Type": "String",
      "Description": "Artifact hash for asset \"cc1ca714e664fe644602eb116eb01346aeba2b131cbcf9df004029e6a5749dd2\""
    },
    "AssetParameters9acbc3715f8b660f6ab9fb65adc280fcbde091d8f7d835a0ec52b7446eebac67S3BucketE167FF79": {
      "Type": "String",
      "Description": "S3 bucket for asset \"9acbc3715f8b660f6ab9fb65adc280fcbde091d8f7d835a0ec52b7446eebac67\""
    },
    "AssetParameters9acbc3715f8b660f6ab9fb65adc280fcbde091d8f7d835a0ec52b7446eebac67S3VersionKey9C912232": {
      "Type": "String",
      "Description": "S3 key for asset version \"9acbc3715f8b660f6ab9fb65adc280fcbde091d8f7d835a0ec52b7446eebac67\""
    },
    "AssetParameters9acbc3715f8b660f6ab9fb65adc280fcbde091d8f7d835a0ec52b7446eebac67ArtifactHash01E0E5E4": {
      "Type": "String",
      "Description": "Artifact hash for asset \"9acbc3715f8b660f6ab9fb65adc280fcbde091d8f7d835a0ec52b7446eebac67\""
    },
    "AssetParametersfb24280d1030272e2bda96072728861d38c4227d3a50c89b0b6a7e5d97be2c26S3BucketE408E444": {
      "Type": "String",
      "Description": "S3 bucket for asset \"fb24280d1030272e2bda96072728861d38c4227d3a50c89b0b6a7e5d97be2c26\""
    },
    "AssetParametersfb24280d1030272e2bda96072728861d38c4227d3a50c89b0b6a7e5d97be2c26S3VersionKey8D48E5F3": {
      "Type": "String",
      "Description": "S3 key for asset version \"fb24280d1030272e2bda96072728861d38c4227d3a50c89b0b6a7e5d97be2c26\""
    },
    "AssetParametersfb24280d1030272e2bda96072728861d38c4227d3a50c89b0b6a7e5d97be2c26ArtifactHash69E93F67": {
      "Type": "String",
      "Description": "Artifact hash for asset \"fb24280d1030272e2bda96072728861d38c4227d3a50c89b0b6a7e5d97be2c26\""
    },
    "AssetParameters5491b2e305cfeca7c6f124389b9a015f5cf9cb2822082404be4288aebeda13d0S3BucketA72C262C": {
      "Type": "String",
      "Description": "S3 bucket for asset \"5491b2e305cfeca7c6f124389b9a015f5cf9cb2822082404be4288aebeda13d0\""
    },
    "AssetParameters5491b2e305cfeca7c6f124389b9a015f5cf9cb2822082404be4288aebeda13d0S3VersionKeyF89BF86A": {
      "Type": "String",
      "Description": "S3 key for asset version \"5491b2e305cfeca7c6f124389b9a015f5cf9cb2822082404be4288aebeda13d0\""
    },
    "AssetParameters5491b2e305cfeca7c6f124389b9a015f5cf9cb2822082404be4288aebeda13d0ArtifactHash0814CE34": {
      "Type": "String",
      "Description": "Artifact hash for asset \"5491b2e305cfeca7c6f124389b9a015f5cf9cb2822082404be4288aebeda13d0\""
    },
    "AssetParameters3c55a56cc0d8d0028e752b1fad451e28208b213d6a2d41934088b21f5868ab8dS3Bucket74F361D6": {
      "Type": "String",
      "Description": "S3 bucket for asset \"3c55a56cc0d8d0028e752b1fad451e28208b213d6a2d41934088b21f5868ab8d\""
    },
    "AssetParameters3c55a56cc0d8d0028e752b1fad451e28208b213d6a2d41934088b21f5868ab8dS3VersionKey1C2CD8B9": {
      "Type": "String",
      "Description": "S3 key for asset version \"3c55a56cc0d8d0028e752b1fad451e28208b213d6a2d41934088b21f5868ab8d\""
    },
    "AssetParameters3c55a56cc0d8d0028e752b1fad451e28208b213d6a2d41934088b21f5868ab8dArtifactHashA3C74459": {
      "Type": "String",
      "Description": "Artifact hash for asset \"3c55a56cc0d8d0028e752b1fad451e28208b213d6a2d41934088b21f5868ab8d\""
    },
    "AssetParametersc64f0aefd884e2bb1dffde28585ecc406f60180d97cd57a5e4978075d43cb9c5S3Bucket72A9658B": {
      "Type": "String",
      "Description": "S3 bucket for asset \"c64f0aefd884e2bb1dffde28585ecc406f60180d97cd57a5e4978075d43cb9c5\""
    },
    "AssetParametersc64f0aefd884e2bb1dffde28585ecc406f60180d97cd57a5e4978075d43cb9c5S3VersionKey97906397": {
      "Type": "String",
      "Description": "S3 key for asset version \"c64f0aefd884e2bb1dffde28585ecc406f60180d97cd57a5e4978075d43cb9c5\""
    },
    "AssetParametersc64f0aefd884e2bb1dffde28585ecc406f60180d97cd57a5e4978075d43cb9c5ArtifactHash382E6212": {
      "Type": "String",
      "Description": "Artifact hash for asset \"c64f0aefd884e2bb1dffde28585ecc406f60180d97cd57a5e4978075d43cb9c5\""
    },
    "AssetParameters7e7483c7f6b2d2bcc8221d18711ce19d6dd745532fa6ec00834ca7f2a1db4655S3BucketF0DADEB8": {
      "Type": "String",
      "Description": "S3 bucket for asset \"7e7483c7f6b2d2bcc8221d18711ce19d6dd745532fa6ec00834ca7f2a1db4655\""
    },
    "AssetParameters7e7483c7f6b2d2bcc8221d18711ce19d6dd745532fa6ec00834ca7f2a1db4655S3VersionKeyCB3B9EFC": {
      "Type": "String",
      "Description": "S3 key for asset version \"7e7483c7f6b2d2bcc8221d18711ce19d6dd745532fa6ec00834ca7f2a1db4655\""
    },
    "AssetParameters7e7483c7f6b2d2bcc8221d18711ce19d6dd745532fa6ec00834ca7f2a1db4655ArtifactHashBC5FB2DB": {
      "Type": "String",
      "Description": "Artifact hash for asset \"7e7483c7f6b2d2bcc8221d18711ce19d6dd745532fa6ec00834ca7f2a1db4655\""
    },
    "AssetParameters34f36d262896e10312c0d3292463a75e722b9aa799fe0df73102d981ffee0ce1S3BucketCF6D4253": {
      "Type": "String",
      "Description": "S3 bucket for asset \"34f36d262896e10312c0d3292463a75e722b9aa799fe0df73102d981ffee0ce1\""
    },
    "AssetParameters34f36d262896e10312c0d3292463a75e722b9aa799fe0df73102d981ffee0ce1S3VersionKey2D245692": {
      "Type": "String",
      "Description": "S3 key for asset version \"34f36d262896e10312c0d3292463a75e722b9aa799fe0df73102d981ffee0ce1\""
    },
    "AssetParameters34f36d262896e10312c0d3292463a75e722b9aa799fe0df73102d981ffee0ce1ArtifactHashDEABADF6": {
      "Type": "String",
      "Description": "Artifact hash for asset \"34f36d262896e10312c0d3292463a75e722b9aa799fe0df73102d981ffee0ce1\""
    },
    "AssetParametersf25f5a995f8fe273f547782f35b1e44fb7ac796200b64c568192d0eff7cdc037S3Bucket24012E8B": {
      "Type": "String",
      "Description": "S3 bucket for asset \"f25f5a995f8fe273f547782f35b1e44fb7ac796200b64c568192d0eff7cdc037\""
    },
    "AssetParametersf25f5a995f8fe273f547782f35b1e44fb7ac796200b64c568192d0eff7cdc037S3VersionKeyD31E4EB0": {
      "Type": "String",
      "Description": "S3 key for asset version \"f25f5a995f8fe273f547782f35b1e44fb7ac796200b64c568192d0eff7cdc037\""
    },
    "AssetParametersf25f5a995f8fe273f547782f35b1e44fb7ac796200b64c568192d0eff7cdc037ArtifactHash898AE926": {
      "Type": "String",
      "Description": "Artifact hash for asset \"f25f5a995f8fe273f547782f35b1e44fb7ac796200b64c568192d0eff7cdc037\""
    },
    "AssetParameters0b79599fa5352e498af90b39a606dcfd30b5002be0d66462be2ab75eaf94e44dS3BucketF845A7E1": {
      "Type": "String",
      "Description": "S3 bucket for asset \"0b79599fa5352e498af90b39a606dcfd30b5002be0d66462be2ab75eaf94e44d\""
    },
    "AssetParameters0b79599fa5352e498af90b39a606dcfd30b5002be0d66462be2ab75eaf94e44dS3VersionKey740B33F7": {
      "Type": "String",
      "Description": "S3 key for asset version \"0b79599fa5352e498af90b39a606dcfd30b5002be0d66462be2ab75eaf94e44d\""
    },
    "AssetParameters0b79599fa5352e498af90b39a606dcfd30b5002be0d66462be2ab75eaf94e44dArtifactHashA14325E2": {
      "Type": "String",
      "Description": "Artifact hash for asset \"0b79599fa5352e498af90b39a606dcfd30b5002be0d66462be2ab75eaf94e44d\""
    }
  },
  "Outputs": {
    "dusstackdusapisdflebku3it5mhafoktntuEndpoint83826D17": {
      "Value": {
        "Fn::Join": [
          "",
          [
            "https://",
            {
              "Ref": "dusstackdusapisdflebku3it5mhafoktntu8024DE0B"
            },
            ".execute-api.",
            {
              "Ref": "AWS::Region"
            },
            ".",
            {
              "Ref": "AWS::URLSuffix"
            },
            "/",
            {
              "Ref": "dusstackdusapisdflebku3it5mhafoktntuDeploymentStageprodBD1A9F00"
            },
            "/"
          ]
        ]
      }
    }
  },
  "Conditions": {
    "CDKMetadataAvailable": {
      "Fn::Or": [
        {
          "Fn::Or": [
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "ap-east-1"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "ap-northeast-1"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "ap-northeast-2"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "ap-south-1"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "ap-southeast-1"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "ap-southeast-2"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "ca-central-1"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "cn-north-1"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "cn-northwest-1"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "eu-central-1"
              ]
            }
          ]
        },
        {
          "Fn::Or": [
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "eu-north-1"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "eu-west-1"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "eu-west-2"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "eu-west-3"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "me-south-1"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "sa-east-1"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "us-east-1"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "us-east-2"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "us-west-1"
              ]
            },
            {
              "Fn::Equals": [
                {
                  "Ref": "AWS::Region"
                },
                "us-west-2"
              ]
            }
          ]
        }
      ]
    }
  }
}