{"ast":null,"code":"var __jsx = React.createElement;\n\n/**********************************************************************************************************************\n *  Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.                                           *\n *                                                                                                                    *\n *  Licensed under the Apache License, Version 2.0 (the License). You may not use this file except in compliance    *\n *  with the License. A copy of the License is located at                                                             *\n *                                                                                                                    *\n *      http://www.apache.org/licenses/LICENSE-2.0                                                                    *\n *                                                                                                                    *\n *  or in the 'license' file accompanying this file. This file is distributed on an 'AS IS' BASIS, WITHOUT WARRANTIES *\n *  OR CONDITIONS OF ANY KIND, express or implied. See the License for the specific language governing permissions    *\n *  and limitations under the License.                                                                                *\n *********************************************************************************************************************/\nimport React, { useMemo, useEffect } from 'react';\nimport Button from '../Button/Button';\nimport css from './TableDownloader.scss';\nexport default function TableDownloader(_ref) {\n  var table = _ref.table,\n      rows = _ref.rows;\n  var tableBlob = useMemo(function () {\n    var csv = rows.map(function (row) {\n      return row.map(function (cell) {\n        return cell.content;\n      }).map(function (x) {\n        return \"\\\"\".concat(x.replace(/\"/g, '\"\"'), \"\\\"\");\n      }).join(',');\n    }).join('\\n');\n    return new Blob([\"\\uFEFF\", csv], {\n      type: 'text/csv'\n    });\n  }, [rows]);\n  var url = useMemo(function () {\n    return URL.createObjectURL(tableBlob);\n  }, [tableBlob]);\n  useEffect(function () {\n    return function () {\n      URL.revokeObjectURL(url);\n    };\n  }, [url]);\n  var _table$Geometry$Bound = table.Geometry.BoundingBox,\n      Top = _table$Geometry$Bound.Top,\n      Left = _table$Geometry$Bound.Left,\n      Width = _table$Geometry$Bound.Width,\n      Height = _table$Geometry$Bound.Height;\n  return __jsx(Button, {\n    style: {\n      top: \"\".concat((Top + Height) * 100, \"%\"),\n      left: \"\".concat(Left * 100, \"%\")\n    },\n    className: css.button,\n    download: \"table.csv\",\n    href: url\n  }, \"Download CSV\");\n}","map":null,"metadata":{},"sourceType":"module"}