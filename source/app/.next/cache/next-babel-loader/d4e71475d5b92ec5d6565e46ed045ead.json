{"ast":null,"code":"var __jsx = React.createElement;\n\n/**********************************************************************************************************************\n *  Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.                                           *\n *                                                                                                                    *\n *  Licensed under the Apache License, Version 2.0 (the License). You may not use this file except in compliance    *\n *  with the License. A copy of the License is located at                                                             *\n *                                                                                                                    *\n *      http://www.apache.org/licenses/LICENSE-2.0                                                                    *\n *                                                                                                                    *\n *  or in the 'license' file accompanying this file. This file is distributed on an 'AS IS' BASIS, WITHOUT WARRANTIES *\n *  OR CONDITIONS OF ANY KIND, express or implied. See the License for the specific language governing permissions    *\n *  and limitations under the License.                                                                                *\n *********************************************************************************************************************/\nimport React, { useMemo, useEffect } from 'react';\nimport Button from '../Button/Button';\nimport css from './TableDownloader.scss';\nexport default function TableDownloader({\n  table,\n  rows\n}) {\n  const tableBlob = useMemo(() => {\n    const csv = rows.map(row => {\n      return row.map(cell => cell.content).map(x => `\"${x.replace(/\"/g, '\"\"')}\"`).join(',');\n    }).join('\\n');\n    return new Blob(['\\ufeff', csv], {\n      type: 'text/csv'\n    });\n  }, [rows]);\n  const url = useMemo(() => URL.createObjectURL(tableBlob), [tableBlob]);\n  useEffect(() => {\n    return () => {\n      URL.revokeObjectURL(url);\n    };\n  }, [url]);\n  const {\n    Top,\n    Left,\n    Width,\n    Height\n  } = table.Geometry.BoundingBox;\n  return __jsx(Button, {\n    style: {\n      top: `${(Top + Height) * 100}%`,\n      left: `${Left * 100}%`\n    },\n    className: css.button,\n    download: \"table.csv\",\n    href: url\n  }, \"Download CSV\");\n}","map":null,"metadata":{},"sourceType":"module"}