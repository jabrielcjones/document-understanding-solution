{"ast":null,"code":"var __jsx = React.createElement;\n\n/**********************************************************************************************************************\n *  Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.                                           *\n *                                                                                                                    *\n *  Licensed under the Apache License, Version 2.0 (the License). You may not use this file except in compliance    *\n *  with the License. A copy of the License is located at                                                             *\n *                                                                                                                    *\n *      http://www.apache.org/licenses/LICENSE-2.0                                                                    *\n *                                                                                                                    *\n *  or in the 'license' file accompanying this file. This file is distributed on an 'AS IS' BASIS, WITHOUT WARRANTIES *\n *  OR CONDITIONS OF ANY KIND, express or implied. See the License for the specific language governing permissions    *\n *  and limitations under the License.                                                                                *\n *********************************************************************************************************************/\nimport React, { useCallback, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport cs from \"classnames\";\nimport { getSearchQuery, getSearchStatus, getSearchPersona } from \"../../store/entities/meta/selectors\";\nimport { setSearchStatus, setSearchQuery, setSearchPersona } from \"../../store/entities/meta/actions\";\nimport css from \"./PersonaSelector.scss\";\nimport PersonaInfoModal from \"../PersonaInfoModal/PersonaInfoModal\";\n\nfunction PersonaSelector({\n  dispatch,\n  searchQuery,\n  searchPersona\n}) {\n  const personaChange = useCallback(persona => {\n    dispatch(setSearchPersona(persona));\n  }, [dispatch, searchQuery]);\n  const {\n    0: showingInfoModal,\n    1: setShowingInfoModal\n  } = useState(false);\n  const showInfoModal = useCallback(() => {\n    setShowingInfoModal(true);\n  }, []);\n  const hideInfoModal = useCallback(() => {\n    setShowingInfoModal(false);\n  }, []);\n  const onModalSubmit = useCallback((persona, query) => {\n    personaChange(persona);\n\n    if (query) {\n      dispatch(setSearchQuery(query));\n    }\n\n    setShowingInfoModal(false);\n  }, [personaChange, dispatch]);\n  return __jsx(\"div\", {\n    className: css.container\n  }, __jsx(\"div\", {\n    className: cs(css.filterButton, searchPersona && css.hasFilter),\n    onClick: showInfoModal\n  }, \"Filter\"), showingInfoModal ? __jsx(PersonaInfoModal, {\n    onClose: hideInfoModal,\n    onSubmit: onModalSubmit\n  }) : null);\n}\n\nexport default connect(function mapStateToProps(state) {\n  return {\n    searchQuery: getSearchQuery(state),\n    searchStatus: getSearchStatus(state),\n    searchPersona: getSearchPersona(state)\n  };\n})(PersonaSelector);","map":null,"metadata":{},"sourceType":"module"}